!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=62)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),u=n(2),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.termType=t.termType,e&&e.termType===t.termType&&(e=e.value),!e)throw new Error("Missing IRI for NamedNode");if(!e.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(e.includes(" ")){var o='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(o)}return n.value=e,n}return o(t,e),s(t,[{key:"dir",value:function(){var e=this.uri.split("#")[0],n=e.slice(0,-1).lastIndexOf("/"),r=e.indexOf("//");return r>=0&&n<r+2||n<0?null:new t(e.slice(0,n+1))}},{key:"site",value:function(){var e=this.uri.split("#")[0],n=e.indexOf("//");if(n<0)throw new Error("This URI does not have a web site part (origin)");var r=e.indexOf("/",n+2);if(r<0)throw new Error("This URI does not have a web site part. (origin)");return new t(e.slice(0,r+1))}},{key:"doc",value:function(){return this.uri.indexOf("#")<0?this:new t(this.uri.split("#")[0])}},{key:"toString",value:function(){return"<"+this.uri+">"}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return void 0===e||null===e?e:e&&e.termType?e:new t(e)}}]),t}(u);c.termType="NamedNode",c.prototype.classOrder=l.NamedNode,c.prototype.isVar=0,e.exports=c},function(e,t,n){"use strict";function r(e){var t;return t=e.indexOf("#"),t<0?e:e.slice(0,t)}function i(e){return new c(r(e.uri))}function o(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function a(e,t){var n,r,i,o,a,s=t.indexOf("#");if(s>0&&(t=t.slice(0,s)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return u("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if((i=t.indexOf("/",n+3))<0)return t.length-n-3>0?t+"/"+e:r+e}else if((i=t.indexOf("/",n+1))<0)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,i)+e;if(a=t.slice(i),(o=a.lastIndexOf("/"))<0)return r+e;for(o>=0&&o<a.length-1&&(a=a.slice(0,+o+1||9e9)),a+=e;a.match(/[^\/]*\/\.\.\//);)a=a.replace(/[^\/]*\/\.\.\//,"");return a=a.replace(/\.\//g,""),a=a.replace(/\/\.$/,"/"),t.slice(0,i)+a}function s(e){var t;return t=e.indexOf(":"),t<0?null:e.slice(0,t)}function l(e,t){var n,r,i,o,a,s,l,u,c,f,h,d,p=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=l=0,o=t.length;l<o&&t[n]===e[n];n=++l);if(e.slice(0,n).match(p)&&(r=t.indexOf("//"),r<0&&(r=-2),i=t.indexOf("/",r+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);for(;n>0&&"/"!==t[n-1];)n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(s=0,f=e.slice(n),u=0,a=f.length;u<a;u++)"/"===f[u]&&s++;if(0===s&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===s&&n===t.length)return"./";if(d="",s>0)for(c=1,h=s;h>=1?c<=h:c>=h;h>=1?++c:--c)d+="../";return d+t.slice(n)}var u=u||console.log;e.exports.docpart=r,e.exports.document=i,e.exports.hostpart=o,e.exports.join=a,e.exports.protocol=s,e.exports.refTo=l;var c=n(0)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"substitute",value:function(e){return console.log("@@@ node substitute"+this),this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}]),e}();e.exports=o,o.fromValue=function(e){var t=n(20),r=n(10);n(0);return void 0===e||null===e?e:e&&e.termType?e:Array.isArray(e)?new t(e):r.fromValue(e)}},function(e,t,n){"use strict";(function(e){function t(e,t,n){var r=null;if(void 0!==e.fetcher&&(r=e.fetcher,"NamedNode"===t.termType)){var i,o=m(t.uri);if(t.uri.indexOf("#")<0){if(p(t.uri,"http://dbpedia.org/resource/Category:"))return;p(t.uri,"http://purl.org/dc/elements/1.1/")||p(t.uri,"http://purl.org/dc/terms/")?i="http://dublincore.org/2005/06/13/dcq":p(t.uri,"http://xmlns.com/wot/0.1/")?i="http://xmlns.com/wot/0.1/index.rdf":p(t.uri,"http://web.resource.org/cc/")&&(i="http://web.resource.org/cc/schema.rdf")}if(i&&(o=i),!r||"unrequested"===r.getState(o))return i&&y.warn("Assuming server still broken, faking redirect of <"+t.uri+"> to <"+o+">"),r.fetch(o,{referringTerm:n})}}function r(e,t,n){n||(n=0);var r=e.length;for(n<0&&(n=r+n);n<r;n++)if(e[n]===t)return n;return-1}function i(e,t){e.callbacks={};for(var n=t.length-1;n>=0;n--)e.callbacks[t[n]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,n){e.callbacks[t].push(n)},e.removeCallback=function(t,n){for(var r=0;r<e.callbacks[t].length;r++)if(e.callbacks[t][r].name===n)return e.callbacks[t].splice(r,1),!0;return!1},e.insertCallback=function(t,n){e.callbacks[t].unshift(n)},e.fireCallbacks=function(t,n){var r,i=[],o=[],a=e.callbacks[t].length,s=void 0;for(r=a-1;r>=0;r--)(s=e.callbacks[t][r])&&s.apply(e,n)&&i.push(s);for(r=i.length-1;r>=0;r--)o.push(i[r]);for(r=a;r<e.callbacks[t].length;r++)o.push(e.callbacks[t][r]);e.callbacks[t]=o}}function o(){return tabulator&&tabulator.isExtension?Components.classes["@mozilla.org/xmlextras/domparser;1"].getService(Components.interfaces.nsIDOMParser):window.DOMParser?new DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function a(e,t){t=t||{};var n=[];"selfClosing"in t&&t.selfClosing.split(" ").forEach(function(e){n[e]=!0});var r=[];return"skipAttributes"in t&&t.skipAttributes.split(" ").forEach(function(e){r[e]=!0}),s(e,t,n,r)}function s(e,t,n,r){var i,o="",a=[!1];if(void 0===e.nodeType)return o;if(1===e.nodeType){if(e.hasAttribute("class")&&"classWithChildText"in t&&e.matches(t.classWithChildText.class))o+=e.querySelector(t.classWithChildText.element).textContent;else if(!("skipNodeWithClass"in t&&e.matches("."+t.skipNodeWithClass))){var l=e.nodeName.toLowerCase();o+="<"+l;var u=[];for(i=e.attributes.length-1;i>=0;i--){var c=e.attributes[i];if(!(r.length>0&&r[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&"replaceClassItemWith"in t&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var f=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(f,t.replaceClassItemWith.target).trim()}"class"===c.name&&"skipClassWithValue"in t&&t.skipClassWithValue===c.value||u.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&("sortAttributes"in t&&t.sortAttributes&&u.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}),o+=" "+u.join(" ")),n[l])o+=" />";else{for(o+=">",o+="html"===l?"\n  ":"",a.push("style"===l||"script"===l),i=0;i<e.childNodes.length;i++)o+=s(e.childNodes[i]);a.pop(),o+="body"===l?"</"+l+">\n":"</"+l+">"}}}else if(8===e.nodeType)o+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var h=e.nodeValue.replace(/\n+$/,"");o+=a[a.length-1]?h:h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return o}function l(){var e=new Date,t=e.getYear()+1900,n=e.getMonth()+1,r=e.getDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getSeconds();return n<10&&(n="0"+n),r<10&&(r="0"+r),i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),t+"-"+n+"-"+r+"T"+i+":"+o+":"+a+"Z"}function u(e,t,n,r){var i=function(e){return"BlankNode"===e.termType?null:e},o=function(e){var t=n.statementsMatching(e).map(function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}).concat(n.statementsMatching(void 0,void 0,e).map(function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)}));return t.sort(),t.join("\n")};return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===e.compareTerm(t)?0:o(e)>o(t)?1:o(e)<o(t)?-1:e.compareTerm(t):r&&e.uri&&t.uri?(r[e.uri]||e.uri).localeCompare(r[t.uri]||t.uri):e.compareTerm(t)}function c(e,t,n,r){return u(e.subject,t.subject,n,r)||u(e.predicate,t.predicate,n,r)||u(e.object,t.object,n,r)}function f(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function h(t,r){var i;if(r=r||{},"undefined"!=typeof tabulator&&tabulator.isExtension)i=Components.classes["@mozilla.org/xmlextras/domparser;1"].getService(Components.interfaces.nsIDOMParser);else{if(void 0!==e&&e&&e.exports){var o=n(41).DOMParser;return(new o).parseFromString(t,r.contentType||"application/xhtml+xml")}i="undefined"!=typeof window&&window.DOMParser?new window.DOMParser:new o}return i.parseFromString(t,"application/xml")}function d(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.sameTerm(t.subject)&&e[n].predicate.sameTerm(t.predicate)&&e[n].object.sameTerm(t.object)&&e[n].why.sameTerm(t.why))return void e.splice(n,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function p(e,t){return e.slice(0,t.length)===t}function v(e,t){for(var n=e.split("%s"),r="",i=0;i<t.length;i++)t[i]+="",r+=n[i]+t[i];return r+n.slice(t.length).join()}function g(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var n=e.stack.toString().split("\n"),r=[],i=0;i<n.length;i++){var o=n[i];if(o.indexOf("ecmaunit.js")>-1)break;"("==o.charAt(0)&&(o="function"+o);var a=o.split("@");r.push(a)}for(var i=0;i<r.length;i++)t+="  "+r[i][1]+"\n    "+r[i][0];return t}var m=n(1).docpart,y=n(7),b=n(0);e.exports.AJAR_handleNewTerm=t,e.exports.ArrayIndexOf=r,e.exports.callbackify=i,e.exports.dtstamp=l,e.exports.DOMParserFactory=o,e.exports.domToString=a,e.exports.dumpNode=s,e.exports.heavyCompare=u,e.exports.heavyCompareSPO=c,e.exports.output=f,e.exports.parseXML=h,e.exports.RDFArrayRemove=d,e.exports.stackString=g,e.exports.string_startswith=p,e.exports.string={},e.exports.string.template=v,e.exports.uri=n(1),e.exports.log=y,e.exports.mediaTypeClass=function(e){return e=e.split(";")[0].trim(),new b("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}}).call(t,n(17)(e))},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?v=p.concat(v):m=-1,v.length&&l())}function l(){if(!g){var e=o(s);g=!0;for(var t=v.length;t;){for(p=v,v=[];++m<t;)p&&p[m].run();m=-1,t=v.length}p=null,g=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var f,h,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var p,v=[],g=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new u(e,t)),1!==v.length||g||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),u=n(2),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.termType=t.termType,e){if("string"!=typeof e)throw console.log("Bad blank id:",e),new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var o=e.split("#");e=o[o.length-1]}n.id=e}else n.id="n"+t.nextId++;return n.value=n.id,n}return o(t,e),s(t,[{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var n=new t;return e.copyTo(this,n),n}},{key:"toCanonical",value:function(){return"_:"+this.value}},{key:"toString",value:function(){return t.NTAnonymousNodePrefix+this.id}}]),t}(u);c.nextId=0,c.termType="BlankNode",c.NTAnonymousNodePrefix="_:",c.prototype.classOrder=l.BlankNode,c.prototype.isBlank=1,c.prototype.isVar=1,e.exports=c},function(e,t,n){"use strict";e.exports={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);u.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(e){e.end()}var a=n(21),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var l=n(14);l.inherits=n(12);var u=n(50),c=n(34);l.inherits(r,u);for(var f=s(c.prototype),h=0;h<f.length;h++){var d=f[h];r.prototype[d]||(r.prototype[d]=c.prototype[d])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a(t,e)}},function(e,t,n){"use strict";var r={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7};e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),c=n(0),f=n(2),h=n(40),d=function(e){function t(e,n,o){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.termType=t.termType,a.value=e,n&&(a.lang=n,o=h.langString),o&&(a.datatype=c.fromValue(o)),a}return o(t,e),l(t,[{key:"copy",value:function(){return new t(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}},{key:"toNT",value:function(){if("number"==typeof this.value)return this.toString();if("string"!=typeof this.value)throw new Error("Value of RDF literal is not string or number: "+this.value);var e=this.value;return e=e.replace(/\\/g,"\\\\"),e=e.replace(/\"/g,'\\"'),e=e.replace(/\n/g,"\\n"),e='"'+e+'"',this.language?e+="@"+this.language:this.datatype.equals(h.string)||(e+="^^"+this.datatype.toCanonical()),e}},{key:"toString",value:function(){return""+this.value}},{key:"language",get:function(){return this.lang},set:function(e){this.lang=e||""}}],[{key:"fromBoolean",value:function(e){return new t(e?"1":"0",null,h.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var n=function(e){return(""+(100+e)).slice(1,3)};return new t(e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"Z",null,h.dateTime)}},{key:"fromNumber",value:function(e){if("number"!=typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");var n=void 0,r=e.toString();return n=r.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?h.integer:h.decimal:h.double,new t(r,null,n)}},{key:"fromValue",value:function(e){if(void 0===e||null===e)return e;if("object"===(void 0===e?"undefined":s(e))&&e.termType)return e;switch(void 0===e?"undefined":s(e)){case"object":if(e instanceof Date)return t.fromDate(e);case"boolean":return t.fromBoolean(e);case"number":return t.fromNumber(e);case"string":return new t(e)}throw new Error("Can't make literal from "+e+" of type "+(void 0===e?"undefined":s(e)))}}]),t}(f);d.termType="Literal",d.prototype.classOrder=u.Literal,d.prototype.datatype=h.string,d.prototype.lang="",d.prototype.isVar=0,e.exports=d},function(e,t,n){"use strict"},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(74),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){"use strict";(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function l(e){return"symbol"===(void 0===e?"undefined":m(e))}function u(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function f(e){return"object"===(void 0===e?"undefined":m(e))&&null!==e}function h(e){return"[object Date]"===g(e)}function d(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function v(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":m(e))||void 0===e}function g(e){return Object.prototype.toString.call(e)}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=l,t.isUndefined=u,t.isRegExp=c,t.isObject=f,t.isDate=h,t.isError=d,t.isFunction=p,t.isPrimitive=v,t.isBuffer=e.isBuffer}).call(t,n(53).Buffer)},function(e,t,n){"use strict";function r(e){return function(t){return new i(e+(t||""))}}var i=n(0);e.exports=r},function(e,t,n){"use strict";var r,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===o(t)&&void 0!==e?e.exports=s():(r=s,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i))}(0,function(){function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function n(e,n){return t(e).appendChild(n)}function r(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,n,i){var o=r(e,t,n,i);return o.setAttribute("role","presentation"),o}function a(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function s(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function l(t,n){var r=t.className;e(n).test(r)||(t.className+=(r?" ":"")+n)}function u(t,n){for(var r=t.split(" "),i=0;i<r.length;i++)r[i]&&!e(r[i]).test(n)&&(n+=" "+r[i]);return n}function c(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function f(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function h(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}function d(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function p(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function v(e){for(;Ga.length<=e;)Ga.push(g(Ga)+" ");return Ga[e]}function g(e){return e[e.length-1]}function m(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function y(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function b(){}function w(e,t){var n;return Object.create?n=Object.create(e):(b.prototype=e,n=new b),t&&f(t,n),n}function x(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ya.test(e))}function k(e,t){return t?!!(t.source.indexOf("\\w")>-1&&x(e))||t.test(e):x(e)}function T(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Ja.test(e)}function C(e,t,n){for(;(n<0?t>0:t<e.length)&&S(e.charAt(t));)t+=n;return t}function _(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function E(e,t,n){var o=this;this.input=n,o.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=r("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=r("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=r("div",null,"CodeMirror-cursors"),o.measure=r("div",null,"CodeMirror-measure"),o.lineMeasure=r("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var a=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=r("div",[a],null,"position: relative"),o.sizer=r("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=r("div",null,null,"position: absolute; height: "+Wa+"px; width: 1px;"),o.gutters=r("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=r("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=r("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),ba&&wa<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),xa||va&&Oa||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,n.init(o)}function N(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function L(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function O(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function j(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function A(e){if(null==e.parent)return null;for(var t=e.parent,n=d(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function I(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a],l=s.height;if(t<l)break;t-=l}return n+a}function R(e,t){return t>=e.first&&t<e.first+e.size}function M(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function D(e,t,n){if(void 0===n&&(n=null),!(this instanceof D))return new D(e,t,n);this.line=e,this.ch=t,this.sticky=n}function P(e,t){return e.line-t.line||e.ch-t.ch}function U(e,t){return e.sticky==t.sticky&&0==P(e,t)}function F(e){return D(e.line,e.ch)}function H(e,t){return P(e,t)<0?t:e}function B(e,t){return P(e,t)<0?e:t}function q(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function W(e,t){if(t.line<e.first)return D(e.first,0);var n=e.first+e.size-1;return t.line>n?D(n,N(e,n).text.length):z(t,N(e,t.line).text.length)}function z(e,t){var n=e.ch;return null==n||n>t?D(e.line,t):n<0?D(e.line,0):e}function V(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=W(e,t[r]);return n}function X(){Qa=!0}function $(){Ka=!0}function G(e,t,n){this.marker=e,this.from=t,this.to=n}function Y(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function J(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Q(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function K(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new G(a,o.from,l?null:o.to))}}return r}function Z(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new G(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function ee(e,t){if(t.full)return null;var n=R(e,t.from.line)&&N(e,t.from.line).markedSpans,r=R(e,t.to.line)&&N(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==P(t.from,t.to),s=K(n,i,a),l=Z(r,o,a),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Y(l,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(l)for(var p=0;p<l.length;++p){var v=l[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=Y(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=te(s)),l&&l!=s&&(l=te(l));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new G(s[x].marker,null,null));for(var k=0;k<w;++k)y.push(b);y.push(l)}return y}function te(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function ne(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=d(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[l,1],f=P(u.from,s.from),h=P(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ie(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function oe(e){return e.inclusiveLeft?-1:0}function ae(e){return e.inclusiveRight?1:0}function se(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=P(r.from,i.from)||oe(e)-oe(t);if(o)return-o;var a=P(r.to,i.to)||ae(e)-ae(t);return a||t.id-e.id}function le(e,t){var n,r=Ka&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||se(n,i.marker)<0)&&(n=i.marker);return n}function ue(e){return le(e,!0)}function ce(e){return le(e,!1)}function fe(e,t,n,r,i){var o=N(e,t),a=Ka&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=P(u.from,n)||oe(l.marker)-oe(i),f=P(u.to,r)||ae(l.marker)-ae(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?P(u.to,n)>=0:P(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?P(u.from,r)<=0:P(u.from,r)<0)))return!0}}}function he(e){for(var t;t=ue(e);)e=t.find(-1,!0).line;return e}function de(e){for(var t;t=ce(e);)e=t.find(1,!0).line;return e}function pe(e){for(var t,n;t=ce(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ve(e,t){var n=N(e,t),r=he(n);return n==r?t:A(r)}function ge(e,t){if(t>e.lastLine())return t;var n,r=N(e,t);if(!me(e,r))return t;for(;n=ce(r);)r=n.find(1,!0).line;return A(r)+1}function me(e,t){var n=Ka&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ye(e,t,r))return!0}}function ye(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ye(e,r.line,Y(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ye(e,t,i))return!0}function be(e){e=he(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function we(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=ue(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=ce(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,r=o.to.line,n+=r.text.length-o.to.ch}return n}function xe(e){var t=e.display,n=e.doc;t.maxLine=N(n,n.first),t.maxLineLength=we(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=we(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function ke(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}function Te(e,t,n){var r;Za=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:Za=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:Za=i)}return null!=r?r:Za}function Se(e,t){var n=e.order;return null==n&&(n=e.order=es(e.text,t)),n}function Ce(e,t){return e._handlers&&e._handlers[t]||ts}function _e(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=d(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Ee(e,t){var n=Ce(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Ne(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ee(e,n||t.type,e,t),Re(t)||t.codemirrorIgnore}function Le(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==d(n,t[r])&&n.push(t[r])}function Oe(e,t){return Ce(e,t).length>0}function je(e){e.prototype.on=function(e,t){ns(this,e,t)},e.prototype.off=function(e,t){_e(this,e,t)}}function Ae(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ie(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Re(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Me(e){Ae(e),Ie(e)}function De(e){return e.target||e.srcElement}function Pe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),ja&&e.ctrlKey&&1==t&&(t=3),t}function Ue(e){if(null==Ba){var t=r("span","​");n(e,r("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ba=t.offsetWidth<=1&&t.offsetHeight>2&&!(ba&&wa<8))}var i=Ba?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Fe(e){if(null!=qa)return qa;var r=n(e,document.createTextNode("AخA")),i=Ma(r,0,1).getBoundingClientRect(),o=Ma(r,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(qa=o.right-i.right<3)}function He(e){if(null!=ss)return ss;var t=n(e,r("span","x")),i=t.getBoundingClientRect(),o=Ma(t,0,1).getBoundingClientRect();return ss=Math.abs(i.left-o.left)>1}function Be(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ls[e]=t}function qe(e,t){us[e]=t}function We(e){if("string"==typeof e&&us.hasOwnProperty(e))e=us[e];else if(e&&"string"==typeof e.name&&us.hasOwnProperty(e.name)){var t=us[e.name];"string"==typeof t&&(t={name:t}),e=w(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return We("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return We("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function ze(e,t){t=We(t);var n=ls[t.name];if(!n)return ze(e,"text/plain");var r=n(e,t);if(cs.hasOwnProperty(t.name)){var i=cs[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}function Ve(e,t){f(t,cs.hasOwnProperty(e)?cs[e]:cs[e]={})}function Xe(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function $e(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ge(e,t,n){return!e.startState||e.startState(t,n)}function Ye(e,t,n,r){var i=[e.state.modeGen],o={};rt(e,t.text,e.doc.mode,n,function(e,t){return i.push(e,t)},o,r);for(var a=n.state,s=0;s<e.state.overlays.length;++s)!function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,u=0;n.state=!0,rt(e,t.text,s.mode,n,function(e,t){for(var n=l;u<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1}(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Je(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=Qe(e,A(t)),i=t.text.length>e.options.maxHighlightLength&&Xe(e.doc.mode,r.state),o=Ye(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Qe(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ds(r,!0,t);var o=it(e,t,n),a=o>r.first&&N(r,o-1).stateAfter,s=a?ds.fromSaved(r,a,o):new ds(r,Ge(r.mode),o);return r.iter(o,t,function(n){Ke(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Ke(e,t,n,r){var i=e.doc.mode,o=new fs(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&Ze(i,n.state);!o.eol();)et(i,o,n.state),o.start=o.pos}function Ze(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$e(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function et(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=$e(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function tt(e,t,n,r){var i,o=e.doc,a=o.mode;t=W(o,t);var s,l=N(o,t.line),u=Qe(e,t.line,n),c=new fs(l.text,e.options.tabSize,u);for(r&&(s=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=et(a,c,u.state),r&&s.push(new ps(c,i,Xe(o.mode,u.state)));return r?s:new ps(c,i,u.state)}function nt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function rt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,f=new fs(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&nt(Ze(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&Ke(e,t,r,f.pos),f.pos=t.length,l=null):l=nt(et(n,f,r.state,h),o),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e3),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function it(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=N(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof hs?u.lookAhead:0)<=o.modeFrontier))return s;var c=h(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function ot(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=N(e,r).stateAfter;if(i&&(!(i instanceof hs)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}function at(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ie(e,n);var i=r?r(e):1;i!=e.height&&j(e,i)}function st(e){e.parent=null,re(e)}function lt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ys:ms;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var n=i("span",null,null,xa?"padding-right: .1px":null),r={pre:i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(ba||xa)&&e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,s=void 0;r.pos=0,r.addToken=ft,Fe(e.display.measure)&&(s=Se(a,e.doc.direction))&&(r.addToken=dt(r.addToken,s)),r.map=[];vt(a,r,Je(e,a,t!=e.display.externalMeasured&&A(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=u(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=u(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ue(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(xa){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ee(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=u(r.pre.className,r.textClass||"")),r}function ct(e){var t=r("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ft(e,t,n,i,o,a,s){if(t){var l,u=e.splitSpaces?ht(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){l=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),p=d?d.index-h:t.length-h;if(p){var g=document.createTextNode(u.slice(h,h+p));ba&&wa<9?l.appendChild(r("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+p,g),e.col+=p,e.pos+=p}if(!d)break;h+=p+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=l.appendChild(r("span",v(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=l.appendChild(r("span","\r"==d[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),ba&&wa<9?l.appendChild(r("span",[m])):l.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),ba&&wa<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||i||o||f||s){var w=n||"";i&&(w+=i),o&&(w+=o);var x=r("span",[l],w,s);return a&&(x.title=a),e.content.appendChild(x)}e.content.appendChild(l)}}function ht(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}function dt(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=void 0,h=0;h<t.length&&(f=t[h],!(f.to>u&&f.from<=u));h++);if(f.to>=c)return e(n,r,i,o,a,s,l);e(n,r.slice(0,f.to-u),i,o,null,s,l),o=null,r=r.slice(f.to-u),u=f.to}}}function pt(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function vt(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,u,c,f,h,d=i.length,p=0,v=1,g="",m=0;;){if(m==p){l=u=c=f=s="",h=null,m=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],k=x.marker;"bookmark"==k.type&&x.from==p&&k.widgetNode?y.push(k):x.from<=p&&(null==x.to||x.to>p||k.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&x.from==p&&(c+=" "+k.startStyle),k.endStyle&&x.to==m&&(b||(b=[])).push(k.endStyle,x.to),k.title&&!f&&(f=k.title),k.collapsed&&(!h||se(h.marker,k)<0)&&(h=x)):x.from>p&&m>x.from&&(m=x.from)}if(b)for(var T=0;T<b.length;T+=2)b[T+1]==m&&(u+=" "+b[T]);if(!h||h.from==p)for(var S=0;S<y.length;++S)pt(t,0,y[S]);if(h&&(h.from||0)==p){if(pt(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var C=Math.min(d,m);;){if(g){var _=p+g.length;if(!h){var E=_>C?g.slice(0,C-p):g;t.addToken(t,E,a?a+l:l,c,p+E.length==m?u:"",f,s)}if(_>=C){g=g.slice(C-p),p=C;break}p=_,c=""}g=i.slice(o,o=n[v++]),a=lt(n[v++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,i.slice(o,o=n[N]),lt(n[N+1],t.cm.options))}function gt(e,t,n){this.line=t,this.rest=pe(t),this.size=this.rest?A(g(this.rest))-n+1:1,this.node=this.text=null,this.hidden=me(e,t)}function mt(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new gt(e.doc,N(e.doc,o),o);r=o+a.size,i.push(a)}return i}function yt(e){bs?bs.ops.push(e):e.ownsGroup=bs={ops:[e],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function wt(e,t){var n=e.ownsGroup;if(n)try{bt(n)}finally{bs=null,t(n)}}function xt(e,t){var n=Ce(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);bs?r=bs.delayedCallbacks:ws?r=ws:(r=ws=[],setTimeout(kt,0));for(var o=0;o<n.length;++o)!function(e){r.push(function(){return n[e].apply(null,i)})}(o)}}function kt(){var e=ws;ws=null;for(var t=0;t<e.length;++t)e[t]()}function Tt(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Et(e,t):"gutter"==o?Lt(e,t,n,r):"class"==o?Nt(e,t):"widget"==o&&Ot(e,t,r)}t.changes=null}function St(e){return e.node==e.text&&(e.node=r("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ba&&wa<8&&(e.node.style.zIndex=2)),e.node}function Ct(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var i=St(t);t.background=i.insertBefore(r("div",null,n),i.firstChild),e.display.input.setUneditable(t.background)}}function _t(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ut(e,t)}function Et(e,t){var n=t.text.className,r=_t(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Nt(e,t)):n&&(t.text.className=n)}function Nt(e,t){Ct(e,t),t.line.wrapClass?St(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Lt(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=St(t);t.gutterBackground=r("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var s=St(t),l=t.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),s.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(r("div",M(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=a.hasOwnProperty(c)&&a[c];f&&l.appendChild(r("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ot(e,t,n){t.alignable&&(t.alignable=null);for(var r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,"CodeMirror-linewidget"==r.className&&t.node.removeChild(r);At(e,t,n)}function jt(e,t,n,r){var i=_t(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Nt(e,t),Lt(e,t,n,r),At(e,t,r),t.node}function At(e,t,n){if(It(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)It(e,t.rest[r],t,n,!1)}function It(e,t,n,i,o){if(t.widgets)for(var a=St(n),s=0,l=t.widgets;s<l.length;++s){var u=l[s],c=r("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Rt(u,c,n,i),e.display.input.setUneditable(c),o&&u.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),xt(u,"redraw")}}function Rt(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Mt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!a(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),n(t.display.measure,r("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Dt(e,t){for(var n=De(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Pt(e){return e.lineSpace.offsetTop}function Ut(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ft(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=n(e.measure,r("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Ht(e){return Wa-e.display.nativeBarWidth}function Bt(e){return e.display.scroller.clientWidth-Ht(e)-e.display.barWidth}function qt(e){return e.display.scroller.clientHeight-Ht(e)-e.display.barHeight}function Wt(e,t,n){var r=e.options.lineWrapping,i=r&&Bt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function zt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(A(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Vt(e,t){t=he(t);var r=A(t),i=e.display.externalMeasured=new gt(e.doc,t,r);i.lineN=r;var o=i.built=ut(e,i);return i.text=o.pre,n(e.display.lineMeasure,o.pre),i}function Xt(e,t,n,r){return Yt(e,Gt(e,t),n,r)}function $t(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[En(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Gt(e,t){var n=A(t),r=$t(e,n);r&&!r.text?r=null:r&&r.changes&&(Tt(e,r,n,kn(e)),e.curOp.forceUpdate=!0),r||(r=Vt(e,t));var i=zt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Yt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Wt(e,t.view,t.rect),t.hasHeights=!0),o=Kt(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Jt(e,t,n){for(var r,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?(i=t-s,o=i+1):(u==e.length-3||t==l&&e[u+3]>t)&&(o=l-s,i=o-1,t>=l&&(a="right")),null!=i){if(r=e[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Qt(e,t){var n=xs;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Kt(e,t,n,r){var i,o=Jt(t.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&S(t.line.text.charAt(o.coverStart+l));)++l;if(i=ba&&wa<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Qt(Ma(a,s,l).getClientRects(),r),i.left||i.right||0==s)break;l=s,s-=1,u="right"}ba&&wa<11&&(i=Zt(e.display.measure,i))}else{s>0&&(u=r="right");var f;i=e.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(ba&&wa<9&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+xn(e.display),top:h.top,bottom:h.bottom}:xs}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,v=(d+p)/2,g=t.view.measure.heights,m=0;m<g.length-1&&!(v<g[m]);m++);var y=m?g[m-1]:0,b=g[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Zt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!He(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function en(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function tn(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)en(e.display.view[n])}function nn(e){tn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function rn(){return Ta&&La?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function on(){return Ta&&La?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function an(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Mt(e.widgets[n]));return t}function sn(e,t,n,r,i){if(!i){var o=an(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=be(t);if("local"==r?a+=Pt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:on());var l=s.left+("window"==r?0:rn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function ln(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=rn(),i-=on();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function un(e,t,n,r,i){return r||(r=N(e.doc,t.line)),sn(e,r,Xt(e,r,t.ch,i),n)}function cn(e,t,n,r,i,o){function a(t,a){var s=Yt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,sn(e,r,s,n)}function s(e,t,n){var r=l[t],i=1==r.level;return a(n?e-1:e,i!=n)}r=r||N(e.doc,t.line),i||(i=Gt(e,r));var l=Se(r,e.doc.direction),u=t.ch,c=t.sticky;if(u>=r.text.length?(u=r.text.length,c="before"):u<=0&&(u=0,c="after"),!l)return a("before"==c?u-1:u,"before"==c);var f=Te(l,u,c),h=Za,d=s(u,f,"before"==c);return null!=h&&(d.other=s(u,h,"before"!=c)),d}function fn(e,t){var n=0;t=W(e.doc,t),e.options.lineWrapping||(n=xn(e.display)*t.ch);var r=N(e.doc,t.line),i=be(r)+Pt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function hn(e,t,n,r,i){var o=D(e,t,n);return o.xRel=i,r&&(o.outside=!0),o}function dn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return hn(r.first,0,null,!0,-1);var i=I(r,n),o=r.first+r.size-1;if(i>o)return hn(r.first+r.size-1,N(r,o).text.length,null,!0,1);t<0&&(t=0);for(var a=N(r,i);;){var s=mn(e,a,i,t,n),l=ce(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=A(a=u.to.line)}}function pn(e,t,n,r){r-=an(t);var i=t.text.length,o=_(function(t){return Yt(e,n,t-1).bottom<=r},i,0);return i=_(function(t){return Yt(e,n,t).top>r},o,i),{begin:o,end:i}}function vn(e,t,n,r){return n||(n=Gt(e,t)),pn(e,t,n,sn(e,t,Yt(e,n,r),"line").top)}function gn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function mn(e,t,n,r,i){i-=be(t);var o=Gt(e,t),a=an(t),s=0,l=t.text.length,u=!0,c=Se(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?bn:yn)(e,t,n,o,c,r,i);u=1!=f.level,s=u?f.from:f.to-1,l=u?f.to:f.from-1}var h,d,p=null,v=null,g=_(function(t){var n=Yt(e,o,t);return n.top+=a,n.bottom+=a,!!gn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,v=n),!0)},s,l),m=!1;if(v){var y=r-v.left<v.right-r,b=y==u;g=p+(b?0:1),d=b?"after":"before",h=y?v.left:v.right}else{u||g!=l&&g!=s||g++,d=0==g?"after":g==t.text.length?"before":Yt(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var w=cn(e,D(n,g,d),"line",t,o);h=w.left,m=i<w.top||i>=w.bottom}return g=C(t.text,g,1),hn(n,g,d,m,r-h)}function yn(e,t,n,r,i,o,a){var s=_(function(s){var l=i[s],u=1!=l.level;return gn(cn(e,D(n,u?l.to:l.from,u?"before":"after"),"line",t,r),o,a,!0)},0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=cn(e,D(n,u?l.from:l.to,u?"after":"before"),"line",t,r);gn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function bn(e,t,n,r,i,o,a){var s=pn(e,t,r,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=l)){var p=1!=d.level,v=Yt(e,r,p?Math.min(u,d.to)-1:Math.max(l,d.from)).right,g=v<o?o-v+1e9:v-o;(!c||f>g)&&(c=d,f=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function wn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==gs){gs=r("pre");for(var i=0;i<49;++i)gs.appendChild(document.createTextNode("x")),gs.appendChild(r("br"));gs.appendChild(document.createTextNode("x"))}n(e.measure,gs);var o=gs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function xn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=r("span","xxxxxxxxxx"),i=r("pre",[t]);n(e.measure,i);var o=t.getBoundingClientRect(),a=(o.right-o.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function kn(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[a]]=o.clientWidth;return{fixedPos:Tn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Tn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Sn(e){var t=wn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/xn(e.display)-3);return function(i){if(me(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Cn(e){var t=e.doc,n=Sn(e);t.iter(function(e){var t=n(e);t!=e.height&&j(e,t)})}function _n(e,t,n,r){var i=e.display;if(!n&&"true"==De(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,u=dn(e,o,a);if(r&&1==u.xRel&&(l=N(e.doc,u.line).text).length==u.ch){var c=h(l,l.length,e.options.tabSize)-l.length;u=D(u.line,Math.max(0,Math.round((o-Ft(e.display).left)/xn(e.display))-c))}return u}function En(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Nn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ln(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&On(e,s.head,i),l||An(e,s,o)}}return r}function On(e,t,n){var i=cn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(r("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var a=n.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=i.other.left+"px",a.style.top=i.other.top+"px",a.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function jn(e,t){return e.top-t.top||e.left-t.left}function An(e,t,n){function i(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),l.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?f-e:n)+"px;\n                             height: "+(i-t)+"px"))}function o(t,n,r){function o(n,r){return un(e,D(t,n),"div",d,r)}function a(t,n,r){var i=vn(e,d,null,t),a="ltr"==n==("after"==r)?"left":"right";return o("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),a)[a]}var l,u,d=N(s,t),p=d.text.length,v=Se(d,s.direction);return ke(v,n||0,null==r?p:r,function(e,t,s,d){var g="ltr"==s,m=o(e,g?"left":"right"),y=o(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==p,x=0==d,k=!v||d==v.length-1;if(y.top-m.top<=3){var T=(h?b:w)&&x,S=(h?w:b)&&k,C=T?c:(g?m:y).left,_=S?f:(g?y:m).right;i(C,m.top,_-C,m.bottom)}else{var E,N,L,O;g?(E=h&&b&&x?c:m.left,N=h?f:a(e,s,"before"),L=h?c:a(t,s,"after"),O=h&&w&&k?f:y.right):(E=h?a(e,s,"before"):c,N=!h&&b&&x?f:m.right,L=!h&&w&&k?c:y.left,O=h?a(t,s,"after"):f),i(E,m.top,N-E,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(L,y.top,O-L,y.bottom)}(!l||jn(m,l)<0)&&(l=m),jn(y,l)<0&&(l=y),(!u||jn(m,u)<0)&&(u=m),jn(y,u)<0&&(u=y)}),{start:l,end:u}}var a=e.display,s=e.doc,l=document.createDocumentFragment(),u=Ft(e.display),c=u.left,f=Math.max(a.sizerWidth,Bt(e)-a.sizer.offsetLeft)-u.right,h="ltr"==s.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var v=N(s,d.line),g=N(s,p.line),m=he(v)==he(g),y=o(d.line,d.ch,m?v.text.length+1:null).end,b=o(p.line,m?0:null,p.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}n.appendChild(l)}function In(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rn(e){e.state.focused||(e.display.input.focus(),Dn(e))}function Mn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Pn(e))},100)}function Dn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ee(e,"focus",e,t),e.state.focused=!0,l(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),xa&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),In(e))}function Pn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ee(e,"blur",e,t),e.state.focused=!1,Ua(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Un(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=void 0;if(!i.hidden){if(ba&&wa<8){var a=i.node.offsetTop+i.node.offsetHeight;o=a-n,n=a}else{var s=i.node.getBoundingClientRect();o=s.bottom-s.top}var l=i.line.height-o;if(o<2&&(o=wn(t)),(l>.005||l<-.005)&&(j(i.line,o),Fn(i.line),i.rest))for(var u=0;u<i.rest.length;u++)Fn(i.rest[u])}}}function Fn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Hn(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Pt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=I(t,r),a=I(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=I(t,be(N(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=I(t,be(N(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Bn(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Tn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function qn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=M(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var o=i.measure.appendChild(r("div",[r("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,s=o.offsetWidth-a;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(a,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Ir(e),!0}return!1}function Wn(e,t){if(!Ne(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Ea){var a=r("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Pt(e.display))+"px;\n                         height: "+(t.bottom-t.top+Ht(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function zn(e,t,n,r){null==r&&(r=0);var i;e.options.lineWrapping||t!=n||(t=t.ch?D(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,n="before"==t.sticky?D(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=cn(e,t),l=n&&n!=t?cn(e,n):s;i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r};var u=Xn(e,i),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(Zn(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(tr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return i}function Vn(e,t){var n=Xn(e,t);null!=n.scrollTop&&Zn(e,n.scrollTop),null!=n.scrollLeft&&tr(e,n.scrollLeft)}function Xn(e,t){var n=e.display,r=wn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=qt(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Ut(n),l=t.top<r,u=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=Bt(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(a.scrollLeft=t.right+(d?0:10)-h),a}function $n(e,t){null!=t&&(Qn(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Gn(e){Qn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Yn(e,t,n){null==t&&null==n||Qn(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Jn(e,t){Qn(e),e.curOp.scrollToPos=t}function Qn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;Kn(e,fn(e,t.from),fn(e,t.to),t.margin)}}function Kn(e,t,n,r){var i=Xn(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Yn(e,i.scrollLeft,i.scrollTop)}function Zn(e,t){Math.abs(e.doc.scrollTop-t)<2||(va||jr(e,{top:t}),er(e,t,!0),va&&jr(e),Sr(e,100))}function er(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function tr(e,t,n,r){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Bn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function nr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ut(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ht(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function rr(e,t){t||(t=nr(e));var n=e.display.barWidth,r=e.display.barHeight;ir(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Un(e),ir(e,nr(e)),n=e.display.barWidth,r=e.display.barHeight}function ir(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function or(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ua(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ss[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ns(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?tr(e,t):Zn(e,t)},e),e.display.scrollbars.addClass&&l(e.display.wrapper,e.display.scrollbars.addClass)}function ar(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Cs},yt(e.curOp)}function sr(e){wt(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;lr(e)})}function lr(e){for(var t=e.ops,n=0;n<t.length;n++)ur(t[n]);for(var r=0;r<t.length;r++)cr(t[r]);for(var i=0;i<t.length;i++)fr(t[i]);for(var o=0;o<t.length;o++)hr(t[o]);for(var a=0;a<t.length;a++)dr(t[a])}function ur(e){var t=e.cm,n=t.display;_r(t),e.updateMaxLine&&xe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new _s(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function cr(e){e.updatedDisplay=e.mustUpdate&&Lr(e.cm,e.update)}function fr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Un(t),e.barMeasure=nr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Xt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ht(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Bt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function hr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&tr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==s();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&rr(t,e.barMeasure),e.updatedDisplay&&Rr(t,e.barMeasure),e.selectionChanged&&In(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Rn(e.cm)}function dr(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Or(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&er(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&tr(t,e.scrollLeft,!0,!0),e.scrollToPos){Wn(t,zn(t,W(r,e.scrollToPos.from),W(r,e.scrollToPos.to),e.scrollToPos.margin))}var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||Ee(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&Ee(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ee(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pr(e,t){if(e.curOp)return t();ar(e);try{return t()}finally{sr(e)}}function vr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ar(e);try{return t.apply(e,arguments)}finally{sr(e)}}}function gr(e){return function(){if(this.curOp)return e.apply(this,arguments);ar(this);try{return e.apply(this,arguments)}finally{sr(this)}}}function mr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ar(t);try{return e.apply(this,arguments)}finally{sr(t)}}}function yr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ka&&ve(e.doc,t)<i.viewTo&&wr(e);else if(n<=i.viewFrom)Ka&&ge(e.doc,n+r)>i.viewFrom?wr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)wr(e);else if(t<=i.viewFrom){var o=xr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):wr(e)}else if(n>=i.viewTo){var a=xr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):wr(e)}else{var s=xr(e,t,t,-1),l=xr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(mt(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):wr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function br(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[En(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==d(a,n)&&a.push(n)}}}function wr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function xr(e,t,n,r){var i,o=En(e,t),a=e.display.view;if(!Ka||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;ve(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function kr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=mt(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=mt(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(En(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(mt(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,En(e,n)))),r.viewTo=n}function Tr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Sr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,c(Cr,e))}function Cr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Qe(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Xe(t.mode,r.state):null,l=Ye(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Ke(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Sr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&pr(e,function(){for(var t=0;t<i.length;t++)br(e,i[t],"text")})}}function _r(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ht(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ht(e)+"px",t.scrollbarsClipped=!0)}function Er(e){if(e.hasFocus())return null;var t=s();if(!t||!a(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&a(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Nr(e){if(e&&e.activeElt&&e.activeElt!=s()&&(e.activeElt.focus(),e.anchorNode&&a(document.body,e.anchorNode)&&a(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Lr(e,n){var r=e.display,i=e.doc;if(n.editorIsHidden)return wr(e),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Tr(e))return!1;qn(e)&&(wr(e),n.dims=kn(e));var o=i.first+i.size,a=Math.max(n.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,n.visible.to+e.options.viewportMargin);r.viewFrom<a&&a-r.viewFrom<20&&(a=Math.max(i.first,r.viewFrom)),r.viewTo>s&&r.viewTo-s<20&&(s=Math.min(o,r.viewTo)),Ka&&(a=ve(e.doc,a),s=ge(e.doc,s));var l=a!=r.viewFrom||s!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;kr(e,a,s),r.viewOffset=be(N(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var u=Tr(e);if(!l&&0==u&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var c=Er(e);return u>4&&(r.lineDiv.style.display="none"),Ar(e,r.updateLineNumbers,n.dims),u>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Nr(c),t(r.cursorDiv),t(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,l&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,Sr(e,400)),r.updateLineNumbers=null,!0}function Or(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Bt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Ut(e.display)-qt(e),n.top)}),t.visible=Hn(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&Lr(e,t);r=!1){Un(e);var i=nr(e);Nn(e),rr(e,i),Rr(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function jr(e,t){var n=new _s(e,t);if(Lr(e,n)){Un(e),Or(e,n);var r=nr(e);Nn(e),rr(e,r),Rr(e,r),n.finish()}}function Ar(e,n,r){function i(t){var n=t.nextSibling;return xa&&ja&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var o=e.display,a=e.options.lineNumbers,s=o.lineDiv,l=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var h=u[f];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;l!=h.node;)l=i(l);var p=a&&null!=n&&n<=c&&h.lineNumber;h.changes&&(d(h.changes,"gutter")>-1&&(p=!1),Tt(e,h,c,r)),p&&(t(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(M(e.options,c)))),l=h.node.nextSibling}else{var v=jt(e,h,c,r);s.insertBefore(v,l)}c+=h.size}for(;l;)l=i(l)}function Ir(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Rr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ht(e)+"px"}function Mr(e){var n=e.display.gutters,i=e.options.gutters;t(n);for(var o=0;o<i.length;++o){var a=i[o],s=n.appendChild(r("div",null,"CodeMirror-gutter "+a));"CodeMirror-linenumbers"==a&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}n.style.display=o?"":"none",Ir(e)}function Dr(e){var t=d(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function Pr(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function Ur(e){var t=Pr(e);return t.x*=Ns,t.y*=Ns,t}function Fr(e,t){var n=Pr(t),r=n.x,i=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&ja&&xa)e:for(var u=t.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!va&&!Sa&&null!=Ns)return i&&l&&Zn(e,Math.max(0,a.scrollTop+i*Ns)),tr(e,Math.max(0,a.scrollLeft+r*Ns)),(!i||i&&l)&&Ae(t),void(o.wheelStartX=null);if(i&&null!=Ns){var h=i*Ns,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),jr(e,{top:d,bottom:p})}Es<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Ns=(Ns*Es+n)/(Es+1),++Es)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Hr(e,t){var n=e[t];e.sort(function(e,t){return P(e.from(),t.from())}),t=d(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(P(o.to(),i.from())>=0){var a=B(o.from(),i.from()),s=H(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=t&&--t,e.splice(--r,2,new Os(l?s:a,l?a:s))}}return new Ls(e,t)}function Br(e,t){return new Ls([new Os(e,t||e)],0)}function qr(e){return e.text?D(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Wr(e,t){if(P(e,t.from)<0)return e;if(P(e,t.to)<=0)return qr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=qr(t).ch-t.to.ch),D(n,r)}function zr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new Os(Wr(i.anchor,t),Wr(i.head,t)))}return Hr(n,e.sel.primIndex)}function Vr(e,t,n){return e.line==t.line?D(n.line,e.ch-t.ch+n.ch):D(n.line+(e.line-t.line),e.ch)}function Xr(e,t,n){for(var r=[],i=D(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=Vr(s.from,i,o),u=Vr(qr(s),i,o);if(i=s.to,o=u,"around"==n){var c=e.sel.ranges[a],f=P(c.head,c.anchor)<0;r[a]=new Os(f?u:l,f?l:u)}else r[a]=new Os(l,l)}return new Ls(r,e.sel.primIndex)}function $r(e){e.doc.mode=ze(e.options,e.doc.modeOption),Gr(e)}function Gr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Sr(e,100),e.state.modeGen++,e.curOp&&yr(e)}function Yr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Jr(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){at(e,n,i,r),xt(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new vs(u[o],i(o),r));return n}var s=t.from,l=t.to,u=t.text,c=N(e,s.line),f=N(e,l.line),h=g(u),d=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(Yr(e,t)){var v=a(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),d);else{var m=a(1,u.length-1);m.push(new vs(h+c.text.slice(l.ch),d,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),d);var y=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Qr(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Kr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Cn(e),$r(e),Zr(e),e.options.lineWrapping||xe(e),e.options.mode=t.modeOption,yr(e)}function Zr(e){("rtl"==e.doc.direction?l:Ua)(e.display.lineDiv,"CodeMirror-rtl")}function ei(e){pr(e,function(){Zr(e),yr(e)})}function ti(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ni(e,t){var n={from:F(t.from),to:qr(t),text:L(e,t.from,t.to)};return ui(e,n,t.from.line,t.to.line+1),Qr(e,function(e){return ui(e,n,t.from.line,t.to.line+1)},!0),n}function ri(e){for(;e.length;){if(!g(e).ranges)break;e.pop()}}function ii(e,t){return t?(ri(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function oi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ii(i,i.lastOp==r)))a=g(o.changes),0==P(t.from,t.to)&&0==P(t.from,a.to)?a.to=qr(t):o.changes.push(ni(e,t));else{var l=g(i.done);for(l&&l.ranges||li(e.sel,i.done),o={changes:[ni(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||Ee(e,"historyAdded")}function ai(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function si(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ai(e,o,g(i.done),t))?i.done[i.done.length-1]=t:li(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ri(i.undone)}function li(e,t){var n=g(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ui(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function ci(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function fi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(ci(n[i]));return r}function hi(e,t){var n=fi(e,t),r=ee(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function di(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Ls.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&d(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return r}function pi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=P(t,i)<0;o!=P(n,i)<0?(i=t,t=n):o!=P(t,n)<0&&(t=n)}return new Os(i,t)}return new Os(n||t,t)}function vi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),xi(e,new Ls([pi(e.sel.primary(),t,n,i)],0),r)}function gi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=pi(e.sel.ranges[o],t[o],null,i);xi(e,Hr(r,e.sel.primIndex),n)}function mi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,xi(e,Hr(i,e.sel.primIndex),r)}function yi(e,t,n,r){xi(e,Br(t,n),r)}function bi(e,t,n){var r={ranges:t.ranges,update:function(t){var n=this;this.ranges=[];for(var r=0;r<t.length;r++)n.ranges[r]=new Os(W(e,t[r].anchor),W(e,t[r].head))},origin:n&&n.origin};return Ee(e,"beforeSelectionChange",e,r),e.cm&&Ee(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Hr(r.ranges,r.ranges.length-1):t}function wi(e,t,n){var r=e.history.done,i=g(r);i&&i.ranges?(r[r.length-1]=t,ki(e,t,n)):xi(e,t,n)}function xi(e,t,n){ki(e,t,n),si(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function ki(e,t,n){(Oe(e,"beforeSelectionChange")||e.cm&&Oe(e.cm,"beforeSelectionChange"))&&(t=bi(e,t,n)),Ti(e,Ci(e,t,n&&n.bias||(P(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Gn(e.cm)}function Ti(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Le(e.cm)),xt(e,"cursorActivity",e))}function Si(e){Ti(e,Ci(e,e.sel,null,!1))}function Ci(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Ei(e,a.anchor,s&&s.anchor,n,r),u=Ei(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Os(l,u))}return i?Hr(i,t.primIndex):t}function _i(e,t,n,r,i){var o=N(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Ee(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(r<0?1:-1),c=void 0;if((r<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ni(e,u,-r,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=P(u,n))&&(r<0?c<0:c>0))return _i(e,u,t,r,i)}var f=l.find(r<0?-1:1);return(r<0?l.inclusiveLeft:l.inclusiveRight)&&(f=Ni(e,f,r,f.line==t.line?o:null)),f?_i(e,f,t,r,i):null}}return t}function Ei(e,t,n,r,i){var o=r||1,a=_i(e,t,n,o,i)||!i&&_i(e,t,n,o,!0)||_i(e,t,n,-o,i)||!i&&_i(e,t,n,-o,!0);return a||(e.cantEdit=!0,D(e.first,0))}function Ni(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?W(e,D(t.line-1)):null:n>0&&t.ch==(r||N(e,t.line)).text.length?t.line<e.first+e.size-1?D(t.line+1,0):null:new D(t.line,t.ch+n)}function Li(e){e.setSelection(D(e.firstLine(),0),D(e.lastLine()),Va)}function Oi(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=W(e,t)),n&&(r.to=W(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),Ee(e,"beforeChange",e,r),e.cm&&Ee(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ji(e,t,n){if(e.cm){if(!e.cm.curOp)return vr(e.cm,ji)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"))||(t=Oi(e,t,!0))){var r=Qa&&!n&&ne(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Ai(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Ai(e,t)}}function Ai(e,t){if(1!=t.text.length||""!=t.text[0]||0!=P(t.from,t.to)){var n=zr(e,t);oi(e,t,n,e.cm?e.cm.curOp.id:NaN),Mi(e,t,n,ee(e,t));var r=[];Qr(e,function(e,n){n||-1!=d(r,e.history)||(Hi(e.history,t),r.push(e.history)),Mi(e,t,null,ee(e,t))})}}function Ii(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(li(r,s),n&&!r.equals(e.sel))return void xi(e,r,{clearRedo:!1});o=r}var u=[];li(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Oe(e,"beforeChange")||e.cm&&Oe(e.cm,"beforeChange"),f=r.changes.length-1;f>=0;--f){var h=function(n){var i=r.changes[n];if(i.origin=t,c&&!Oi(e,i,!1))return a.length=0,{};u.push(ni(e,i));var o=n?zr(e,i):g(a);Mi(e,i,o,hi(e,i)),!n&&e.cm&&e.cm.scrollIntoView({from:i.from,to:qr(i)});var s=[];Qr(e,function(e,t){t||-1!=d(s,e.history)||(Hi(e.history,i),s.push(e.history)),Mi(e,i,null,hi(e,i))})}(f);if(h)return h.v}}}}function Ri(e,t){if(0!=t&&(e.first+=t,e.sel=new Ls(m(e.sel.ranges,function(e){return new Os(D(e.anchor.line+t,e.anchor.ch),D(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){yr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)br(e.cm,r,"gutter")}}function Mi(e,t,n,r){if(e.cm&&!e.cm.curOp)return vr(e.cm,Mi)(e,t,n,r);if(t.to.line<e.first)return void Ri(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Ri(e,i),t={from:D(e.first,0),to:D(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:D(o,N(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=L(e,t.from,t.to),n||(n=zr(e,t)),e.cm?Di(e.cm,t,r):Jr(e,t,r),ki(e,n,Va)}}function Di(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=A(he(N(r,o.line))),r.iter(l,a.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Le(e),Jr(r,t,n,Sn(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,function(e){var t=we(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),ot(r,o.line),Sr(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?yr(e):o.line!=a.line||1!=t.text.length||Yr(e.doc,t)?yr(e,o.line,a.line+1,u):br(e,o.line,"text");var c=Oe(e,"changes"),f=Oe(e,"change");if(f||c){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&xt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Pi(e,t,n,r,i){if(r||(r=n),P(r,n)<0){var o;o=[r,n],n=o[0],r=o[1]}"string"==typeof t&&(t=e.splitLines(t)),ji(e,{from:n,to:r,text:t,origin:i})}function Ui(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Fi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Ui(o.ranges[s].anchor,t,n,r),Ui(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=D(u.from.line+r,u.from.ch),u.to=D(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Hi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Fi(e.done,n,r,i),Fi(e.undone,n,r,i)}function Bi(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=N(e,q(e,t)):i=A(t),null==i?null:(r(o,i)&&e.cm&&br(e.cm,i,n),o)}function qi(e){var t=this;this.lines=e,this.parent=null;for(var n=0,r=0;r<e.length;++r)e[r].parent=t,n+=e[r].height;this.height=n}function Wi(e){var t=this;this.children=e;for(var n=0,r=0,i=0;i<e.length;++i){var o=e[i];n+=o.chunkSize(),r+=o.height,o.parent=t}this.size=n,this.height=r,this.parent=null}function zi(e,t,n){be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&$n(e,n)}function Vi(e,t,n,r){var i=new js(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Bi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!me(e,t)){var r=be(t)<e.scrollTop;j(t,t.height+Mt(i)),r&&$n(o,i.height),o.curOp.forceUpdate=!0}return!0}),xt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:A(t)),i}function Xi(e,t,n,r,o){if(r&&r.shared)return $i(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return vr(e.cm,Xi)(e,t,n,r,o);var a=new Is(e,o),s=P(t,n);if(r&&f(r,a,!1),s>0||0==s&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=i("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(fe(e,t.line,t,n,a)||t.line!=n.line&&fe(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");$()}a.addToHistory&&oi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,u=t.line,c=e.cm;if(e.iter(u,n.line+1,function(e){c&&a.collapsed&&!c.options.lineWrapping&&he(e)==c.display.maxLine&&(l=!0),a.collapsed&&u!=t.line&&j(e,0),Q(e,new G(a,u==t.line?t.ch:null,u==n.line?n.ch:null)),++u}),a.collapsed&&e.iter(t.line,n.line+1,function(t){me(e,t)&&j(t,0)}),a.clearOnEnter&&ns(a,"beforeCursorEnter",function(){return a.clear()}),a.readOnly&&(X(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++As,a.atomic=!0),c){if(l&&(c.curOp.updateMaxLine=!0),a.collapsed)yr(c,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle||a.css)for(var h=t.line;h<=n.line;h++)br(c,h,"text");a.atomic&&Si(c.doc),xt(c,"markerAdded",c,a)}return a}function $i(e,t,n,r,i){r=f(r),r.shared=!1;var o=[Xi(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Qr(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Xi(e,W(e,t),W(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=g(o)}),new Rs(o,a)}function Gi(e){return e.findMarks(D(e.first,0),e.clipPos(D(e.lastLine())),function(e){return e.parent})}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(P(o,a)){var s=Xi(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Ji(e){for(var t=0;t<e.length;t++)!function(t){var n=e[t],r=[n.primary.doc];Qr(n.primary.doc,function(e){return r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==d(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}(t)}function Qi(e){var t=this;if(eo(t),!Ne(t,e)&&!Dt(t.display,e)){Ae(e),ba&&(Ps=+new Date);var n=_n(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=0;s<i;++s)!function(e,r){if(!t.options.allowDropFileTypes||-1!=d(t.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=vr(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++a==i){n=W(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};ji(t.doc,l),wi(t.doc,Br(n,qr(l)))}}),s.readAsText(e)}}(r[s],s);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var u;if(t.state.draggingText&&!t.state.draggingText.copy&&(u=t.listSelections()),ki(t.doc,Br(n,n)),u)for(var c=0;c<u.length;++c)Pi(t.doc,"",u[c].anchor,u[c].head,"drag");t.replaceSelection(l,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Ki(e,t){if(ba&&(!e.state.draggingText||+new Date-Ps<100))return void Me(t);if(!Ne(e,t)&&!Dt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Ca)){var n=r("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Sa&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Sa&&n.parentNode.removeChild(n)}}function Zi(e,t){var i=_n(e,t);if(i){var o=document.createDocumentFragment();On(e,i,o),e.display.dragCursor||(e.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),n(e.display.dragCursor,o)}}function eo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function to(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function no(){Us||(ro(),Us=!0)}function ro(){var e;ns(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,to(io)},100))}),ns(window,"blur",function(){return to(Pn)})}function io(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function oo(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,a=0;a<t.length-1;a++){var s=t[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function ao(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=m(n.split(" "),oo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function so(e,t,n,r){t=fo(t);var i=t.call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return so(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=so(e,t.fallthrough[o],n,r);if(a)return a}}}function lo(e){var t="string"==typeof e?e:Fs[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function uo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(Da?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(Da?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function co(e,t){if(Sa&&34==e.keyCode&&e.char)return!1;var n=Fs[e.keyCode];return null!=n&&!e.altGraphKey&&uo(n,e,t)}function fo(e){return"string"==typeof e?Ws[e]:e}function ho(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&P(o.from,g(r).to)<=0;){var a=r.pop();if(P(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}pr(e,function(){for(var t=r.length-1;t>=0;t--)Pi(e.doc,"",r[t].from,r[t].to,"+delete");Gn(e)})}function po(e,t,n){var r=C(e.text,t+n,n);return r<0||r>e.text.length?null:r}function vo(e,t,n){var r=po(e,t.ch,n);return null==r?null:new D(t.line,r,n<0?"after":"before")}function go(e,t,n,r,i){if(e){var o=Se(n,t.doc.direction);if(o){var a,s=i<0?g(o):o[0],l=i<0==(1==s.level),u=l?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Gt(t,n);a=i<0?n.text.length-1:0;var f=Yt(t,c,a).top;a=_(function(e){return Yt(t,c,e).top==f},i<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=po(n,a,1))}else a=i<0?s.to:s.from;return new D(r,a,u)}}return new D(r,i<0?n.text.length:0,i<0?"before":"after")}function mo(e,t,n,r){var i=Se(t,e.doc.direction);if(!i)return vo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=Te(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return vo(t,n,r);var s,l=function(e,n){return po(t,e instanceof D?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(s=s||Gt(e,t),vn(e,t,s,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==r<0,h=l(n,f?1:-1);if(null!=h&&(f?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var d=f?"before":"after";return new D(n.line,h,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new D(n.line,l(e,1),"before"):new D(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},v=p(o+r,r,c);if(v)return v;var g=r>0?c.end:l(c.begin,-1);return null==g||r>0&&g==t.text.length||!(v=p(r>0?0:i.length-1,r,u(g)))?null:v}function yo(e,t){var n=N(e.doc,t),r=he(n);return r!=n&&(t=A(r)),go(!0,e,r,t,1)}function bo(e,t){var n=N(e.doc,t),r=de(n);return r!=n&&(t=A(r)),go(!0,e,n,t,-1)}function wo(e,t){var n=yo(e,t.line),r=N(e.doc,n.line),i=Se(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return D(n.line,a?0:o,n.sticky)}return n}function xo(e,t,n){if("string"==typeof t&&!(t=zs[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=za}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ko(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=so(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&so(t,e.options.extraKeys,n,e)||so(t,e.options.keyMap,n,e)}function To(e,t,n,r){var i=e.state.keySeq;if(i){if(lo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Vs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),So(e,i+" "+t,n,r))return!0}return So(e,t,n,r)}function So(e,t,n,r){var i=ko(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&xt(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(Ae(n),In(e)),!!i}function Co(e,t){var n=co(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?To(e,"Shift-"+n,t,function(t){return xo(e,t,!0)})||To(e,n,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return xo(e,t)}):To(e,n,t,function(t){return xo(e,t)}))}function _o(e,t,n){return To(e,"'"+n+"'",t,function(t){return xo(e,t,!0)})}function Eo(e){var t=this;if(t.curOp.focus=s(),!Ne(t,e)){ba&&wa<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Co(t,e);Sa&&(Xs=r?n:null,!r&&88==n&&!as&&(ja?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||No(t)}}function No(e){function t(e){18!=e.keyCode&&e.altKey||(Ua(n,"CodeMirror-crosshair"),_e(document,"keyup",t),_e(document,"mouseover",t))}var n=e.display.lineDiv;l(n,"CodeMirror-crosshair"),ns(document,"keyup",t),ns(document,"mouseover",t)}function Lo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function Oo(e){var t=this;if(!(Dt(t.display,e)||Ne(t,e)||e.ctrlKey&&!e.altKey||ja&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Sa&&n==Xs)return Xs=null,void Ae(e);if(!Sa||e.which&&!(e.which<10)||!Co(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(_o(t,e,i)||t.display.input.onKeyPress(e))}}}function jo(e,t){var n=+new Date;return Ys&&Ys.compare(n,e,t)?(Gs=Ys=null,"triple"):Gs&&Gs.compare(n,e,t)?(Ys=new $s(n,e,t),Gs=null,"double"):(Gs=new $s(n,e,t),Ys=null,"single")}function Ao(e){var t=this,n=t.display;if(!(Ne(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Dt(n,e))return void(xa||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100)));if(!Bo(t,e)){var r=_n(t,e),i=Pe(e),o=r?jo(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&Io(t,i,r,o,e)||(1==i?r?Mo(t,r,o,e):De(e)==n.scroller&&Ae(e):2==i?(r&&vi(t.doc,r),setTimeout(function(){return n.input.focus()},20)):3==i&&(Pa?qo(t,e):Mn(t)))}}}function Io(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,To(e,uo(o,i),i,function(t){if("string"==typeof t&&(t=zs[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=za}finally{e.state.suppressEdits=!1}return r})}function Ro(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=Aa?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=ja?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(ja?n.altKey:n.ctrlKey)),i}function Mo(e,t,n,r){ba?setTimeout(c(Rn,e),0):e.curOp.focus=s();var i,o=Ro(e,n,r),a=e.doc.sel;e.options.dragDrop&&rs&&!e.isReadOnly()&&"single"==n&&(i=a.contains(t))>-1&&(P((i=a.ranges[i]).from(),t)<0||t.xRel>0)&&(P(i.to(),t)>0||t.xRel<0)?Do(e,r,t,o):Uo(e,r,t,o)}function Do(e,t,n,r){var i=e.display,o=!1,a=vr(e,function(t){xa&&(i.scroller.draggable=!1),e.state.draggingText=!1,_e(document,"mouseup",a),_e(document,"mousemove",s),_e(i.scroller,"dragstart",l),_e(i.scroller,"drop",a),o||(Ae(t),r.addNew||vi(e.doc,n,null,null,r.extend),xa||ba&&9==wa?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},l=function(){return o=!0};xa&&(i.scroller.draggable=!0),e.state.draggingText=a,a.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),ns(document,"mouseup",a),ns(document,"mousemove",s),ns(i.scroller,"dragstart",l),ns(i.scroller,"drop",a),Mn(e),setTimeout(function(){return i.input.focus()},20)}function Po(e,t,n){if("char"==n)return new Os(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Os(D(t.line,0),W(e.doc,D(t.line+1,0)));var r=n(e,t);return new Os(r.from,r.to)}function Uo(e,t,n,r){function i(t){if(0!=P(m,t))if(m=t,"rectangle"==r.unit){for(var i=[],o=e.options.tabSize,a=h(N(u,n.line).text,n.ch,o),s=h(N(u,t.line).text,t.ch,o),l=Math.min(a,s),v=Math.max(a,s),g=Math.min(n.line,t.line),y=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=y;g++){var b=N(u,g).text,w=p(b,l,o);l==v?i.push(new Os(D(g,w),D(g,w))):b.length>w&&i.push(new Os(D(g,w),D(g,p(b,v,o))))}i.length||i.push(new Os(n,n)),xi(u,Hr(d.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,k=c,T=Po(e,t,r.unit),S=k.anchor;P(T.anchor,S)>0?(x=T.head,S=B(k.from(),T.anchor)):(x=T.anchor,S=H(k.to(),T.head));var C=d.ranges.slice(0);C[f]=Fo(e,new Os(W(u,S),x)),xi(u,Hr(C,f),Xa)}}function o(t){var n=++b,a=_n(e,t,!0,"rectangle"==r.unit);if(a)if(0!=P(a,m)){e.curOp.focus=s(),i(a);var c=Hn(l,u);(a.line>=c.to||a.line<c.from)&&setTimeout(vr(e,function(){b==n&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(vr(e,function(){b==n&&(l.scroller.scrollTop+=f,o(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,Ae(t),l.input.focus(),_e(document,"mousemove",w),_e(document,"mouseup",x),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ae(t);var c,f,d=u.sel,v=d.ranges;if(r.addNew&&!r.extend?(f=u.sel.contains(n),c=f>-1?v[f]:new Os(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),"rectangle"==r.unit)r.addNew||(c=new Os(n,n)),n=_n(e,t,!0,!0),f=-1;else{var g=Po(e,n,r.unit);c=r.extend?pi(c,g.anchor,g.head,r.extend):g}r.addNew?-1==f?(f=v.length,xi(u,Hr(v.concat([c]),f),{scroll:!1,origin:"*mouse"})):v.length>1&&v[f].empty()&&"char"==r.unit&&!r.extend?(xi(u,Hr(v.slice(0,f).concat(v.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),d=u.sel):mi(u,f,c,Xa):(f=0,xi(u,new Ls([c],0),Xa),d=u.sel);var m=n,y=l.wrapper.getBoundingClientRect(),b=0,w=vr(e,function(e){Pe(e)?o(e):a(e)}),x=vr(e,a);e.state.selectingText=x,ns(document,"mousemove",w),ns(document,"mouseup",x)}function Fo(e,t){var n=t.anchor,r=t.head,i=N(e.doc,n.line);if(0==P(n,r)&&n.sticky==r.sticky)return t;var o=Se(i);if(!o)return t;var a=Te(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==o.length)return t;var u;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Te(o,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var h=o[l+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,v=d?"after":"before";return n.ch==p&&n.sticky==v?t:new Os(new D(n.line,p,v),r)}function Ho(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ae(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Oe(e,n))return Re(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){return Ee(e,n,e,I(e.doc,o),e.options.gutters[l],t),Re(t)}}}function Bo(e,t){return Ho(e,t,"gutterClick",!0)}function qo(e,t){Dt(e.display,t)||Wo(e,t)||Ne(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function Wo(e,t){return!!Oe(e,"gutterContextMenu")&&Ho(e,t,"gutterContextMenu",!1)}function zo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),nn(e)}function Vo(e){Mr(e),yr(e),Bn(e)}function Xo(e,t,n){if(!t!=!(n&&n!=Js)){var r=e.display.dragFunctions,i=t?ns:_e;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function $o(e){e.options.lineWrapping?(l(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ua(e.display.wrapper,"CodeMirror-wrap"),xe(e)),Cn(e),yr(e),nn(e),setTimeout(function(){return rr(e)},100)}function Go(e,t){var n=this;if(!(this instanceof Go))return new Go(e,t);this.options=t=t?f(t):{},f(Qs,t,!1),Dr(t);var r=t.value;"string"==typeof r&&(r=new Ds(r,t.mode,null,t.lineSeparator,t.direction)),this.doc=r;var i=new Go.inputStyles[t.inputStyle](this),o=this.display=new E(e,r,i);o.wrapper.CodeMirror=this,Mr(this),zo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),or(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ha,keySeq:null,specialChars:null},t.autofocus&&!Oa&&o.input.focus(),ba&&wa<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Yo(this),no(),ar(this),this.curOp.forceUpdate=!0,Kr(this,r),t.autofocus&&!Oa||this.hasFocus()?setTimeout(c(Dn,this),20):Pn(this);for(var a in Ks)Ks.hasOwnProperty(a)&&Ks[a](n,t[a],Js);qn(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Zs.length;++s)Zs[s](n);sr(this),xa&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Yo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;ns(i.scroller,"mousedown",vr(e,Ao)),ba&&wa<11?ns(i.scroller,"dblclick",vr(e,function(t){if(!Ne(e,t)){var n=_n(e,t);if(n&&!Bo(e,t)&&!Dt(e.display,t)){Ae(t);var r=e.findWordAt(n);vi(e.doc,r.anchor,r.head)}}})):ns(i.scroller,"dblclick",function(t){return Ne(e,t)||Ae(t)}),Pa||ns(i.scroller,"contextmenu",function(t){return qo(e,t)});var o,a={end:0};ns(i.scroller,"touchstart",function(t){if(!Ne(e,t)&&!n(t)&&!Bo(e,t)){i.input.ensurePolled(),clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ns(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ns(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Dt(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new Os(s,s):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(s):new Os(D(s.line,0),W(e.doc,D(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),Ae(n)}t()}),ns(i.scroller,"touchcancel",t),ns(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Zn(e,i.scroller.scrollTop),tr(e,i.scroller.scrollLeft,!0),Ee(e,"scroll",e))}),ns(i.scroller,"mousewheel",function(t){return Fr(e,t)}),ns(i.scroller,"DOMMouseScroll",function(t){return Fr(e,t)}),ns(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ne(e,t)||Me(t)},over:function(t){Ne(e,t)||(Zi(e,t),Me(t))},start:function(t){return Ki(e,t)},drop:vr(e,Qi),leave:function(t){Ne(e,t)||eo(e)}};var s=i.input.getField();ns(s,"keyup",function(t){return Lo.call(e,t)}),ns(s,"keydown",vr(e,Eo)),ns(s,"keypress",vr(e,Oo)),ns(s,"focus",function(t){return Dn(e,t)}),ns(s,"blur",function(t){return Pn(e,t)})}function Jo(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Qe(e,t).state:n="prev");var a=e.options.tabSize,s=N(o,t),l=h(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==za||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?h(N(o,t-1).text,null,a):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)d+=a,f+="\t";if(d<u&&(f+=v(u-d)),f!=c)return Pi(o,f,D(t,0),D(t,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<o.sel.ranges.length;g++){var m=o.sel.ranges[g];if(m.head.line==t&&m.head.ch<c.length){var y=D(t,c.length);mi(o,g,new Os(y,y));break}}}function Qo(e){el=e}function Ko(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=e.state.pasteIncoming||"paste"==i,s=is(t),l=null;if(a&&r.ranges.length>1)if(el&&el.text.join("\n")==t){if(r.ranges.length%el.text.length==0){l=[];for(var u=0;u<el.text.length;u++)l.push(o.splitLines(el.text[u]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(l=m(s,function(e){return[e]}));for(var c,f=r.ranges.length-1;f>=0;f--){var h=r.ranges[f],d=h.from(),p=h.to();h.empty()&&(n&&n>0?d=D(d.line,d.ch-n):e.state.overwrite&&!a?p=D(p.line,Math.min(N(o,p.line).text.length,p.ch+g(s).length)):el&&el.lineWise&&el.text.join("\n")==t&&(d=p=D(d.line,0))),c=e.curOp.updateInput;var v={from:d,to:p,text:l?l[f%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};ji(e.doc,v),xt(e,"inputRead",e,v)}t&&!a&&ea(e,t),Gn(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Zo(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||pr(t,function(){return Ko(t,n,0,null,"paste")}),!0}function ea(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=Jo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(N(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Jo(e,i.head.line,"smart"));a&&xt(e,"electricInput",e,i.head.line)}}}function ta(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:D(i,0),head:D(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function na(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function ra(){var e=r("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=r("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xa?e.style.width="1000px":e.setAttribute("wrap","off"),Na&&(e.style.border="1px solid black"),na(e),t}function ia(e,t,n,r,i){function o(){var r=t.line+n;return!(r<e.first||r>=e.first+e.size)&&(t=new D(r,t.ch,t.sticky),u=N(e,r))}function a(r){var a;if(null==(a=i?mo(e.cm,u,t,n):vo(u,t,n))){if(r||!o())return!1;t=go(i,e.cm,u,t.line,n)}else t=a;return!0}var s=t,l=n,u=N(e,t.line);if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(n<0)||a(!d);d=!1){var p=u.text.charAt(t.ch)||"\n",v=k(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||v||(v="s"),c&&c!=v){n<0&&(n=1,a(),t.sticky="after");break}if(v&&(c=v),n>0&&!a(!d))break}var g=Ei(e,t,s,l,!0);return U(s,g)&&(g.hitSide=!0),g}function oa(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*wn(e.display),3);i=(n>0?t.bottom:t.top)+n*l}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(var u;u=dn(e,a,i),u.outside;){if(n<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function aa(e,t){var n=$t(e,t.line);if(!n||n.hidden)return null;var r=N(e.doc,t.line),i=zt(n,r,t.line),o=Se(r,e.doc.direction),a="left";if(o){a=Te(o,t.ch)%2?"right":"left"}var s=Jt(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function sa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function la(e,t){return t&&(e.bad=!0),e}function ua(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function a(){c&&(u+=f,c=!1)}function s(e){e&&(a(),u+=e)}function l(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return void s(n||t.textContent.replace(/\u200b/g,""));var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(D(r,0),D(i+1,0),o(+h));return void(d.length&&(u=d[0].find(0))&&s(L(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p)$/i.test(t.nodeName);p&&a();for(var v=0;v<t.childNodes.length;v++)l(t.childNodes[v]);p&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue)}for(var u="",c=!1,f=e.doc.lineSeparator();l(t),t!=n;)t=t.nextSibling;return u}function ca(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return la(e.clipPos(D(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return fa(o,t,n)}}function fa(e,t,n){function r(t,n,r){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var l=A(i<0?e.line:e.rest[i]),u=o[a]+r;return(r<0||s!=t)&&(u=o[a+(r?1:0)]),D(l,u)}}}var i=e.text.firstChild,o=!1;if(!t||!a(i,t))return la(D(A(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?g(e.rest):e.line;return la(D(A(s),s.text.length),o)}var l=3==t.nodeType?t:null,u=t;for(l||1!=t.childNodes.length||3!=t.firstChild.nodeType||(l=t.firstChild,n&&(n=l.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,h=r(l,u,n);if(h)return la(h,o);for(var d=u.nextSibling,p=l?l.nodeValue.length-n:0;d;d=d.nextSibling){if(h=r(d,d.firstChild,0))return la(D(h.line,h.ch-p),o);p+=d.textContent.length}for(var v=u.previousSibling,m=n;v;v=v.previousSibling){if(h=r(v,v.firstChild,-1))return la(D(h.line,h.ch+m),o);m+=v.textContent.length}}function ha(e,t){function n(){e.value=l.getValue()}if(t=t?f(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=s();t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}var i;if(e.form&&(ns(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(t){t.save=n,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,n(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(_e(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var l=Go(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return l}var da=navigator.userAgent,pa=navigator.platform,va=/gecko\/\d/i.test(da),ga=/MSIE \d/.test(da),ma=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(da),ya=/Edge\/(\d+)/.exec(da),ba=ga||ma||ya,wa=ba&&(ga?document.documentMode||6:+(ya||ma)[1]),xa=!ya&&/WebKit\//.test(da),ka=xa&&/Qt\/\d+\.\d+/.test(da),Ta=!ya&&/Chrome\//.test(da),Sa=/Opera\//.test(da),Ca=/Apple Computer/.test(navigator.vendor),_a=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(da),Ea=/PhantomJS/.test(da),Na=!ya&&/AppleWebKit/.test(da)&&/Mobile\/\w+/.test(da),La=/Android/.test(da),Oa=Na||La||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(da),ja=Na||/Mac/.test(pa),Aa=/\bCrOS\b/.test(da),Ia=/win/i.test(pa),Ra=Sa&&da.match(/Version\/(\d*\.\d*)/);Ra&&(Ra=Number(Ra[1])),Ra&&Ra>=15&&(Sa=!1,xa=!0);var Ma,Da=ja&&(ka||Sa&&(null==Ra||Ra<12.11)),Pa=va||ba&&wa>=9,Ua=function(t,n){var r=t.className,i=e(n).exec(r);if(i){var o=r.slice(i.index+i[0].length);t.className=r.slice(0,i.index)+(o?i[1]+o:"")}};Ma=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Fa=function(e){e.select()};Na?Fa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ba&&(Fa=function(e){try{e.select()}catch(e){}});var Ha=function(){this.id=null};Ha.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ba,qa,Wa=30,za={toString:function(){return"CodeMirror.Pass"}},Va={scroll:!1},Xa={origin:"*mouse"},$a={origin:"+move"},Ga=[""],Ya=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ja=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,Qa=!1,Ka=!1,Za=null,es=function(){function e(e){return e<=247?n.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?r.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/;return function(n,r){var u="ltr"==r?"L":"R";if(0==n.length||"ltr"==r&&!i.test(n))return!1;for(var c=n.length,f=[],h=0;h<c;++h)f.push(e(n.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":a.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var w=1,x=f[0];w<c-1;++w){var k=f[w];"+"==k&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=k||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=k}for(var T=0;T<c;++T){var S=f[T];if(","==S)f[T]="N";else if("%"==S){var C=void 0;for(C=T+1;C<c&&"%"==f[C];++C);for(var _=T&&"!"==f[T-1]||C<c&&"1"==f[C]?"1":"N",E=T;E<C;++E)f[E]=_;T=C-1}}for(var N=0,L=u;N<c;++N){var O=f[N];"L"==L&&"1"==O?f[N]="L":a.test(O)&&(L=O)}for(var j=0;j<c;++j)if(o.test(f[j])){var A=void 0;for(A=j+1;A<c&&o.test(f[A]);++A);for(var I="L"==(j?f[j-1]:u),R="L"==(A<c?f[A]:u),M=I==R?I?"L":"R":u,D=j;D<A;++D)f[D]=M;j=A-1}for(var P,U=[],F=0;F<c;)if(s.test(f[F])){var H=F;for(++F;F<c&&s.test(f[F]);++F);U.push(new t(0,H,F))}else{var B=F,q=U.length;for(++F;F<c&&"L"!=f[F];++F);for(var W=B;W<F;)if(l.test(f[W])){B<W&&U.splice(q,0,new t(1,B,W));var z=W;for(++W;W<F&&l.test(f[W]);++W);U.splice(q,0,new t(2,z,W)),B=W}else++W;B<F&&U.splice(q,0,new t(1,B,F))}return"ltr"==r&&(1==U[0].level&&(P=n.match(/^\s+/))&&(U[0].from=P[0].length,U.unshift(new t(0,0,P[0].length))),1==g(U).level&&(P=n.match(/\s+$/))&&(g(U).to-=P[0].length,U.push(new t(0,c-P[0].length,c)))),"rtl"==r?U.reverse():U}}(),ts=[],ns=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ts).concat(n)}},rs=function(){if(ba&&wa<9)return!1;var e=r("div");return"draggable"in e||"dragDrop"in e}(),is=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},os=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},as=function(){var e=r("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ss=null,ls={},us={},cs={},fs=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};fs.prototype.eol=function(){return this.pos>=this.string.length},fs.prototype.sol=function(){return this.pos==this.lineStart},fs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},fs.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},fs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},fs.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},fs.prototype.skipToEnd=function(){this.pos=this.string.length},fs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},fs.prototype.backUp=function(e){this.pos-=e},fs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fs.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fs.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},fs.prototype.current=function(){return this.string.slice(this.start,this.pos)},fs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},fs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},fs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var hs=function(e,t){this.state=e,this.lookAhead=t},ds=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};ds.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ds.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ds.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ds.fromSaved=function(e,t,n){return t instanceof hs?new ds(e,Xe(e.mode,t.state),n,t.lookAhead):new ds(e,Xe(e.mode,t),n)},ds.prototype.save=function(e){var t=!1!==e?Xe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new hs(t,this.maxLookAhead):t};var ps=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n},vs=function(e,t,n){this.text=e,ie(this,t),this.height=n?n(this):1};vs.prototype.lineNo=function(){return A(this)},je(vs);var gs,ms={},ys={},bs=null,ws=null,xs={left:0,right:0,top:0,bottom:0},ks=function(e,t,n){this.cm=n;var i=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(o),ns(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ns(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ba&&wa<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ks.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},ks.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ks.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ks.prototype.zeroWidthHack=function(){var e=ja&&!_a?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ha,this.disableVert=new Ha},ks.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},ks.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ts=function(){};Ts.prototype.update=function(){return{bottom:0,right:0}},Ts.prototype.setScrollLeft=function(){},Ts.prototype.setScrollTop=function(){},Ts.prototype.clear=function(){};var Ss={native:ks,null:Ts},Cs=0,_s=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Hn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Bt(e),this.force=n,this.dims=kn(e),this.events=[]};_s.prototype.signal=function(e,t){Oe(e,t)&&this.events.push(arguments)},_s.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Ee.apply(null,e.events[t])};var Es=0,Ns=null;ba?Ns=-.53:va?Ns=15:Ta?Ns=-.7:Ca&&(Ns=-1/3);var Ls=function(e,t){this.ranges=e,this.primIndex=t};Ls.prototype.primary=function(){return this.ranges[this.primIndex]},Ls.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=t.ranges[n],i=e.ranges[n];if(!U(r.anchor,i.anchor)||!U(r.head,i.head))return!1}return!0},Ls.prototype.deepCopy=function(){for(var e=this,t=[],n=0;n<this.ranges.length;n++)t[n]=new Os(F(e.ranges[n].anchor),F(e.ranges[n].head));return new Ls(t,this.primIndex)},Ls.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ls.prototype.contains=function(e,t){var n=this;t||(t=e);for(var r=0;r<this.ranges.length;r++){var i=n.ranges[r];if(P(t,i.from())>=0&&P(e,i.to())<=0)return r}return-1};var Os=function(e,t){this.anchor=e,this.head=t};Os.prototype.from=function(){return B(this.anchor,this.head)},Os.prototype.to=function(){return H(this.anchor,this.head)},Os.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},qi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=this,r=e,i=e+t;r<i;++r){var o=n.lines[r];n.height-=o.height,st(o),xt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){var r=this;this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=r},iterN:function(e,t,n){for(var r=this,i=e+t;e<i;++e)if(n(r.lines[e]))return!0}},Wi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var n=this;this.size-=t;for(var r=0;r<this.children.length;++r){var i=n.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e),s=i.height;if(i.removeInner(e,a),n.height-=s-i.height,o==a&&(n.children.splice(r--,1),i.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof qi))){var l=[];this.collapse(l),this.children=[new qi(l)],this.children[0].parent=this}},collapse:function(e){for(var t=this,n=0;n<this.children.length;++n)t.children[n].collapse(e)},insertInner:function(e,t,n){var r=this;this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,l=s;l<o.lines.length;){var u=new qi(o.lines.slice(l,l+=25));o.height-=u.height,r.children.splice(++i,0,u),u.parent=r}o.lines=o.lines.slice(0,s),r.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Wi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=d(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Wi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=this,i=0;i<this.children.length;++i){var o=r.children[i],a=o.chunkSize();if(e<a){var s=Math.min(t,a-e);if(o.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=a}}};var js=function(e,t,n){var r=this;if(n)for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);this.doc=e,this.node=t};js.prototype.clear=function(){var e=this,t=this.doc.cm,n=this.line.widgets,r=this.line,i=A(r);if(null!=i&&n){for(var o=0;o<n.length;++o)n[o]==e&&n.splice(o--,1);n.length||(r.widgets=null);var a=Mt(this);j(r,Math.max(0,r.height-a)),t&&(pr(t,function(){zi(t,r,-a),br(t,i,"widget")}),xt(t,"lineWidgetCleared",t,this,i))}},js.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Mt(this)-t;i&&(j(r,r.height+i),n&&pr(n,function(){n.curOp.forceUpdate=!0,zi(n,r,i),xt(n,"lineWidgetChanged",n,e,A(r))}))},je(js);var As=0,Is=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++As};Is.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&ar(t),Oe(this,"clear")){var r=this.find();r&&xt(this,"clear",r.from,r.to)}for(var i=null,o=null,a=0;a<this.lines.length;++a){var s=e.lines[a],l=Y(s.markedSpans,e);t&&!e.collapsed?br(t,A(s),"text"):t&&(null!=l.to&&(o=A(s)),null!=l.from&&(i=A(s))),s.markedSpans=J(s.markedSpans,l),null==l.from&&e.collapsed&&!me(e.doc,s)&&t&&j(s,wn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=he(e.lines[u]),f=we(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&yr(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Si(t.doc)),t&&xt(t,"markerCleared",t,this,i,o),n&&sr(t),this.parent&&this.parent.clear()}},Is.prototype.find=function(e,t){var n=this;null==e&&"bookmark"==this.type&&(e=1);for(var r,i,o=0;o<this.lines.length;++o){var a=n.lines[o],s=Y(a.markedSpans,n);if(null!=s.from&&(r=D(t?a:A(a),s.from),-1==e))return r;if(null!=s.to&&(i=D(t?a:A(a),s.to),1==e))return i}return r&&{from:r,to:i}},Is.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&pr(r,function(){var i=t.line,o=A(t.line),a=$t(r,o);if(a&&(en(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!me(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=Mt(n)-s;l&&j(i,i.height+l)}xt(r,"markerChanged",r,e)})},Is.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=d(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Is.prototype.detachLine=function(e){if(this.lines.splice(d(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},je(Is);var Rs=function(e,t){var n=this;this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=n};Rs.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},Rs.prototype.find=function(e,t){return this.primary.find(e,t)},je(Rs);var Ms=0,Ds=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),Wi.call(this,[new qi([new vs("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=D(r,0);this.sel=Br(a),this.history=new ti(null),this.id=++Ms,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Jr(this,{from:a,to:a,text:t}),xi(this,Br(a),Va)};Ds.prototype=w(Wi.prototype,{constructor:Ds,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:mr(function(e){var t=D(this.first,0),n=this.first+this.size-1;ji(this,{from:t,to:D(n,N(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Yn(this.cm,0,0),xi(this,Br(t),Va)}),replaceRange:function(e,t,n,r){t=W(this,t),n=n?W(this,n):t,Pi(this,e,t,n,r)},getRange:function(e,t,n){var r=L(this,W(this,e),W(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(R(this,e))return N(this,e)},getLineNumber:function(e){return A(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=N(this,e)),he(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return W(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mr(function(e,t,n){yi(this,W(this,"number"==typeof e?D(e,t||0):e),null,n)}),setSelection:mr(function(e,t,n){yi(this,W(this,e),W(this,t||e),n)}),extendSelection:mr(function(e,t,n){vi(this,W(this,e),t&&W(this,t),n)}),extendSelections:mr(function(e,t){gi(this,V(this,e),t)}),extendSelectionsBy:mr(function(e,t){gi(this,V(this,m(this.sel.ranges,e)),t)}),setSelections:mr(function(e,t,n){var r=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Os(W(r,e[o].anchor),W(r,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),xi(this,Hr(i,t),n)}}),addSelection:mr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new Os(W(this,e),W(this,t||e))),xi(this,Hr(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this,r=this.sel.ranges,i=0;i<r.length;i++){var o=L(n,r[i].from(),r[i].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,n=[],r=this.sel.ranges,i=0;i<r.length;i++){var o=L(t,r[i].from(),r[i].to());!1!==e&&(o=o.join(e||t.lineSeparator())),n[i]=o}return n},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:mr(function(e,t,n){for(var r=this,i=[],o=this.sel,a=0;a<o.ranges.length;a++){var s=o.ranges[a];i[a]={from:s.from(),to:s.to(),text:r.splitLines(e[a]),origin:n}}for(var l=t&&"end"!=t&&Xr(this,i,t),u=i.length-1;u>=0;u--)ji(r,i[u]);l?wi(this,l):this.cm&&Gn(this.cm)}),undo:mr(function(){Ii(this,"undo")}),redo:mr(function(){Ii(this,"redo")}),undoSelection:mr(function(){Ii(this,"undo",!0)}),redoSelection:mr(function(){Ii(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ti(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:di(this.history.done),undone:di(this.history.undone)}},setHistory:function(e){var t=this.history=new ti(this.history.maxGeneration);t.done=di(e.done.slice(0),null,!0),t.undone=di(e.undone.slice(0),null,!0)},setGutterMarker:mr(function(e,t,n){return Bi(this,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&T(r)&&(e.gutterMarkers=null),!0})}),clearGutter:mr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Bi(t,n,"gutter",function(){return n.gutterMarkers[e]=null,T(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!R(this,e))return null;if(t=e,!(e=N(this,e)))return null}else if(null==(t=A(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:mr(function(t,n,r){return Bi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[i]){if(e(r).test(t[i]))return!1;t[i]+=" "+r}else t[i]=r;return!0})}),removeLineClass:mr(function(t,n,r){return Bi(this,t,"gutter"==n?"gutter":"class",function(t){var i="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==r)t[i]=null;else{var a=o.match(e(r));if(!a)return!1;var s=a.index+a[0].length;t[i]=o.slice(0,a.index)+(a.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:mr(function(e,t,n){return Vi(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Xi(this,W(this,e),W(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=W(this,e),Xi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=W(this,e);var t=[],n=N(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=W(this,e),t=W(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),W(this,D(n,t))},indexFromPos:function(e){e=W(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Ds(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Ds(O(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Yi(r,Gi(this)),r},unlinkDoc:function(e){var t=this;if(e instanceof Go&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=t.linked[n];if(r.doc==e){t.linked.splice(n,1),e.unlinkDoc(t),Ji(Gi(t));break}}if(e.history==this.history){var i=[e.id];Qr(e,function(e){return i.push(e.id)},!0),e.history=new ti(null),e.history.done=di(this.history.done,i),e.history.undone=di(this.history.undone,i)}},iterLinkedDocs:function(e){Qr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):is(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mr(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ei(this.cm))})}),Ds.prototype.eachLine=Ds.prototype.iter;for(var Ps=0,Us=!1,Fs={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Hs=0;Hs<10;Hs++)Fs[Hs+48]=Fs[Hs+96]=String(Hs);for(var Bs=65;Bs<=90;Bs++)Fs[Bs]=String.fromCharCode(Bs);for(var qs=1;qs<=12;qs++)Fs[qs+111]=Fs[qs+63235]="F"+qs;var Ws={};Ws.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ws.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ws.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ws.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ws.default=ja?Ws.macDefault:Ws.pcDefault;var zs={selectAll:Li,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Va)},killLine:function(e){return ho(e,function(t){if(t.empty()){var n=N(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:D(t.head.line+1,0)}:{from:t.head,to:D(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:D(t.from().line,0),to:W(e.doc,D(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:D(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(D(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(D(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},$a)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},$a)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?wo(e,t.head):r},$a)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=h(e.getLine(o.line),o.ch,r);t.push(v(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return pr(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=N(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new D(i.line,i.ch-1)),i.ch>0)i=new D(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),D(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=N(e.doc,i.line-1).text;a&&(i=new D(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),D(i.line-1,a.length-1),i,"+transpose"))}n.push(new Os(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return pr(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Gn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Vs=new Ha,Xs=null,$s=function(e,t,n){this.time=e,this.pos=t,this.button=n};$s.prototype.compare=function(e,t,n){return this.time+400>e&&0==P(t,this.pos)&&n==this.button};var Gs,Ys,Js={toString:function(){return"CodeMirror.Init"}},Qs={},Ks={};Go.defaults=Qs,Go.optionHandlers=Ks;var Zs=[];Go.defineInitHook=function(e){return Zs.push(e)};var el=null,tl=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ha,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};tl.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=ta(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Va),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=el.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=ra(),s=a.firstChild;i.display.lineSpace.insertBefore(a,i.display.lineSpace.firstChild),s.value=el.text.join("\n");var l=document.activeElement;Fa(s),setTimeout(function(){i.display.lineSpace.removeChild(a),l.focus(),l==o&&r.showPrimarySelection()},50)}}var n=this,r=this,i=r.cm,o=r.div=e.lineDiv;na(o,i.options.spellcheck),ns(o,"paste",function(e){Ne(i,e)||Zo(e,i)||wa<=11&&setTimeout(vr(i,function(){return n.updateFromDOM()}),20)}),ns(o,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ns(o,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ns(o,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ns(o,"touchstart",function(){return r.forceCompositionEnd()}),ns(o,"input",function(){n.composing||n.readFromDOMSoon()}),ns(o,"copy",t),ns(o,"cut",t)},tl.prototype.prepareSelection=function(){var e=Ln(this.cm,!1);return e.focus=this.cm.state.focused,e},tl.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},tl.prototype.showPrimarySelection=function(){var e=window.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=ca(t,e.anchorNode,e.anchorOffset),a=ca(t,e.focusNode,e.focusOffset);if(!o||o.bad||!a||a.bad||0!=P(B(o,a),r)||0!=P(H(o,a),i)){var s=t.display.view,l=r.line>=t.display.viewFrom&&aa(t,r)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&aa(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!l||!u)return void e.removeAllRanges();var h,d=e.rangeCount&&e.getRangeAt(0);try{h=Ma(l.node,l.offset,u.offset,u.node)}catch(e){}h&&(!va&&t.state.focused?(e.collapse(l.node,l.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),d&&null==e.anchorNode?e.addRange(d):va&&this.startGracePeriod()),this.rememberSelection()}},tl.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},tl.prototype.showMultipleSelections=function(e){n(this.cm.display.cursorDiv,e.cursors),n(this.cm.display.selectionDiv,e.selection)},tl.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},tl.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return a(this.div,t)},tl.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},tl.prototype.blur=function(){this.div.blur()},tl.prototype.getField=function(){return this.div},tl.prototype.supportsTouch=function(){return!0},tl.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():pr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},tl.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},tl.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;if(La&&Ta&&this.cm.options.gutters.length&&sa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=ca(t,e.anchorNode,e.anchorOffset),r=ca(t,e.focusNode,e.focusOffset);n&&r&&pr(t,function(){xi(t.doc,Br(n,r),Va),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},tl.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(0==r.ch&&r.line>e.firstLine()&&(r=D(r.line-1,N(e.doc,r.line-1).length)),i.ch==N(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=D(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,a,s;r.line==t.viewFrom||0==(o=En(e,r.line))?(a=A(t.view[0].line),s=t.view[0].node):(a=A(t.view[o].line),s=t.view[o-1].node.nextSibling);var l,u,c=En(e,i.line);if(c==t.view.length-1?(l=t.viewTo-1,u=t.lineDiv.lastChild):(l=A(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(ua(e,s,u,a,l)),h=L(e.doc,D(a,0),D(l,N(e.doc,l).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),l--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==h.length&&a==r.line)for(;d&&d>r.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var k=D(a,d),T=D(l,h.length?g(h).length-p:0);return f.length>1||f[0]||P(k,T)?(Pi(e.doc,f,k,T,"+input"),!0):void 0},tl.prototype.ensurePolled=function(){this.forceCompositionEnd()},tl.prototype.reset=function(){this.forceCompositionEnd()},tl.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},tl.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},tl.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||pr(this.cm,function(){return yr(e.cm)})},tl.prototype.setUneditable=function(e){e.contentEditable="false"},tl.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||vr(this.cm,Ko)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},tl.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},tl.prototype.onContextMenu=function(){},tl.prototype.resetPosition=function(){},tl.prototype.needsContentAttribute=!0;var nl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ha,this.hasSelection=!1,this.composing=null};nl.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=ta(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,Va):(r.prevInput="",a.value=t.text.join("\n"),Fa(a))}"cut"==e.type&&(i.state.cutIncoming=!0)}}var n=this,r=this,i=this.cm,o=this.wrapper=ra(),a=this.textarea=o.firstChild;e.wrapper.insertBefore(o,e.wrapper.firstChild),Na&&(a.style.width="0px"),ns(a,"input",function(){ba&&wa>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()}),ns(a,"paste",function(e){Ne(i,e)||Zo(e,i)||(i.state.pasteIncoming=!0,r.fastPoll())}),ns(a,"cut",t),ns(a,"copy",t),ns(e.scroller,"paste",function(t){Dt(e,t)||Ne(i,t)||(i.state.pasteIncoming=!0,r.focus())}),ns(e.lineSpace,"selectstart",function(t){Dt(e,t)||Ae(t)}),ns(a,"compositionstart",function(){var e=i.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ns(a,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},nl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Ln(e);if(e.options.moveInputWithCursor){var i=cn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},nl.prototype.showSelection=function(e){var t=this.cm,r=t.display;n(r.cursorDiv,e.cursors),n(r.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},nl.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Fa(this.textarea),ba&&wa>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",ba&&wa>=9&&(this.hasSelection=null))}},nl.prototype.getField=function(){return this.textarea},nl.prototype.supportsTouch=function(){return!1},nl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oa||s()!=this.textarea))try{this.textarea.focus()}catch(e){}},nl.prototype.blur=function(){this.textarea.blur()},nl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},nl.prototype.receivedFocus=function(){this.slowPoll()},nl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},nl.prototype.fastPoll=function(){function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},nl.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||os(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(ba&&wa>=9&&this.hasSelection===i||ja&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var a=0,s=Math.min(r.length,i.length);a<s&&r.charCodeAt(a)==i.charCodeAt(a);)++a;return pr(t,function(){Ko(t,i.slice(a),r.length-a,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},nl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},nl.prototype.onKeyPress=function(){ba&&wa>=9&&(this.hasSelection=null),this.fastPoll()},nl.prototype.onContextMenu=function(e){function t(){if(null!=a.selectionStart){var e=i.somethingSelected(),t="​"+(e?a.value:"");a.value="⇚",a.value=t,r.prevInput=e?"":"​",a.selectionStart=1,a.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=c,a.style.cssText=u,ba&&wa<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!ba||ba&&wa<9)&&t();var e=0,n=function t(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?vr(i,Li)(i):e++<10?o.detectingSelectAll=setTimeout(t,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=_n(i,e),l=o.scroller.scrollTop;if(s&&!Sa){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(s)&&vr(i,xi)(i.doc,Br(s),Va);var u=a.style.cssText,c=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var f=r.wrapper.getBoundingClientRect();a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(ba?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var h;if(xa&&(h=window.scrollY),o.input.focus(),xa&&window.scrollTo(null,h),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ba&&wa>=9&&t(),Pa){Me(e);var d=function e(){_e(window,"mouseup",e),setTimeout(n,20)};ns(window,"mouseup",d)}else setTimeout(n,50)}},nl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},nl.prototype.setUneditable=function(){},nl.prototype.needsContentAttribute=!1,function(e){function t(t,r,i,o){e.defaults[t]=r,i&&(n[t]=o?function(e,t,n){n!=Js&&i(e,t,n)}:i)}var n=e.optionHandlers;e.defineOption=t,e.Init=Js,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,$r(e)},!0),t("indentUnit",2,$r,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){Gr(e),nn(e),yr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(D(r,o))}r++});for(var i=n.length-1;i>=0;i--)Pi(e.doc,t,n[i],D(n[i].line,n[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Js&&e.refresh()}),t("specialCharPlaceholder",ct,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Oa?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("rtlMoveVisually",!Ia),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){zo(e),Vo(e)},!0),t("keyMap","default",function(e,t,n){var r=fo(t),i=n!=Js&&fo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,$o,!0),t("gutters",[],function(e){Dr(e.options),Vo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Tn(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return rr(e)},!0),t("scrollbarStyle","native",function(e){or(e),rr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){Dr(e.options),Vo(e)},!0),t("firstLineNumber",1,Vo,!0),t("lineNumberFormatter",function(e){return e},Vo,!0),t("showCursorWhenSelecting",!1,Nn,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("readOnly",!1,function(e,t){"nocursor"==t&&(Pn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Xo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Nn,!0),t("singleCursorHeightPerLine",!0,Nn,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,Gr,!0),t("addModeClass",!1,Gr,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,Gr,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0)}(Go),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&vr(this,t[e])(this,n,i),Ee(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](fo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:gr(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");y(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},function(e){return e.priority}),this.state.modeGen++,yr(this)}),removeOverlay:gr(function(e){for(var t=this,n=this.state.overlays,r=0;r<n.length;++r){var i=n[r].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return n.splice(r,1),t.state.modeGen++,void yr(t)}}),indentLine:gr(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),R(this.doc,e)&&Jo(this,e,t,n)}),indentSelection:gr(function(e){for(var t=this,n=this.doc.sel.ranges,r=-1,i=0;i<n.length;i++){var o=n[i];if(o.empty())o.head.line>r&&(Jo(t,o.head.line,e,!0),r=o.head.line,i==t.doc.sel.primIndex&&Gn(t));else{var a=o.from(),s=o.to(),l=Math.max(r,a.line);r=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=l;u<r;++u)Jo(t,u,e);var c=t.doc.sel.ranges;0==a.ch&&n.length==c.length&&c[i].from().ch>0&&mi(t.doc,i,new Os(a,c[i].to()),Va)}}}),getTokenAt:function(e,t){return tt(this,e,t)},getLineTokens:function(e,t){return tt(this,D(e),t,!0)},getTokenTypeAt:function(e){e=W(this.doc,e);var t,n=Je(this,N(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=this,i=[];if(!n.hasOwnProperty(t))return i;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&i.push(o[a[t]]);else if(a[t])for(var s=0;s<a[t].length;s++){var l=o[a[t][s]];l&&i.push(l)}else a.helperType&&o[a.helperType]?i.push(o[a.helperType]):o[a.name]&&i.push(o[a.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(a,r)&&-1==d(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(e,t){var n=this.doc;return e=q(n,null==e?n.first+n.size-1:e),Qe(this,e+1,t).state},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==(void 0===e?"undefined":o(e))?W(this.doc,e):e?r.from():r.to(),cn(this,n,t||"page")},charCoords:function(e,t){return un(this,W(this.doc,e),t||"page")},coordsChar:function(e,t){return e=ln(this,e,t||"page"),dn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=ln(this,{top:e,left:0},t||"page").top,I(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=N(this.doc,e)}else r=e;return sn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-be(r):0)},defaultTextHeight:function(){return wn(this.display)},defaultCharWidth:function(){return xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=cn(this,W(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&Vn(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:gr(Eo),triggerOnKeyPress:gr(Oo),triggerOnKeyUp:Lo,triggerOnMouseDown:gr(Ao),execCommand:function(e){if(zs.hasOwnProperty(e))return zs[e].call(null,this)},triggerElectric:gr(function(e){ea(this,e)}),findPosH:function(e,t,n,r){var i=this,o=1;t<0&&(o=-1,t=-t);for(var a=W(this.doc,e),s=0;s<t&&(a=ia(i.doc,a,o,n,r),!a.hitSide);++s);return a},moveH:gr(function(e,t){var n=this;this.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?ia(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()},$a)}),deleteH:gr(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ho(this,function(n){var i=ia(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=this,o=1,a=r;t<0&&(o=-1,t=-t);for(var s=W(this.doc,e),l=0;l<t;++l){var u=cn(i,s,"div");if(null==a?a=u.left:u.left=a,s=oa(i,u,o,n),s.hitSide)break}return s},moveV:gr(function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return e<0?a.from():a.to();var s=cn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=oa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&$n(n,un(n,l,"div").top-s.top),l},$a),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=N(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=n.length||!r?++i:--r;for(var a=n.charAt(r),s=k(a,o)?function(e){return k(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!k(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new Os(D(e.line,r),D(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?l(this.display.cursorDiv,"CodeMirror-overwrite"):Ua(this.display.cursorDiv,"CodeMirror-overwrite"),Ee(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==s()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:gr(function(e,t){Yn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ht(this)-this.display.barHeight,width:e.scrollWidth-Ht(this)-this.display.barWidth,clientHeight:qt(this),clientWidth:Bt(this)}},scrollIntoView:gr(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:D(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Jn(this,e):Kn(this,e.from,e.to,e.margin)}),setSize:gr(function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&tn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){br(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Ee(this,"refresh",this)}),operation:function(e){return pr(this,e)},startOperation:function(){return ar(this)},endOperation:function(){return sr(this)},refresh:gr(function(){var e=this.display.cachedTextHeight;yr(this),this.curOp.forceUpdate=!0,nn(this),Yn(this,this.doc.scrollLeft,this.doc.scrollTop),Ir(this),(null==e||Math.abs(e-wn(this.display))>.5)&&Cn(this),Ee(this,"refresh",this)}),swapDoc:gr(function(e){var t=this.doc;return t.cm=null,Kr(this,e),nn(this),this.display.input.reset(),Yn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},je(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Go);var rl="iter insert remove copy getEditor constructor".split(" ");for(var il in Ds.prototype)Ds.prototype.hasOwnProperty(il)&&d(rl,il)<0&&(Go.prototype[il]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ds.prototype[il]));return je(Ds),Go.inputStyles={textarea:nl,contenteditable:tl},Go.defineMode=function(e){Go.defaults.mode||"null"==e||(Go.defaults.mode=e),Be.apply(this,arguments)},Go.defineMIME=qe,Go.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Go.defineMIME("text/plain","null"),Go.defineExtension=function(e,t){Go.prototype[e]=t},Go.defineDocExtension=function(e,t){Ds.prototype[e]=t},Go.fromTextArea=ha,function(e){e.off=_e,e.on=ns,e.wheelEventPixels=Ur,e.Doc=Ds,e.splitLines=is,e.countColumn=h,e.findColumn=p,e.isWordChar=x,e.Pass=za,e.signal=Ee,e.Line=vs,e.changeEnd=qr,e.scrollbarModel=Ss,e.Pos=D,e.cmpPos=P,e.modes=ls,e.mimeModes=us,e.resolveMode=We,e.getMode=ze,e.modeExtensions=cs,e.extendMode=Ve,e.copyState=Xe,e.startState=Ge,e.innerMode=$e,e.commands=zs,e.keyMap=Ws,e.keyName=co,e.isModifierKey=lo,e.lookupKey=so,e.normalizeKeyMap=ao,e.StringStream=fs,e.SharedTextMarker=Rs,e.TextMarker=Is,e.LineWidget=js,e.e_preventDefault=Ae,e.e_stopPropagation=Ie,e.e_stop=Me,e.addClass=l,e.contains=a,e.rmClass=Ua,e.keyNames=Fs}(Go),Go.version="5.33.0",Go})},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(19),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o={BlankNode:n(6),Collection:n(20),convert:n(43),DataFactory:n(26),Empty:n(92),Fetcher:n(37),Formula:n(42),IndexedFormula:i.default,jsonParser:n(93),Literal:n(10),log:n(7),N3Parser:n(27),NamedNode:n(0),Namespace:n(15),Node:n(2),parse:n(59),Query:n(25).Query,queryToSPARQL:n(94),RDFaProcessor:n(38),RDFParser:n(39),serialize:n(28),Serializer:n(36),SPARQLToQuery:n(95),sparqlUpdateParser:n(60),Statement:n(23),term:n(2).fromValue,UpdateManager:n(96),UpdatesSocket:n(61).UpdatesSocket,UpdatesVia:n(61).UpdatesVia,uri:n(1),Util:n(3),Variable:n(24)};o.NextId=o.BlankNode.nextId,o.fromNT=o.Formula.prototype.fromNT,o.fetcher=o.DataFactory.fetcher,o.graph=o.DataFactory.graph,o.lit=o.DataFactory.lit,o.st=o.DataFactory.st,o.sym=o.DataFactory.namedNode,o.variable=o.DataFactory.variable,o.blankNode=o.DataFactory.blankNode,o.defaultGraph=o.DataFactory.defaultGraph,o.literal=o.DataFactory.literal,o.namedNode=o.DataFactory.namedNode,o.quad=o.DataFactory.quad,o.triple=o.DataFactory.triple,e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n,r){var i=e.any(t,n,void 0);return!!i&&(e.equate(i,r),!0)}function s(e,t,n,r){var i=e.any(void 0,n,r);return!!i&&(e.equate(i,t),!0)}function l(e,t,n,r,i){e.typeCallback&&e.typeCallback(e,r,i);var o=e.classActions[r.hashString()],a=!1;if(o)for(var s=0;s<o.length;s++)a=a||o[s](e,t,n,r,i);return a}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3).ArrayIndexOf,h=n(42),d=n(3).RDFArrayRemove,p=n(23),v=n(2),g=n(24),m="http://www.w3.org/2002/07/owl#",y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.propertyActions=[],n.classActions=[],n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=e||["sameAs","InverseFunctionalProperty","FunctionalProperty"],n.initPropertyActions(n.features),n}return o(t,e),c(t,[{key:"substitute",value:function(e){var n=this.statements.map(function(t){return t.substitute(e)}),r=new t;return r.add(n),r}},{key:"applyPatch",value:function(e,t,r){var i,o=n(25).Query,a=this,s=null,l=function(n){if(e.delete){i=e.delete,s&&(i=i.substitute(s)),i=i.statements;var o=[],l=i.map(function(e){var n=a.statementsMatching(e.subject,e.predicate,e.object,t);return 0===n.length?(o.push(e),null):n[0]});if(o.length)return r("Could not find to delete: "+o.join("\n or "));l.map(function(e){a.remove(e)})}e.insert&&(i=e.insert,s&&(i=i.substitute(s)),i=i.statements,i.map(function(e){e.why=t,a.add(e.subject,e.predicate,e.object,e.why)})),n()};if(e.where){var u=new o("patch");u.pat=e.where,u.pat.statements.map(function(e){e.why=t});var c=[];a.query(u,function(e){c.push(e)},a.fetcher,function(){return 0===c.length?r("No match found to be patched:"+e.where):c.length>1?r("Patch ambiguous. No patch done."):(s=c[0],void l(r))})}else l(r)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions["<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"]=[l],f(e,"sameAs")>=0&&(this.propertyActions["<http://www.w3.org/2002/07/owl#sameAs>"]=[function(e,t,n,r,i){return e.equate(t,r),!0}]),f(e,"InverseFunctionalProperty")>=0&&(this.classActions["<"+m+"InverseFunctionalProperty>"]=[function(e,t,n,r,i){return e.newPropertyAction(t,s)}]),f(e,"FunctionalProperty")>=0&&(this.classActions["<"+m+"FunctionalProperty>"]=[function(e,t,n,r,i){return e.newPropertyAction(t,a)}])}},{key:"add",value:function(e,n,r,i){var o;if(1===arguments.length){if(e instanceof Array)for(o=0;o<e.length;o++)this.add(e[o]);else e instanceof p?this.add(e.subject,e.predicate,e.object,e.why):e instanceof t&&this.add(e.statements);return this}var a,s;i||(i=this.fetcher?this.fetcher.appNode:this.sym("chrome:theSession")),e=v.fromValue(e),n=v.fromValue(n),r=v.fromValue(r),i=v.fromValue(i),this.predicateCallback&&this.predicateCallback(this,n,i);var l=this.canon(n).hashString();a=this.propertyActions[l];var u=!1;if(a)for(o=0;o<a.length;o++)u=u||a[o](this,e,n,r,i);if(this.holds(e,n,r,i))return null;var c=[this.canon(e).hashString(),l,this.canon(r).hashString(),this.canon(i).hashString()];for(s=new p(e,n,r,i),o=0;o<4;o++){var f=this.index[o],h=c[o];f[h]||(f[h]=[]),f[h].push(s)}return this.statements.push(s),s}},{key:"addAll",value:function(e){var t=this;e.forEach(function(e){t.add(e.subject,e.predicate,e.object,e.graph)})}},{key:"any",value:function(e,t,n,r){var i=this.anyStatementMatching(e,t,n,r);if(null!=i)return null==e?i.subject:null==t?i.predicate:null==n?i.object:void 0}},{key:"anyValue",value:function(e,t,n,r){var i=this.any(e,t,n,r);return i?i.value:void 0}},{key:"anyStatementMatching",value:function(e,t,n,r){var i=this.statementsMatching(e,t,n,r,!0);if(i&&0!==i.length)return i[0]}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[e.hashString()];return t||e}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var n in t)t.hasOwnProperty(n)&&this.checkStatementList(t[n],e)}}},{key:"checkStatementList",value:function(e,t){for(var n,r=["subject","predicate","object","why"],i=" found in "+r[t]+" index.",o=0;o<e.length;o++){n=e[o];for(var a=[n.subject,n.predicate,n.object,n.why],s=function(e,t){for(var n=0;n<e.length;n++)if(e[n].subject.sameTerm(t.subject)&&e[n].predicate.sameTerm(t.predicate)&&e[n].object.sameTerm(t.object)&&e[n].why.sameTerm(t.why))return!0},l=0;l<4;l++){var u=this.canon(a[l]),c=u.hashString();this.index[l][c]&&s(this.index[l][c],n)}if(!s(this.statements,n))throw new Error("Statement list does not statement "+n+"@"+n.why+i)}}},{key:"close",value:function(){return this}},{key:"copyTo",value:function(e,t,n){n||(n=[]);var r=this.statementsMatching(e);-1!==f(n,"two-direction")&&r.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<r.length;i++){var o=r[i];switch(o.object.termType){case"NamedNode":this.add(t,o.predicate,o.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,o.predicate,o.object.copy(this))}-1!==f(n,"delete")&&this.remove(o)}}},{key:"equate",value:function(e,t){e=this.canon(e),t=this.canon(t);var n=e.compareTerm(t);return!n||(n<0?this.replaceWith(t,e):this.replaceWith(e,t))}},{key:"formula",value:function(e){return new t(e)}},{key:"match",value:function(e,t,n,r){return this.statementsMatching(v.fromValue(e),v.fromValue(t),v.fromValue(n),v.fromValue(r))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var n=e.hashString();this.propertyActions[n]||(this.propertyActions[n]=[]),this.propertyActions[n].push(t);for(var r=this.statementsMatching(void 0,e,void 0),i=!1,o=0;o<r.length;o++)i=i||t(this,r[o].subject,e,r[o].object);return i}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new g(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var n=e.uri+"#n"+t;if(!this.mentionsURI(n))return this.sym(n)}}},{key:"query",value:function(e,t,r,i){return n(25).indexedFormulaQuery.call(this,e,t,r,i)}},{key:"remove",value:function(e){if(e instanceof Array){for(var n=0;n<e.length;n++)this.remove(e[n]);return this}if(e instanceof t)return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.why);if(!r.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}},{key:"removeDocument",value:function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),n=0;n<t.length;n++)this.removeStatement(t[n]);return this}},{key:"removeMany",value:function(e,t,n,r,i){for(var o=this.statementsMatching(e,t,n,r,!1),a=[],s=0;s<o.length;s++)a.push(o[s]);for(i&&(a=a.slice(0,i)),s=0;s<a.length;s++)this.remove(a[s])}},{key:"removeMatches",value:function(e,t,n,r){return this.removeStatements(this.statementsMatching(e,t,n,r)),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.why],n=0;n<4;n++){var r=this.canon(t[n]),i=r.hashString();this.index[n][i]&&d(this.index[n][i],e)}return d(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var n=e.hashString(),r=t.hashString(),i=function(e){var t=e[n];if(t){var i=e[r];e[r]=i?t.concat(i):t,delete e[n]}},o=0;o<4;o++)i(this.index[o]);if(this.redirections[n]=t,e.uri){if(this.aliases[r]||(this.aliases[r]=[]),this.aliases[r].push(e),this.aliases[n])for(o=0;o<this.aliases[n].length;o++)this.redirections[this.aliases[n][o].hashString()]=t,this.aliases[r].push(this.aliases[n][o]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e.uri),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.canon(e).hashString()]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.sameTerm(t))return!0;var n=this.canon(e);if(!n)return!1;var r=this.canon(t);return!!r&&n.uri===r.uri}},{key:"setPrefixForURI",value:function(e,t){"tab"===e&&this.namespaces.tab||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)}},{key:"statementsMatching",value:function(e,t,n,r,i){var o,a,s=[e,t,n,r],l=[],u=[],c=[],f=[];for(o=0;o<4;o++)l[o]=this.canon(v.fromValue(s[o])),l[o]?(f.push(o),u[o]=l[o].hashString()):c.push(o);if(0===f.length)return this.statements;if(1===f.length)return o=f[0],a=this.index[o][u[o]],a&&i&&a.length>1&&(a=a.slice(0,1)),a=a||[];var h,d,p=1e10;for(d=0;d<f.length;d++){if(o=f[d],!(a=this.index[o][u[o]]))return[];a.length<p&&(p=a.length,h=d)}for(var g=f[h],m=this.index[g][u[g]],y=f.slice(0,h).concat(f.slice(h+1)),b=[],w=["subject","predicate","object","why"],x=0;x<m.length;x++){var k=m[x];for(d=0;d<y.length;d++)if(o=y[d],!this.canon(k[w[o]]).sameTerm(l[o])){k=null;break}if(null!=k&&(b.push(k),i))break}return b}},{key:"uris",value:function(e){var t=this.canon(e),n=this.aliases[t.hashString()];if(!t.uri)return[];var r=[t.uri];if(n)for(var i=0;i<n.length;i++)r.push(n[i].uri);return r}},{key:"length",get:function(){return this.statements.length}}]),t}(h);t.default=y,y.handleRDFType=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=n(9),c=n(2),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.termType=t.termType,n.id=l.nextId++,n.elements=[],n.closed=!1,e&&e.length>0&&e.forEach(function(e){n.elements.push(c.fromValue(e))}),n}return o(t,e),s(t,[{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){return new t(this.elements.map(function(t){t.substitute(e)}))}},{key:"toNT",value:function(){return l.NTAnonymousNodePrefix+this.id}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}}]),t}(c);f.termType="Collection",f.prototype.classOrder=u.Collection,f.prototype.compareTerm=l.prototype.compareTerm,f.prototype.isVar=0,e.exports=f},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(53),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=function(){function e(t,n,i,a){r(this,e),this.subject=o.fromValue(t),this.predicate=o.fromValue(n),this.object=o.fromValue(i),this.why=a}return i(e,[{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){var n=new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),this.why.substitute(t));return console.log("@@@ statement substitute:"+n),n}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&"DefaultGraph"!==this.graph.termType&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}},{key:"graph",get:function(){return this.why},set:function(e){this.why=e}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),u=n(2),c=n(1),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.termType=t.termType,n.value=e,n.base="varid:",n.uri=c.join(e,n.base),n}return o(t,e),s(t,[{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return this.uri.slice(0,this.base.length)===this.base?"?"+this.uri.slice(this.base.length):"?"+this.uri}}]),t}(u);f.termType="Variable",f.prototype.classOrder=l.Variable,f.prototype.isVar=1,e.exports=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){function i(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}var o=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+="    "+t+" -> "+e[t]);return n},a=function(e){var t,n="Bindings: ",r=e.length;for(t=0;t<r;t++)n+=o(e[t][0])+";\n\t";return n},u=function(e,t,n,r){var i=n[e];if(void 0===i){if(e.isVar){var o=[];return o[e]=t,[[o,null]]}i=e}if(!i.complexType)return r.redirections[i]&&(i=r.redirections[i]),r.redirections[t]&&(t=r.redirections[t]),i.sameTerm(t)?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?c(e,t,n):[];throw new Error("query.js: oops - code not written yet")},c=function e(t,n,r,i){var o;if(t.length!==n.length)return[];if(!t.length)return[[[],null]];var a=u(t[0],n[0],r,i);if(0===a.length)return a;var s,l,c,f,h,d,p,v=[],g=a.length;for(s=0;s<g;s++){l=a[s][0],p=[];for(h in l)l.hasOwnProperty(h)&&(p[h]=l[h]);for(h in r)r.hasOwnProperty(h)&&(p[h]=r[h]);for(o=e(t.slice(1),n.slice(1),p,i),f=o.length,c=0;c<f;c++){d=o[c][0];for(h in l)l.hasOwnProperty(h)&&(d[h]=l[h]);v.push([d,null])}}return v},f=function(e,t){var n=t[e];return void 0===n?e:n},h=function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r},d=function(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this};d.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;s.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},d.prototype.doCallBacks=function(e,t){var n;if(e<0)return this.originalCallback(t);for(n=0;n<this.branches[e].results.length;n++)this.doCallBacks(e-1,h(t,this.branches[e].results[n]))};var p=function(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this};p.prototype.reportMatch=function(e){this.callback(e),this.success=!0},p.prototype.reportDone=function(){this.done=!0,s.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var v=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};v.prototype.reportMatch=function(e){this.results.push(e)},v.prototype.reportDone=function(){s.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),s.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var g=function(e,t,n){var r,i,o,a,s;for(t.nvars=0,t.index=null,i=[t.subject,t.predicate,t.object],s=[e.subjectIndex,e.predicateIndex,e.objectIndex],a=0;a<3;a++)if(i[a].isVar&&void 0===n[i[a]])t.nvars++;else{if(r=f(i[a],n),e.redirections[r.hashString()]&&(r=e.redirections[r.hashString()]),!(o=s[a][r.hashString()]))return t.index=[],!1;(null===t.index||t.index.length>o.length)&&(t.index=o)}return null===t.index&&(t.index=e.statements),!0},m=0,y=function e(n,r,i,a,u,c,f){s.debug("Match begins, Branch count now: "+f.count+" for "+f.pattern_debug);var h=n.fetcher?n.fetcher:null,p=r.statements;if(0===p.length){if(s.debug("FOUND MATCH WITH BINDINGS:"+o(i)),0===r.optional.length)f.reportMatch(i);else{s.debug("OPTIONAL: "+r.optional);var g,y=new d(t,i),b=[];for(g=0;g<r.optional.length;g++)b[g]=new v(y),b[g].pattern_debug=r.optional[g];for(g=0;g<r.optional.length;g++)b[g].count=b[g].count+1,e(n,r.optional[g],i,"",u,t,b[g])}return f.count--,void s.debug("Match ends -- success , Branch count now: "+f.count+" for "+f.pattern_debug)}var x,k,T=p.length;if(h){var S=(m++,function(t,o){var s=t.uri.split("#")[0];h.nowOrWhenFetched(s,void 0,function(o,s,l){o||console.log("Error following link to <"+t.uri+"> in query: "+s),e(n,r,i,a,u,c,f)})});for(k=0;k<T;k++){if(x=p[k],void 0!==i[x.subject]&&i[x.subject].uri&&h&&"unrequested"===h.getState(l(i[x.subject].uri)))return void S(i[x.subject]);if(void 0!==i[x.object]&&i[x.object].uri&&h&&"unrequested"===h.getState(l(i[x.object].uri)))return void S(i[x.object])}}w(n,r,i,a,u,c,f)},b=function(e,t){var n,r,i=!0;for(n in e)e.hasOwnProperty(n)&&t[n]&&(r=t[n].test)&&!r(e[n])&&(i=!1);return i},w=function(e,t,n,r,l,u,f){var h,d,p,v,m,w,x,k=t.statements,T=k.length;for(h=0;h<T;h++)x=k[h],s.info("match2: item="+x+", bindingsSoFar="+o(n)),g(e,x,n);k.sort(i),x=k[0];var S=e.formula();S.optional=t.optional,S.constraints=t.constraints,S.statements=k.slice(1),s.debug(r+"match2 searching "+x.index.length+" for "+x+"; bindings so far="+o(n));var C,_,E,N=x.index.length,L=0;for(C=0;C<N;C++)for(E=x.index[C],_=c([x.subject,x.predicate,x.object],[E.subject,E.predicate,E.object],n,e),s.info(r+" From first: "+_.length+": "+a(_)),p=_.length,d=0;d<p;d++)if(m=[],w=_[d][0],b(w,t.constraints)){for(v in w)w.hasOwnProperty(v)&&(m[v]=w[v]);for(v in n)n.hasOwnProperty(v)&&(m[v]=n[v]);f.count++,L++,y(e,S,m,r+"  ",l,u,f)}else s.debug("Branch count CS: "+f.count);f.count--,0===L&&s.debug("Match2 fails completely on "+x),s.debug("Match2 ends, Branch count: "+f.count+" for "+f.pattern_debug),0===f.count&&(s.debug("Branch finished."),f.reportDone())},x=this;s.debug("Query on "+this.statements.length);var k=new p(t,r);k.count++,setTimeout(function(){y(x,e.pat,e.pat.initBindings,"",n,t,k)},0)}var o=n(19),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(7),l=n(1).docpart,u=function e(t,n){r(this,e),this.pat=new a.default,this.vars=[],this.name=t,this.id=n};e.exports.Query=u,e.exports.indexedFormulaQuery=i},function(e,t,n){"use strict";function r(e){return new m(e)}function i(e){return new y(e)}function o(){return new b}function a(e,t){return new w(e,t)}function s(){return new g.default}function l(e,t,n){return new x(""+e,t,n)}function u(e,t){return"string"==typeof t?-1===t.indexOf(":")?new x(e,t):new x(e,null,c(t)):new x(e,null,t)}function c(e){return new k(e)}function f(e,t,n,r){return r=r||new b,new T(e,t,n,r)}function h(e,t,n,r){return new T(e,t,n,r)}function d(e,t,n){return f(e,t,n)}function p(e){return new S(e)}var v=n(19),g=function(e){return e&&e.__esModule?e:{default:e}}(v),m=n(6),y=n(20),b=n(90),w=n(37),x=n(10),k=n(0),T=n(23),S=n(24);e.exports.blankNode=r,e.exports.defaultGraph=o,e.exports.graph=s,e.exports.literal=u,e.exports.namedNode=c,e.exports.quad=f,e.exports.triple=d,e.exports.variable=p,e.exports.collection=i,e.exports.fetcher=a,e.exports.lit=l,e.exports.st=h},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return void 0===e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":r(e)},o=n(1),a=n(3).ArrayIndexOf,s=function(){function e(e){return encodeURI(e)}function t(e,t,r,i,o,a,s,l){return new n(e,t,r,i,o,a,s,l)}function n(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=""),void 0===r&&(r=null),void 0===i&&(i=""),void 0===o&&(o=null),void 0===a&&(a=""),void 0===s&&(s=null),this._bindings=new h([]),this._flags=a,""!=n&&(y(n.indexOf(":")>=0,"Document URI not absolute: "+n),this._bindings[""]=n+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=n,this.source=e.sym(n),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new f(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new h([]),this._variables=new h([]),this._parentVariables=new h([]),this._reason=s,this._reason2=null,x&&(this._reason2=why_BecauseOfData(e.sym(n),this._reason)),this._baseURI=r||(n||null),y(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(n+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function r(e,t,n,r,i){this._str=n.encode("utf-8"),this._str=n,this._i=r,this._why=i,this.lines=t,this._uri=e}function s(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax: "+i+'\nat: "'+p(n,r,r+30)+'"'}var l={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},decode:function(e){for(var t="",n=0;n<e.length;){var r=e.charCodeAt(n);r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(t+=String.fromCharCode((31&r)<<6|63&e.charCodeAt(n+1)),n+=2):(t+=String.fromCharCode((15&r)<<12|(63&e.charCodeAt(n+1))<<6|63&e.charCodeAt(n+2)),n+=3)}return t}},u="http://www.w3.org/2000/10/swap/log#",c=function(e){return e},f=function(e){return e},h=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},d=function(e){return e.length},p=function(e,t,n){if(void 0===e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+(void 0===e?"undefined":i(e));return void 0===n||null==n?e.slice(t):e.slice(t,n)},v=Error("dummy error stop iteration"),g=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw v;return this.li[this.last++]},this},m=function(e,t){return e.indexOf(t)},y=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}},b=function(e){return String.fromCharCode(e)};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return l.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var w=function(e,t){return o.join(t,e)},x=0,k="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",T=k+":",S=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),C=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),_=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),E=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");return n.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},n.prototype.formula=function(){return this._formula},n.prototype.loadStream=function(e){return this.loadBuf(e.read())},n.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},n.prototype.feed=function(e){for(var t=e.decode("utf-8"),n=0;n>=0;){var r=this.skipSpace(t,n);if(r<0)return;var n=this.directiveOrStatement(t,r);if(n<0)throw s(this._thisDoc,this.lines,t,r,"expected directive or statement")}},n.prototype.directiveOrStatement=function(e,t){var n=this.skipSpace(e,t);if(n<0)return n;var r=this.directive(e,n);if(r>=0)return this.checkDot(e,r);var r=this.statement(e,n);return r>=0?this.checkDot(e,r):r},n.prototype.tok=function(e,t,n){if("@"==p(t,n,n+1))var n=n+1;else if(a(this.keywords,e)<0)return-1;var r=n+d(e);return p(t,n,r)==e&&k.indexOf(t.charAt(r))>=0?r:-1},n.prototype.directive=function(t,n){var r=this.skipSpace(t,n);if(r<0)return r;var i=new f([]),r=this.tok("bind",t,n);if(r>0)throw s(this._thisDoc,this.lines,t,n,"keyword bind is obsolete: use @prefix");var r=this.tok("keywords",t,n);if(r>0){var n=this.commaSeparatedList(t,r,i,!1);if(n<0)throw s(this._thisDoc,this.lines,t,n,"'@keywords' needs comma separated list of words");return this.setKeywords(p(i,null,null)),n}var r=this.tok("forAll",t,n);if(r>0){var n=this.commaSeparatedList(t,r,i,!0);if(n<0)throw s(this._thisDoc,this.lines,t,n,"Bad variable list after @forAll");var o=new g(i);try{for(;;){var l=o.next();(a(this._variables,l)<0||a(this._parentVariables,l)>=0)&&(this._variables[l]=this._context.newUniversal(l))}}catch(e){if(e!=v)throw e}return n}var r=this.tok("forSome",t,n);if(r>0){var n=this.commaSeparatedList(t,r,i,this.uri_ref2);if(n<0)throw s(this._thisDoc,this.lines,t,n,"Bad variable list after @forSome");var o=new g(i);try{for(;;){var l=o.next();this._context.declareExistential(l)}}catch(e){if(e!=v)throw e}return n}var r=this.tok("prefix",t,n);if(r>=0){var u=new f([]),n=this.qname(t,r,u);if(n<0)throw s(this._thisDoc,this.lines,t,r,"expected qname after @prefix");var r=this.uri_ref2(t,n,u);if(r<0)throw s(this._thisDoc,this.lines,t,n,"expected <uriref> after @prefix _qname_");var c=u[1].uri;if(this._baseURI)var c=w(this._baseURI,c);else y(c.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return y(c.indexOf(":")>=0),this._bindings[u[0][0]]=c,this.bind(u[0][0],e(c)),r}var r=this.tok("base",t,n);if(r>=0){var u=new f([]),n=this.uri_ref2(t,r,u);if(n<0)throw s(this._thisDoc,this.lines,t,r,"expected <uri> after @base ");var c=u[0].uri;if(!this._baseURI)throw s(this._thisDoc,this.lines,t,r,"With no previous base URI, cannot use relative URI in @base  <"+c+">");var c=w(this._baseURI,c);return y(c.indexOf(":")>=0),this._baseURI=c,n}return-1},n.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},n.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},n.prototype.startDoc=function(){},n.prototype.endDoc=function(){return this._formula},n.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},n.prototype.statement=function(e,t){var n=new f([]),t=this.object(e,t,n);if(t<0)return t;var r=this.property_list(e,t,n[0]);if(r<0)throw s(this._thisDoc,this.lines,e,t,"expected propertylist");return r},n.prototype.subject=function(e,t,n){return this.item(e,t,n)},n.prototype.verb=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return r;var i=new f([]),r=this.tok("has",e,t);if(r>=0){var t=this.prop(e,r,i);if(t<0)throw s(this._thisDoc,this.lines,e,r,"expected property after 'has'");return n.push(new c(["->",i[0]])),t}var r=this.tok("is",e,t);if(r>=0){var t=this.prop(e,r,i);if(t<0)throw s(this._thisDoc,this.lines,e,r,"expected <property> after 'is'");var r=this.skipSpace(e,t);if(r<0)throw s(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");var t=r,r=this.tok("of",e,t);if(r<0)throw s(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return n.push(new c(["<-",i[0]])),r}var r=this.tok("a",e,t);if(r>=0)return n.push(new c(["->",this._store.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")])),r;if("<="==p(e,t,t+2))return n.push(new c(["<-",this._store.sym(u+"implies")])),t+2;if("="==p(e,t,t+1))return">"==p(e,t+1,t+2)?(n.push(new c(["->",this._store.sym(u+"implies")])),t+2):(n.push(new c(["->",this._store.sym("http://www.w3.org/2002/07/owl#sameAs")])),t+1);if(":="==p(e,t,t+2))return n.push(new c(["->",u+"becomes"])),t+2;var r=this.prop(e,t,i);if(r>=0)return n.push(new c(["->",i[0]])),r;if(">-"==p(e,t,t+2)||"<-"==p(e,t,t+2))throw s(this._thisDoc,this.lines,e,r,">- ... -> syntax is obsolete.");return-1},n.prototype.prop=function(e,t,n){return this.item(e,t,n)},n.prototype.item=function(e,t,n){return this.path(e,t,n)},n.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},n.prototype.path=function(e,t,n){var r=this.nodeOrLiteral(e,t,n);if(r<0)return r;for(;"!^.".indexOf(p(e,r,r+1))>=0;){var i=p(e,r,r+1);if("."==i){var o=p(e,r+1,r+2);if(!o||T.indexOf(o)>=0&&":?<[{(".indexOf(o)<0)break}var a=n.pop(),l=this.blankNode(this.here(r)),r=this.node(e,r+1,n);if(r<0)throw s(this._thisDoc,this.lines,e,r,"EOF found in middle of path syntax");var u=n.pop();"^"==i?this.makeStatement(new c([this._context,u,l,a])):this.makeStatement(new c([this._context,u,a,l])),n.push(l)}return r},n.prototype.anonymousNode=function(e){var t=this._anonymousNodes[e];if(t)return t;var t=this._store.bnode(e);return this._anonymousNodes[e]=t,t},n.prototype.node=function(e,t,n,r){void 0===r&&(r=null);var i=r,o=this.skipSpace(e,t);if(o<0)return o;var t=o,a=p(e,t,t+1);if("["==a){var l=this.here(t),o=this.skipSpace(e,t+1);if(o<0)throw s(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==p(e,o,o+1)){var t=o+1,u=new f([]),o=this.objectList(e,t,u);if(!(o>=0))throw s(this._thisDoc,this.lines,e,t,"objectList expected after [= ");var i=u[0];if(d(u)>1){var m=new g(u);try{for(;;){var y=m.next();this.makeStatement(new c([this._context,this._store.sym("http://www.w3.org/2002/07/owl#sameAs"),i,y]))}}catch(e){if(e!=v)throw e}}var o=this.skipSpace(e,o);if(o<0)throw s(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==p(e,o,o+1))var o=o+1}if(null==i)var i=this.blankNode(l);var t=this.property_list(e,o,i);if(t<0)throw s(this._thisDoc,this.lines,e,o,"property_list expected");var o=this.skipSpace(e,t);if(o<0)throw s(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=p(e,o,o+1))throw s(this._thisDoc,this.lines,e,o,"']' expected");return n.push(i),o+1}if("{"==a){var b=p(e,t+1,t+2);if("$"==b){t+=1;for(var o=t+1,w=new f([]),x=!0;;){var t=this.skipSpace(e,o);if(t<0)throw s(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==p(e,t,t+2)){var o=t+2;break}if(x)var x=!1;else{if(","!=p(e,t,t+1))throw s(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var k=new f([]),o=this.item(e,t,k);if(o<0)throw s(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");w.push(k[0])}return n.push(this._store.newSet(w,this._context)),o}var o=t+1,T=this._parentContext;this._parentContext=this._context;var S=this._anonymousNodes,C=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new h([]),this._variables=this._variables.slice();var _=this._reason2;if(this._reason2=null,null==i)var i=this._store.formula();for(this._context=i;;){var t=this.skipSpace(e,o);if(t<0)throw s(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==p(e,t,t+1)){var o=t+1;break}var o=this.directiveOrStatement(e,t);if(o<0)throw s(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=S,this._variables=this._parentVariables,this._parentVariables=C,this._context=this._parentContext,this._reason2=_,this._parentContext=T,n.push(i.close()),o}if("("==a){var E=this._store.list,b=p(e,t+1,t+2);if("$"==b){var E=this._store.newSet;t+=1}for(var o=t+1,w=new f([]);;){var t=this.skipSpace(e,o);if(t<0)throw s(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==p(e,t,t+1)){var o=t+1;break}var k=new f([]),o=this.item(e,t,k);if(o<0)throw s(this._thisDoc,this.lines,e,t,"expected item in list or ')'");w.push(k[0])}return n.push(E(w,this._context)),o}var o=this.tok("this",e,t);if(o>=0)throw s(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");var o=this.tok("true",e,t);if(o>=0)return n.push(!0),o;var o=this.tok("false",e,t);if(o>=0)return n.push(!1),o;if(null==i){var o=this.uri_ref2(e,t,n);if(o>=0)return o}return-1},n.prototype.property_list=function(e,t,n){for(;;){var r=this.skipSpace(e,t);if(r<0)throw s(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=p(e,r,r+2)){var t=r,i=new f([]),r=this.verb(e,t,i);if(r<=0)return t;var o=new f([]),t=this.objectList(e,r,o);if(t<0)throw s(this._thisDoc,this.lines,e,r,"objectList expected");var a=new g(o);try{for(;;){var l=a.next(),u=i[0],h=u[0],d=u[1];"->"==h?this.makeStatement(new c([this._context,d,n,l])):this.makeStatement(new c([this._context,d,l,n]))}}catch(e){if(e!=v)throw e}var r=this.skipSpace(e,t);if(r<0)throw s(this._thisDoc,this.lines,e,r,"EOF found in list of objects");if(";"!=p(e,t,t+1))return t;var t=t+1}else{var t=r+2,m=new f([]),r=this.node(e,t,m,n);if(r<0)throw s(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=r}}},n.prototype.commaSeparatedList=function(e,t,n,r){var i=this.skipSpace(e,t);if(i<0)throw s(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(r)var i=this.uri_ref2(e,i,n);else var i=this.bareWord(e,i,n);if(i<0)return-1;for(;;){var t=this.skipSpace(e,i);if(t<0)return t;var o=p(e,t,t+1);if(","!=o)return"."!=o?-1:t;if(r)var i=this.uri_ref2(e,t+1,n);else var i=this.bareWord(e,t+1,n);if(i<0)throw s(this._thisDoc,this.lines,e,i,"bad list content")}},n.prototype.objectList=function(e,t,n){var t=this.object(e,t,n);if(t<0)return-1;for(;;){var r=this.skipSpace(e,t);if(r<0)throw s(this._thisDoc,this.lines,e,r,"EOF found after object");if(","!=p(e,r,r+1))return r;var t=this.object(e,r+1,n);if(t<0)return t}},n.prototype.checkDot=function(e,t){var n=this.skipSpace(e,t);if(n<0)return n;if("."==p(e,n,n+1))return n+1;if("}"==p(e,n,n+1))return n;if("]"==p(e,n,n+1))return n;throw s(this._thisDoc,this.lines,e,n,"expected '.' or '}' or ']' at end of statement")},n.prototype.uri_ref2=function(e,t,n){var r=new f([]),i=this.qname(e,t,r);if(i>=0){var o=r[0],l=o[0],u=o[1];if(null==l){y(0,"not used?");var c=this._baseURI+"#"}else{var c=this._bindings[l];if(!c){if("_"==l)return n.push(this.anonymousNode(u)),i;throw s(this._thisDoc,this.lines,e,t,"Prefix "+l+" not bound.")}}var h=this._store.sym(c+u);return a(this._variables,h)>=0?n.push(this._variables[h]):n.push(h),i}var t=this.skipSpace(e,t);if(t<0)return-1;if("?"==e.charAt(t)){var v=new f([]),i=this.variable(e,t,v);return i>0?(n.push(v[0]),i):-1}if("<"==e.charAt(t)){for(var t=t+1,g=t;t<d(e);){if(">"==e.charAt(t)){var m=p(e,g,t);if(this._baseURI)var m=w(this._baseURI,m);else y(m.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==p(e,t-1,t)&&"#"!=p(m,-1,null))var m=m+"#";var h=this._store.sym(m);return a(this._variables,h)>=0?n.push(this._variables[h]):n.push(h),t+1}var t=t+1}throw s(this._thisDoc,this.lines,e,i,"unterminated URI reference")}if(this.keywordsSet){var v=new f([]),i=this.bareWord(e,t,v);if(i<0)return-1;if(a(this.keywords,v[0])>=0)throw s(this._thisDoc,this.lines,e,t,'Keyword "'+v[0]+'" not allowed here.');return n.push(this._store.sym(this._bindings[""]+v[0])),i}return-1},n.prototype.skipSpace=function(e,t){for(var n=" \n\r\t\f\v            ​\u2028\u2029　",r=t||0;r<e.length;r++){var i=e.charAt(r);if(n.indexOf(i)<0){if("#"!==e.charAt(r))return r;for(;;r++){if(r===e.length)return-1;if("\n"===e.charAt(r)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(r)&&(this.lines=this.lines+1)}return-1},n.prototype.variable=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;if("?"!=p(e,r,r+1))return-1;var r=r+1,t=r;if("0123456789-".indexOf(e.charAt(r))>=0)throw s(this._thisDoc,this.lines,e,r,"Varible name can't start with '"+e.charAt(r)+"s'");for(;t<d(e)&&T.indexOf(e.charAt(t))<0;)var t=t+1;if(null==this._parentContext)throw s(this._thisDoc,this.lines,e,r,"Can't use ?xxx syntax for variable in outermost level: "+p(e,r-1,t));return n.push(this._store.variable(p(e,r,t))),t},n.prototype.bareWord=function(e,t,n){var r=this.skipSpace(e,t);if(r<0)return-1;var i=e.charAt(r);if("0123456789-".indexOf(i)>=0)return-1;if(T.indexOf(i)>=0)return-1;for(var t=r;t<d(e)&&T.indexOf(e.charAt(t))<0;)var t=t+1;return n.push(p(e,r,t)),t},n.prototype.qname=function(e,t,n){var t=this.skipSpace(e,t);if(t<0)return-1;var r=e.charAt(t);if("0123456789-+".indexOf(r)>=0)return-1;if(T.indexOf(r)<0)for(var i=r,t=t+1;t<d(e);){var r=e.charAt(t);if(!(T.indexOf(r)<0))break;var i=i+r,t=t+1}else var i="";if(t<d(e)&&":"==e.charAt(t)){for(var o=i,t=t+1,i="";t<d(e);){var r=e.charAt(t);if(!(T.indexOf(r)<0))break;var i=i+r,t=t+1}return n.push(new c([o,i])),t}return i&&this.keywordsSet&&a(this.keywords,i)<0?(n.push(new c(["",i])),t):-1},n.prototype.object=function(e,t,n){var r=this.subject(e,t,n);if(r>=0)return r;var r=this.skipSpace(e,t);if(r<0)return-1;var t=r;if('"'==e.charAt(t)){if('"""'==p(e,t,t+3))var i='"""';else var i='"';var t=t+d(i),o=this.strconst(e,t,i),r=o[0],a=o[1];return n.push(this._store.literal(a)),r}return-1},n.prototype.nodeOrLiteral=function(e,t,n){var r=this.node(e,t,n);if(r>=0)return r;var r=this.skipSpace(e,t);if(r<0)return-1;var t=r;if("-+0987654321".indexOf(e.charAt(t))>=0){C.lastIndex=0;var i=C.exec(e.slice(t));if(null!=i){var o=i[0];r=t+o.length,o.indexOf("T")>=0?n.push(this._store.literal(o,void 0,this._store.sym("http://www.w3.org/2001/XMLSchema#dateTime"))):n.push(this._store.literal(o,void 0,this._store.sym("http://www.w3.org/2001/XMLSchema#date")))}else{S.lastIndex=0;var i=S.exec(e.slice(t));if(null==i)throw s(this._thisDoc,this.lines,e,t,"Bad number or date syntax");r=t+S.lastIndex;var o=p(e,t,r);o.indexOf("e")>=0?n.push(this._store.literal(parseFloat(o),void 0,this._store.sym("http://www.w3.org/2001/XMLSchema#double"))):p(e,t,r).indexOf(".")>=0?n.push(this._store.literal(parseFloat(o),void 0,this._store.sym("http://www.w3.org/2001/XMLSchema#decimal"))):n.push(this._store.literal(parseInt(o),void 0,this._store.sym("http://www.w3.org/2001/XMLSchema#integer")))}return r}if('"'==e.charAt(t)){if('"""'==p(e,t,t+3))var a='"""';else var a='"';var t=t+d(a),l=null,u=this.strconst(e,t,a),r=u[0],c=u[1],h=null;if("@"==p(e,r,r+1)){E.lastIndex=0;var i=E.exec(e.slice(r+1));if(null==i)throw s(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");var t=E.lastIndex+r+1,h=p(e,r+1,t),r=t}if("^^"==p(e,r,r+2))var v=new f([]),r=this.uri_ref2(e,r+2,v),l=v[0];return n.push(this._store.literal(c,h,l)),r}return-1},n.prototype.strconst=function(e,t,n){for(var r=t,i="",o=this.lines;r<d(e);){var t=r+d(n);if(p(e,r,t)==n)return new c([t,i]);if('"'!=e.charAt(r)){_.lastIndex=0;if(!_.exec(e.slice(r)))throw s(this._thisDoc,o,e,r,"Closing quote missing in string at ^ in "+p(e,r-20,r)+"^"+p(e,r,r+20));var t=r+_.lastIndex-1,i=i+p(e,r,t),a=e.charAt(t);if('"'!=a)if("\r"!=a){if("\n"==a){if('"'==n)throw s(this._thisDoc,o,e,t,"newline found in string literal");this.lines=this.lines+1;var i=i+a,r=t+1;this.previousLine=this.startOfLine,this.startOfLine=r}else if("\\"==a){var r=t+1,a=p(e,r,r+1);if(!a)throw s(this._thisDoc,o,e,t,"unterminated string literal (2)");var l=m('abfrtvn\\"',a);if(l>=0)var u='a\b\f\r\t\v\n\\"'.charAt(l),i=i+u,r=r+1;else if("u"==a)var f=this.uEscape(e,r+1,o),r=f[0],a=f[1],i=i+a;else{if("U"!=a)throw s(this._thisDoc,this.lines,e,t,"bad escape");var f=this.UEscape(e,r+1,o),r=f[0],a=f[1],i=i+a}}}else var r=t+1;else var r=t}else var i=i+'"',r=r+1}throw s(this._thisDoc,this.lines,e,t,"unterminated string literal")},n.prototype.uEscape=function(e,t,n){for(var r=t,i=0,o=0;i<4;){var a=p(e,r,r+1),l=a.toLowerCase(),r=r+1;if(""==l)throw s(this._thisDoc,n,e,t,"unterminated string literal(3)");var u=m("0123456789abcdef",l);if(u<0)throw s(this._thisDoc,n,e,t,"bad string literal hex escape");var o=16*o+u,i=i+1}var f=String.fromCharCode(o);return new c([r,f])},n.prototype.UEscape=function(e,t,n){for(var r=t,i=0,o="\\U";i<8;){var a=p(e,r,r+1),l=a.toLowerCase(),r=r+1;if(""==l)throw s(this._thisDoc,n,e,t,"unterminated string literal(3)");if(m("0123456789abcdef",l)<0)throw s(this._thisDoc,n,e,t,"bad string literal hex escape");var o=o+l,i=i+1}var u=b("0x"+p(o,2,10)-0);return new c([r,u])},r.prototype.toString=function(){var e=this._str,t=this._i,n=0;if(t>60)var r="...",n=t-60;else var r="";if(d(e)-t>60)var i="...";else var i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new c([this.lines+1,this._uri,this._why,r,p(e,n,t),p(e,t,t+60),i])},t}();e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r,a,s){function l(e,t){return a?void a(e,t):t}n=n||e.uri,s=s||{},r=r||"text/turtle";var u=null;try{var c=o(t);s.flags&&c.setFlags(s.flags);var f,h=t.statementsMatching(void 0,void 0,void 0,e);switch(c.suggestNamespaces(t.namespaces),c.setBase(n),r){case"application/rdf+xml":return u=c.statementsToXML(h),l(null,u);case"text/n3":case"application/n3":return u=c.statementsToN3(h),l(null,u);case"text/turtle":case"application/x-turtle":return c.setFlags("si"),u=c.statementsToN3(h),l(null,u);case"application/n-triples":return c.setFlags("deinprstux"),u=c.statementsToNTriples(h),l(null,u);case"application/ld+json":c.setFlags("deinprstux"),f=c.statementsToNTriples(h),i.convertToJson(f,a);break;case"application/n-quads":case"application/nquads":return c.setFlags("deinprstux q"),u=c.statementsToNTriples(h),l(null,u);default:throw new Error("Serialize: Content-type "+r+" not supported for data write.")}}catch(e){if(a)return a(e);throw e}}e.exports=r;var i=n(43),o=n(36)},function(e,t,n){"use strict";(function(t){function n(e){if(!(this instanceof n))return new n(e);if(e&&e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,n){this._tokenize(e,function(e,r){!e&&/^(?:IRI|prefixed|literal|langcode|type|\.|eof)$/.test(r.type)?n&&n(e,r):n&&n(e||t._syntaxError(r.type,n=null))})}}}var r=String.fromCharCode,i="function"==typeof t?t:function(e){setTimeout(e,0)},o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},s=/[\x00-\x20<>\\"\{\}\|\^\`]/;n.prototype={_iri:/^<((?:[^>\\]|\\[uU])+)>/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>/,_unescapedString:/^"[^"\\]+"(?=[^"\\])/,_singleQuotedString:/^"[^"\\]*(?:\\.[^"\\]*)*"(?=[^"\\])|^'[^'\\]*(?:\\.[^'\\]*)*'(?=[^'\\])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?=\.?[,;\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=[.,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;:\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<:])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){function n(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}for(var r=this._input;;){for(var i;i=this._newline.exec(r);)r=r.substr(i[0].length,r.length),this._line++;if((i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&e(r=null,{line:this._line,type:"eof",value:"",prefix:""}),this._input=r;var o,a=this._line,l="",u="",c="",f=r[0],h=null,d=0,p=!1;switch(f){case"^":if(1===r.length)break;if("^"!==r[1])return n(this);if(this._prevTokenType="^",r=r.substr(2),"<"!==r[0]){p=!0;break}case"<":if(h=this._unescapedIri.exec(r))l="IRI",u=h[1];else if(h=this._iri.exec(r)){if(null===(o=this._unescape(h[1]))||s.test(o))return n(this);l="IRI",u=o}break;case"_":((h=this._blank.exec(r))||t&&(h=this._blank.exec(r+" ")))&&(l="prefixed",c="_",u=h[1]);break;case'"':case"'":if(h=this._unescapedString.exec(r))l="literal",u=h[0];else if(h=this._singleQuotedString.exec(r)){if(null===(o=this._unescape(h[0])))return n(this);l="literal",u=o.replace(/^'|'$/g,'"')}else if(h=this._tripleQuotedString.exec(r)){if(o=h[1]||h[2],this._line+=o.split(/\r\n|\r|\n/).length-1,null===(o=this._unescape(o)))return n(this);l="literal",u=o.replace(/^'|'$/g,'"')}break;case"@":"literal"===this._prevTokenType&&(h=this._langcode.exec(r))?(l="langcode",u=h[1]):(h=this._keyword.exec(r))&&(l=h[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){l=".",d=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(r))&&(l="literal",u='"'+h[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(h[1]?"double":/^[+\-]?\d+$/.test(h[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(r))?l=h[0].toUpperCase():p=!0;break;case"f":case"t":(h=this._boolean.exec(r))?(l="literal",u='"'+h[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):p=!0;break;case"a":(h=this._shortPredicates.exec(r))?(l="abbreviation",u="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):p=!0;break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":d=1,l=f;break;default:p=!0}if(p&&("@prefix"!==this._prevTokenType&&"PREFIX"!==this._prevTokenType||!(h=this._prefix.exec(r))?((h=this._prefixed.exec(r))||t&&(h=this._prefixed.exec(r+" ")))&&(l="prefixed",c=h[1]||"",u=this._unescape(h[2])):(l="prefix",u=h[1]||"")),"^"===this._prevTokenType&&(l="IRI"===l||"prefixed"===l?"type":""),!l)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?n(this):this._input=r;e(null,{line:a,type:l,value:u,prefix:c}),this._prevTokenType=l,r=r.substr(d||h[0].length,r.length)}},_unescape:function(e){try{return e.replace(o,function(e,t,n,i){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return r(o)}if(n){if(o=parseInt(n,16),isNaN(o))throw new Error;return o<=65535?r(o):r(55296+(o-=65536)/1024,56320+(1023&o))}var s=a[i];if(!s)throw new Error;return s})}catch(e){return null}},_syntaxError:function(e){return this._input=null,new Error('Syntax error: unexpected "'+e+'" on line '+this._line+".")},tokenize:function(e,t){function n(e){null!==o._input&&(o._input+=e,o._tokenizeToEnd(t,!1))}function r(){null!==o._input&&o._tokenizeToEnd(t,!0)}var o=this;this._line=1,"string"==typeof e?(this._input=e,i(function(){o._tokenizeToEnd(t,!0)})):(this._input="",e&&"function"!=typeof e?("function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",n),e.on("end",r)):(this.addChunk=n,this.end=r,t||(t=e)))}},e.exports=n}).call(t,n(13).setImmediate)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._tripleStack=[],this._graph=null,e=e||{},this._setBase(e.documentIRI);var t="string"==typeof e.format&&e.format.match(/\w*$/)[0].toLowerCase(),n="turtle"===t,a="trig"===t,s=/triple/.test(t),l=/quad/.test(t),u=s||l;(this._supportsNamedGraphs=!n)||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s),u&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=i,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":"_:"+e.blankNodePrefix.replace(/^_:/,""),this._lexer=e.lexer||new o({lineMode:u})}function i(){}var o=n(29),a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s=a+"nil",l=a+"first",u=/^[a-z][a-z0-9+.-]*:/i,c=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,f=/(?:^|\/)\.\.?(?:$|[\/#?])/,h=0,d=0;r._resetBlankNodeIds=function(){h=d=0},r.prototype={_setBase:function(e){if(e){if(e.indexOf("#")>=0)throw new Error("Invalid base IRI "+e)}else e=null;(this._base=e)&&(this._basePath=e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(c),this._baseRoot=e[0],this._baseScheme=e[1])},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"@prefix":return this._sparqlStyle=!1,this._readPrefix;case"PREFIX":return this._sparqlStyle=!0,this._readPrefix;case"@base":return this._sparqlStyle=!1,this._readBaseIRI;case"BASE":return this._sparqlStyle=!0,this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readSubject:function(e){switch(this._predicate=null,e.type){case"IRI":null===this._base||u.test(e.value)?this._subject=e.value:this._subject=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._subject=t+e.value;break;case"[":return this._subject="_:b"+d++,this._tripleStack.push({subject:this._subject,predicate:null,object:null,type:"blank"}),this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:s,predicate:null,object:null,type:"list"}),this._subject=null,this._readListItem;case"}":return this._readPunctuation(e);default:return this._error("Expected subject but got "+e.type,e)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"IRI":case"abbreviation":null===this._base||u.test(e.value)?this._predicate=e.value:this._predicate=this._resolveIRI(e);break;case"prefixed":if("_"===e.prefix)return this._error("Disallowed blank node as predicate",e);var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);this._predicate=n+e.value;break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._readPredicate;default:return this._error('Expected predicate to follow "'+this._subject+'"',e)}return this._readObject},_readObject:function(e){switch(e.type){case"IRI":null===this._base||u.test(e.value)?this._object=e.value:this._object=this._resolveIRI(e);break;case"prefixed":var t=this._prefixes[e.prefix];if(void 0===t)return this._error('Undefined prefix "'+e.prefix+':"',e);this._object=t+e.value;break;case"literal":return this._object=e.value,this._readDataTypeOrLang;case"[":var n="_:b"+d++;return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:n,type:"blank"}),this._subject=n,this._readBlankNodeHead;case"(":return this._tripleStack.push({subject:this._subject,predicate:this._predicate,object:s,type:"list"}),this._subject=null,this._readListItem;default:return this._error('Expected object to follow "'+this._predicate+'"',e)}return this._getTripleEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""});var t=this._tripleStack.pop();return this._subject=t.subject,null!==t.object?(this._predicate=t.predicate,this._object=t.object,this._getTripleEndReader()):null!==this._predicate?this._readPredicate:this._readPredicateOrNamedGraph},_readDataTypeOrLang:function(e){switch(e.type){case"type":var t;if(""===e.prefix)t=null===this._base||u.test(e.value)?e.value:this._resolveIRI(e);else{var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);t=n+e.value}return this._object+="^^"+t,this._getTripleEndReader();case"langcode":return this._object+="@"+e.value.toLowerCase(),this._getTripleEndReader();default:return this._getTripleEndReader().call(this,e)}},_readListItem:function(e){var t=null,n=null,r=this._subject,i=this._tripleStack,o=i[i.length-1],a=this._readListItem;switch(e.type){case"IRI":t=null===this._base||u.test(e.value)?e.value:this._resolveIRI(e);break;case"prefixed":var c=this._prefixes[e.prefix];if(void 0===c)return this._error('Undefined prefix "'+e.prefix+':"',e);t=c+e.value;break;case"literal":t=e.value,a=this._readDataTypeOrLang;break;case"[":n="_:b"+d++,t="_:b"+d++,i.push({subject:n,predicate:l,object:t,type:"blank"}),this._subject=t,a=this._readBlankNodeHead;break;case"(":n="_:b"+d++,i.push({subject:n,predicate:l,object:s,type:"list"}),this._subject=null,a=this._readListItem;break;case")":if(i.pop(),0!==i.length&&"list"===i[i.length-1].type&&this._callback(null,{subject:o.subject,predicate:o.predicate,object:o.object,graph:this._graph||""}),this._subject=o.subject,null===o.predicate){if(a=this._readPredicate,o.subject===s)return a}else if(this._predicate=o.predicate,this._object=o.object,a=this._getTripleEndReader(),o.object===s)return a;n=s;break;default:return this._error('Expected list item instead of "'+e.type+'"',e)}return null===n&&(this._subject=n="_:b"+d++),null===r?o.object===s?o.object=n:o.subject=n:this._callback(null,{subject:r,predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",object:n,graph:this._graph||""}),null!==t&&this._callback(null,{subject:n,predicate:l,object:t,graph:this._graph||""}),a},_readPunctuation:function(e){var t,n=this._subject,r=this._graph;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);this._graph=null;case".":this._subject=null,t=this._readInTopContext;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"IRI":if(this._supportsQuads&&null===this._graph){r=null===this._base||u.test(e.value)?e.value:this._resolveIRI(e),n=this._subject,t=this._readQuadPunctuation;break}case"prefixed":if(this._supportsQuads&&null===this._graph){var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);r=i+e.value,t=this._readQuadPunctuation;break}default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return null!==n&&this._callback(null,{subject:n,predicate:this._predicate,object:this._object,graph:r||""}),t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return this._callback(null,{subject:this._subject,predicate:this._predicate,object:this._object,graph:this._graph||""}),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t;return t=null===this._base||u.test(e.value)?e.value:this._resolveIRI(e),this._prefixes[this._prefix]=t,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){if("IRI"!==e.type)return this._error("Expected IRI to follow base declaration",e);try{this._setBase(null===this._base||u.test(e.value)?e.value:this._resolveIRI(e))}catch(t){this._error(t.message,e)}return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject="_:b"+d++,this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?this._readInTopContext(e):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_getTripleEndReader:function(){var e=this._tripleStack;if(0===e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem}},_error:function(e,t){this._callback(new Error(e+" at line "+t.line+"."))},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!f.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,a="/";r<n;){switch(a){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(a=e[++r+1]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(a=e[++r+1])||"/"===a||"?"===a||"#"===a){if(t+=e.substring(o,r-2),(o=t.lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==a)return t+"/"+e.substr(r+1);o=r+1}}}a=e[++r]}return t+e.substring(o)},parse:function(e,t,n){this._readCallback=this._readInTopContext,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+h+++"_","function"==typeof e&&(n=t,t=e,e=null),this._callback=t||i,this._prefixCallback=n||i;var r=this;this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=i):void 0!==r._readCallback&&(r._readCallback=r._readCallback(t))}),e||(this.addChunk=this._lexer.addChunk,this.end=this._lexer.end)}},e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n in a)t?e.prototype[n]=i(a[n]):e[n]=a[n];return e}function i(e){return function(t){return e(this,t)}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={isIRI:function(e){if(!e)return e;var t=e[0];return'"'!==t&&"_"!==t},isLiteral:function(e){return e&&'"'===e[0]},isBlank:function(e){return e&&"_:"===e.substr(0,2)},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var n,r,i,o=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e);return o&&(n=o[1],r=t[n],i=o.index),void 0===r?e:0===i?r+e.substr(n.length+1):e.substr(0,i+3)+r+e.substr(i+n.length+4)},createIRI:function(e){return e&&'"'===e[0]?a.getLiteralValue(e):e},createLiteral:function(e,t){if(!t)switch(void 0===e?"undefined":o(e)){case"boolean":t="http://www.w3.org/2001/XMLSchema#boolean";break;case"number":if(isFinite(e)){t=e%1==0?"http://www.w3.org/2001/XMLSchema#integer":"http://www.w3.org/2001/XMLSchema#decimal";break}default:return'"'+e+'"'}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)}};e.exports=r(r)},function(e,t,n){"use strict";function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"===(void 0===e?"undefined":l(e))&&null!==e}function s(e){return void 0===e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";t=e.exports=n(50),t.Stream=t,t.Readable=t,t.Writable=n(34),t.Duplex=n(8),t.Transform=n(56),t.PassThrough=n(83)},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){E(t,e)}}function a(e){return R.from(e)}function s(e){return R.isBuffer(e)||e instanceof M}function l(){}function u(e,t){L=L||n(8),e=e||{},this.objectMode=!!e.objectMode,t instanceof L&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(L=L||n(8),!(P.call(c,this)||this instanceof L))return new c(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),I.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),N(t,n)}function h(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),N(r,o),i=!1),i}function d(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=R.from(t,n)),t}function p(e,t,n,r,i,o){if(!n){var a=d(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,s,r,i,o);return l}function v(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(N(i,r),N(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}function m(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(m(n),t)g(e,n,r,t,i);else{var o=k(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?O(b,e,n,o,i):b(e,n,o,i)}}function b(e,t,n,r){n||w(e,t),t.pendingcb--,r(),C(e,t)}function w(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,v(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;n;){var u=n.chunk,c=n.encoding,f=n.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,c,f),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,N(T,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function C(e,t){var n=k(t);return n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function _(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?N(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function E(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var N=n(21);e.exports=c;var L,O=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:N;c.WritableState=u;var j=n(14);j.inherits=n(12);var A={deprecate:n(82)},I=n(52),R=n(22).Buffer,M=i.Uint8Array||function(){},D=n(54);j.inherits(c,I),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var P;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(P=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!P.call(this,e)||e&&e._writableState instanceof u}})):P=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=s(e)&&!r.objectMode;return o&&!R.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=l),r.ended?f(this,n):(o||h(this,r,e,n))&&(r.pendingcb++,i=p(this,r,o,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=D.destroy,c.prototype._undestroy=D.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(4),n(13).setImmediate,n(5))},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function i(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var o=/^"([^]*)"(?:\^\^(.+)|@([\-a-z]+))?$/i,a=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,s=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};r.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,n,r,i){try{this._graph!==r&&(this._write((null===this._subject?"":this._graph?"\n}\n":".\n")+(r?this._encodeIriOrBlankNode(r)+" {\n":"")),this._subject=null,this._graph="["!==r[0]?r:"]"),this._subject===e?this._predicate===t?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(e){i&&i(e)}},_writeTripleLine:function(e,t,n,r,i){delete this._prefixMatch;try{this._write(this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(n)+(r?" "+this._encodeIriOrBlankNode(r)+".\n":".\n"),i)}catch(e){i&&i(e)}},_encodeIriOrBlankNode:function(e){var t=e[0];if("["===t||"("===t||"_"===t&&":"===e[1])return e;a.test(e)&&(e=e.replace(s,i));var n=this._prefixRegex.exec(e);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:e:"<"+e+">"},_encodeLiteral:function(e,t,n){return a.test(e)&&(e=e.replace(s,i)),n?'"'+e+'"@'+n:t?'"'+e+'"^^'+this._encodeIriOrBlankNode(t):'"'+e+'"'},_encodeSubject:function(e){if('"'===e[0])throw new Error("A literal as subject is not allowed: "+e);return"["===e[0]&&(this._subject="]"),this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if('"'===e[0])throw new Error("A literal as predicate is not allowed: "+e);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if('"'!==e[0])return this._encodeIriOrBlankNode(e);var t=o.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,n,r,i){void 0===n?this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t):"string"!=typeof r?this._writeTriple(e,t,n,"",r):this._writeTriple(e,t,n,r,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)},addPrefixes:function(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];/[#\/]$/.test(o)&&n[o]!==(i+=":")&&(r=!0,n[o]=i,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(r){var a="",s="";for(var l in n)a+=a?"|"+l:l,s+=(s?"|":"")+n[l];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+s+")[^/]*$|^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)},blank:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:"string"==typeof e?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return"[]";case 1:if(n=i[0],"["!==n.object[0])return"[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]";default:for(var o="[",a=0;a<r;a++)n=i[a],n.predicate===e?o+=", "+this._encodeObject(n.object):(o+=(a?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return o+"\n]"}},list:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return"("+n.join(" ")+")"},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(6),o=n(1),a=n(3),s=n(40),l=function(){function e(e){return encodeURI(e)}function t(e){for(var t,n="",r=0;r<e.length;r++)t=e.charCodeAt(r),n+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[r];return n}var n=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e};return n.prototype.setBase=function(e){return this.base=e,this},n.prototype.setFlags=function(e){return this.flags=e||"",this},n.prototype.toStr=function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t},n.prototype.fromStr=function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)},n.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},n.prototype.suggestNamespaces=function(e){for(var t in e)return this.suggestPrefix(t,e[t]),this},n.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")},n.prototype.makeUpPrefix=function(e){function t(t){return!!n.prototype.validPrefix.test(t)&&("ns"!==t&&(!(t in this.namespaces)&&(this.prefixes[e]=t,this.namespaces[t]=e,t)))}var r=e,i=t.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var o=r.lastIndexOf("/");o>=0&&(r=r.slice(o+1));for(var a=0;a<r.length&&this.prefixchars.indexOf(r[a]);)a++;if(r=r.slice(0,a),r.length<6&&i(r))return r;if(i(r.slice(0,3)))return r.slice(0,3);if(i(r.slice(0,2)))return r.slice(0,2);if(i(r.slice(0,4)))return r.slice(0,4);if(i(r.slice(0,1)))return r.slice(0,1);if(i(r.slice(0,5)))return r.slice(0,5);n.prototype.validPrefix.test(r)||(r="n");for(var s=0;;s++)if(i(r.slice(0,3)+s))return r.slice(0,3)+s},n.prototype.rootSubjects=function(e){for(var t={},n={},r={},i=0;i<e.length;i++){var o=e[i],a=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(o.subject)};[o.subject,o.predicate,o.object].map(function(e){"BlankNode"===e.termType?r[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach(function(e){a(e)})}),a(e[i].object);var s=n[this.toStr(o.subject)];s||(s=[]),s.push(o),n[this.toStr(o.subject)]=s}var l=[];for(var u in n)if(n.hasOwnProperty(u)){var c=this.fromStr(u);"BlankNode"===c.termType&&t[c]&&1===t[c].length||l.push(c)}this.incoming=t;for(var f={},h=0;h<l.length;h++)f[l[h].toNT()]=!0;return{roots:l,subjects:n,rootsHash:f,incoming:t}},n.prototype.toN3=function(e){return this.statementsToN3(e.statements)},n.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",n.prototype._notNameChars=n.prototype._notQNameChars+":",n.prototype.explicitURI=function(n){return"<"+(n=this.flags.indexOf("r")<0&&this.base?o.refTo(this.base,n):this.flags.indexOf("u")>=0?t(n):e(n))+">"},n.prototype.statementsToNTriples=function(e){var t=e.slice();t.sort();for(var n="",r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=this,a=this.store,s=function e(t){if("Collection"!==t.termType)return o.atomicTermToN3(t);for(var s=t.elements,l=a.sym(r+"nill"),u=s.length-1;u>=0;u--){var c=new i;n+=e(c)+" "+e(a.sym(r+"first"))+" "+e(s[u])+".\n",n+=e(c)+" "+e(a.sym(r+"rest"))+" "+e(l)+".\n",l=c}return o.atomicTermToN3(l)},l=0;l<t.length;l++){var u=t[l],c="";c+=s(u.subject)+" ",c+=s(u.predicate)+" ",c+=s(u.object)+" ",this.flags.indexOf("q")>=0&&(c+=s(u.why)+" "),c+=".\n",n+=c}return n},n.prototype.statementsToN3=function(e){function t(e){for(var t=this.rootSubjects(e),n=t.roots,i=[],o=0;o<n.length;o++){var a=n[o];i.push(r(a,t))}return i}function r(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[y(e,t)].concat([g(e,t)]).concat(["."]):m(e,t,!0).concat(["."])}function i(e,t){var n=[],r=null,i=t.subjects[this.toStr(e)]||[];if(void 0===i)throw new Error("Cant find statements for "+e);for(var o=[],a=0;a<i.length;a++){var s=i[a];s.predicate.uri===r?o.push(","):(r&&(n=n.concat([o]).concat([";"]),o=[]),n.push(h[s.predicate.uri]?h[s.predicate.uri]:y(s.predicate,t))),r=s.predicate.uri,o.push(m(s.object,t))}return n=n.concat([o])}function o(e,t,n){return"BlankNode"!==e.termType||!n&&void 0!==t.rootsHash[e.toNT()]?y(e,t):t.subjects[this.toStr(e)]?["[",g(e,t),"]"]:"[]"}function s(e,t){var n,r;switch(e.termType){case"Graph":return r=["{"],r=r.concat(v(e.statements)),r.concat(["}"]);case"Collection":for(r=["("],n=0;n<e.elements.length;n++)r.push([m(e.elements[n],t)]);return r.push(")"),r;default:return this.atomicTermToN3(e)}}function l(){var e="";this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n");for(var t in this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}var u=this.store,c={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},f=function(e,t){return a.heavyCompareSPO(e,t,u,c)};e.sort(f),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var h={};this.flags.indexOf("s")<0&&(h["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(h["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(h["http://www.w3.org/2000/10/swap/log#implies"]="=>");var d=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},p=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r],o="string"==typeof i?i:e(i);if(0!==r){var a=n.slice(-1)||" ";","===o||";"===o||("."!==o||"0123456789.".includes(a))&&(n+=" ")}n+=o}return n},v=t.bind(this),g=i.bind(this),m=o.bind(this);n.prototype.termToN3=y;var y=s.bind(this),b=l.bind(this),w=v(e);return b()+function e(t,n){var r="",i=1e5;void 0===n&&(n=-1);for(var o=0;o<t.length;o++){var a=t[o];if("string"!=typeof a){var s=e(a,n+1);if(s.length<10*(80-4*n)&&s.indexOf('"""')<0){var l=p(a);l.length<80-4*n&&(a=l,s="")}s&&(i=1e4),r+=s}if("string"==typeof a){if(1===a.length&&"\n"===r.slice(-1)&&",.;".indexOf(a)>=0){r=r.slice(0,-1)+a+"\n",i+=1;continue}if(i<4*n+4||i+a.length+1<80&&";.".indexOf(r[r.length-2])<0)r=r.slice(0,-1)+" "+a+"\n",i+=a.length+1;else{var u=d(4*n)+a;r+=u+"\n",i=u.length,n<0&&(r+="\n",i=1e5)}}}return r}(w)},n.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var n=e.value.toString();if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return n;case"http://www.w3.org/2001/XMLSchema#decimal":return n.indexOf(".")<0&&(n+=".0"),n;case"http://www.w3.org/2001/XMLSchema#double":return n.indexOf(".")<0&&(n+=".0"),n.indexOf("e")<0&&(n+="e0"),n;case"http://www.w3.org/2001/XMLSchema#boolean":return e.value?"true":"false"}var r=this.stringToN3(e.value);return e.language?r+="@"+e.language:e.datatype.equals(s.string)||(r+="^^"+this.atomicTermToN3(e.datatype,t)),r;case"NamedNode":return this.symbolToN3(e);default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}},n.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),n.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),n.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),n.prototype.stringToN3=function(e,t){t||(t="e");var r,i,o,a,s,l="";for(e.length>20&&'"'!==e.slice(-1)&&t.indexOf("n")<0&&(e.indexOf("\n")>0||e.indexOf('"')>0)?(a='"""',s=n.prototype.forbidden3):(a='"',s=n.prototype.forbidden1),r=0;r<e.length;){s.lastIndex=0;if(null==s.exec(e.slice(r)))break;i=r+s.lastIndex-1,l+=e.slice(r,i);var u=e[i];'"'===u&&'"""'===a&&'"""'!==e.slice(i,i+3)?l+=u:(o='\b\f\r\t\v\n\\"'.indexOf(u),o>=0?l+="\\"+'bfrtvn\\"'[o]:t.indexOf("e")>=0?l+="\\u"+("000"+u.charCodeAt(0).toString(16).toLowerCase()).slice(-4):l+=u),r=i+1}return a+l+e.slice(r)+a},n.prototype.symbolToN3=function(e){var t=e.uri,r=t.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=t.lastIndexOf("/")),r>=0&&this.flags.indexOf("p")<0&&(0===t.indexOf("http")||0===t.indexOf("ws")||0===t.indexOf("file"))){for(var i=!0,o=r+1;o<t.length;o++)if(n.prototype._notNameChars.indexOf(t[o])>=0){i=!1;break}if(i){var a=t.slice(r+1),s=t.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(a)<0?a:":"+a;var l=this.prefixes[s];if(l||(l=this.makeUpPrefix(s)),l)return this.namespacesUsed[s]=!0,l+":"+a}}return this.explicitURI(t)},n.prototype.writeStore=function(e){var t=this.store,n=t.fetcher,r=n&&n.appNode,i=this.store.index[3];for(var o in i){var a=t.fromNT(o);r&&a.sameTerm(r)||e("\n"+this.atomicTermToN3(a)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,a))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map(function(n){e("\n<"+n.object.value+"> log:metadata {\n");var r=t.statementsMatching(void 0,void 0,void 0,n.subject);e(this.statementsToN3(this.statementsToN3(r))),e("}.\n")});var s=[];r&&s.push(r);var l=[];s.map(function(e){l=l.concat(t.statementsMatching(void 0,void 0,void 0,e))}),e(this.statementsToN3(l))},n.prototype.statementsToXML=function(e){function t(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),n=t.roots,r=[],i=0;i<n.length;i++){var o=n[i];r.push(y(o,t))}return r}function i(e){return void 0===e?"@@@undefined@@@@":e.replace(/[&<"]/g,function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}})}function o(e){return i(this.base?a.uri.refTo(this.base,e.uri):e.uri)}function l(e,t){var n,o,a,l,c=[],f=t.subjects[this.toStr(e)];if(void 0===f)return b(e,t);f.sort(function(e,t){var n=e.predicate.uri,r=t.predicate.uri;if(n.substring(0,d.length)===d||r.substring(0,d.length)===d)return n.localeCompare(r);var i=n.substring(d.length),o=r.substring(d.length),a=parseInt(i,10),s=parseInt(o,10);return isNaN(a)||isNaN(s)||a!==i||s!==o?n.localeCompare(r):a-s});for(var h=0;h<f.length;h++)if(a=f[h],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==a.predicate.uri||n||"symbol"!==a.object.termType){if(l=a.predicate,l.uri.substr(0,d.length)===d){var p=l.uri.substr(d.length),v=parseInt(p,10);p===v.toString()&&(l=new r("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(o=w(l),a.object.termType){case"BlankNode":c=1===t.incoming[a.object].length?c.concat(["<"+o+' rdf:parseType="Resource">',y(a.object,t),"</"+o+">"]):c.concat(["<"+o+' rdf:nodeID="'+a.object.toNT().slice(2)+'"/>']);break;case"NamedNode":c=c.concat(["<"+o+' rdf:resource="'+m(a.object)+'"/>']);break;case"Literal":c=c.concat(["<"+o+(a.object.datatype.equals(s.string)?"":' rdf:datatype="'+i(a.object.datatype.uri)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+i(a.object.value)+"</"+o+">"]);break;case"Collection":c=c.concat(["<"+o+' rdf:parseType="Collection">',u(a.object,t),"</"+o+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}else n=a.object;var g=n?w(n):"rdf:Description",x="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(x=' rdf:nodeID="'+e.toNT().slice(2)+'"'):x=' rdf:about="'+m(e)+'"',["<"+g+x+">"].concat([c]).concat(["</"+g+">"])}function u(e,t){for(var n=[],r=0;r<e.elements.length;r++)n.push(y(e.elements[r],t));return n}function c(e,t){var n=[],r=t.subjects[this.toStr(e)];if(!r)return n;r.sort();for(var o=0;o<r.length;o++){var a=r[o];switch(a.object.termType){case"BlankNode":n=t.rootsHash[a.object.toNT()]?n.concat(["<"+w(a.predicate)+' rdf:nodeID="'+a.object.toNT().slice(2)+'">',"</"+w(a.predicate)+">"]):n.concat(["<"+w(a.predicate)+' rdf:parseType="Resource">',b(a.object,t),"</"+w(a.predicate)+">"]);break;case"NamedNode":n=n.concat(["<"+w(a.predicate)+' rdf:resource="'+m(a.object)+'"/>']);break;case"Literal":n=n.concat(["<"+w(a.predicate)+(a.object.datatype.equals(s.string)?"":' rdf:datatype="'+i(a.object.datatype.value)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+i(a.object.value)+"</"+w(a.predicate)+">"]);break;case"Collection":n=n.concat(["<"+w(a.predicate)+' rdf:parseType="Collection">',u(a.object,t),"</"+w(a.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}return n}function f(e){var t=e.uri,r=t.indexOf("#");if(r<0&&this.flags.indexOf("/")<0&&(r=t.lastIndexOf("/")),r<0)throw new Error("Cannot make qname out of <"+t+">");for(var i=r+1;i<t.length;i++)if(n.prototype._notNameChars.indexOf(t[i])>=0)throw new Error('Invalid character "'+t[i]+'" cannot be in XML qname for URI: '+t);var o=t.slice(r+1),a=t.slice(0,r+1);if(this.defaultNamespace&&this.defaultNamespace===a&&this.flags.indexOf("d")<0)return o;var s=this.prefixes[a];return s||(s=this.makeUpPrefix(a)),h[a]=!0,s+":"+o}var h=[];h["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var d="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",p=function(e){for(var t="",n=0;n<e;n++)t+=" ";return t},v=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];n+="string"==typeof i?i:e(i)}return n},g=t.bind(this),m=o.bind(this),y=l.bind(this),b=c.bind(this),w=f.bind(this),x=g(e),k="<rdf:RDF";this.defaultNamespace&&(k+=' xmlns="'+i(this.defaultNamespace)+'"');for(var T in h)if(h.hasOwnProperty(T)){var S=this.base&&this.flags.includes("z")?a.uri.refTo(this.base,T):T;k+="\n xmlns:"+this.prefixes[T]+'="'+i(S)+'"'}k+=">";var C=[k,x,"</rdf:RDF>"];return function e(t,n){var r,i="",o=1e5;n||(n=0);for(var a=0;a<t.length;a++){var s=t[a];if("string"!=typeof s){var l=e(s,n+1);l.length<10*(80-4*n)&&l.indexOf('"""')<0&&(r=v(s),r.length<80-4*n&&(s="   "+r,l="")),l&&(o=1e4),i+=l}"string"==typeof s&&(o<4*n+4?(i=i.slice(0,-1)+" "+s+"\n",o+=s.length+1):(r=p(4*n)+s,i+=r+"\n",o=r.length))}return i}(C,-1)},function(e){return new n(e)}}();e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(7),u=n(27),c=n(0),f=n(15),h=n(59),d=n(38).parseRDFaDOM,p=n(39),v=n(1),g=n(3),m=n(28),y={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},b={rdf:"application/rdf+xml",owl:"application/rdf+xml",n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},w={link:f("http://www.w3.org/2007/ont/link#"),http:f("http://www.w3.org/2007/ont/http#"),httph:f("http://www.w3.org/2007/ont/httph#"),rdf:f("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),rdfs:f("http://www.w3.org/2000/01/rdf-schema#"),dc:f("http://purl.org/dc/elements/1.1/"),ldp:f("http://www.w3.org/ns/ldp#")},x=function e(t,n){o(this,e),this.response=t,this.dom=n},k=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){var r=e.store;if(this.dom||(this.dom=g.parseXML(t)),"parsererror"===this.dom.documentElement.nodeName)return e.failFetch(n,"Badly formed XML in "+n.resource.uri,"parse_error");var i=new p(r);try{i.parse(this.dom,n.original.uri,n.original)}catch(t){return e.failFetch(n,"Syntax error parsing RDF/XML! "+t,"parse_error")}return n.noMeta||r.add(n.original,w.rdf("type"),w.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes["application/rdf+xml"]={q:.9}}}]),t}(x);k.pattern=new RegExp("application/rdf\\+xml");var T=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){var r=void 0,i=void 0;this.dom||(this.dom=g.parseXML(t));var o=e.store,a=this.dom.getElementsByTagName("title");a.length>0&&o.add(n.resource,w.dc("title"),o.literal(a[0].textContent),n.resource);for(var s=this.dom.getElementsByTagName("link"),l=s.length-1;l>=0;l--)r=s[l].getAttribute("rel"),i=!1,r||(r=s[l].getAttribute("rev"),i=!0),r&&e.linkData(n.original,r,s[l].getAttribute("href"),n.resource,i);for(var u=this.dom.getElementsByTagName("script"),c=0;c<u.length;c++){var f=u[c].getAttribute("type");y[f]&&h(u[c].textContent,o,n.original.uri,f)}if(n.noMeta||o.add(n.resource,w.rdf("type"),w.link("WebPage"),e.appNode),!n.noRDFa&&d)try{d(this.dom,o,n.original.uri)}catch(t){var p="Error trying to parse "+n.resource+" as RDFa:\n"+t+":\n"+t.stack;return e.failFetch(n,p,"parse_error")}return e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes["application/xhtml+xml"]={}}}]),t}(x);T.pattern=new RegExp("application/xhtml");var S=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){for(var r=g.parseXML(t),i=0;i<r.childNodes.length;i++)if(1===r.childNodes[i].nodeType){var o=r.childNodes[i].namespaceURI;if(o&&o===o.rdf){e.addStatus(n.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var a=new k(this.response,r);return a.parse(e,t,n)}break}if(r.doctype&&"html"===r.doctype.name&&r.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&r.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n");return new T(this.response,r).parse(e,t,n)}var s=r.getElementsByTagName("html")[0];if(s){var l=s.getAttribute("xmlns");if(l&&l.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){e.addStatus(n.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n");return new T(this.response,r).parse(e,t,n)}}return e.failFetch(n,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80))}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}}]),t}(x);S.pattern=new RegExp("(text|application)/(.*)xml");var C=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){var r=e.store;if(t.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)){e.addStatus(n.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n");return new T(this.response).parse(e,t,n)}if(t.match(/.*<!DOCTYPE\s+html[^<]+-\/\/W3C\/\/DTD XHTML[^<]+http:\/\/www.w3.org\/TR\/xhtml[^<]+>/)){e.addStatus(n.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n");return new T(this.response).parse(e,t,n)}if(t.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/)){e.addStatus(n.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n");return new T(this.response).parse(e,t,n)}var i=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return i&&r.add(n.resource,w.dc("title"),r.literal(i[1]),n.resource),r.add(n.resource,w.rdf("type"),w.link("WebPage"),e.appNode),e.addStatus(n.req,"non-XML HTML document, not parsed for data."),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}]),t}(x);C.pattern=new RegExp("text/html");var _=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){if(t.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/)){e.addStatus(n.req,"Warning: "+n.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n");return new S(this.response).parse(e,t,n)}if(t.slice(0,500).match(/xmlns:/)){e.addStatus(n.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n");return new S(this.response).parse(e,t,n)}return e.addStatus(n.req,"Plain text document, no known RDF semantics."),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}]),t}(x);_.pattern=new RegExp("text/plain");var E=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"parse",value:function(e,t,n){var r=e.store,i=u(r,r,n.original.uri,n.original.uri,null,null,"",null);try{i.loadBuf(t)}catch(t){var o="Error trying to parse "+n.resource+" as Notation3:\n"+t+":\n"+t.stack;return e.failFetch(n,o,"parse_error")}return e.addStatus(n.req,"N3 parsed: "+i.statementCount+" triples in "+i.lines+" lines."),e.store.add(n.original,w.rdf("type"),w.link("RDFDocument"),e.appNode),e.doneFetch(n,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}]),t}(x);E.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var N={RDFXMLHandler:k,XHTMLHandler:T,XMLHandler:S,HTMLHandler:C,TextHandler:_,N3Handler:E},L=function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.store=t,this.timeout=i.timeout||3e4,this._fetch=i.fetch,this._fetch||("undefined"!=typeof window?this._fetch=window.fetch.bind(window):this._fetch=n(91)),this.appNode=this.store.bnode(),this.store.fetcher=this,this.requested={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},g.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(N).map(function(e){return r.addHandler(N[e])})}return s(e,[{key:"fetch",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof Array)return Promise.all(e.map(function(e){return t.fetch(e,Object.assign({},n))}));var r=e.uri||e;return r=r.split("#")[0],n=this.initFetchOptions(r,n),this.pendingFetchPromise(r,n.baseURI,n)}},{key:"pendingFetchPromise",value:function(e,t,n){var r=void 0;return!n.force&&this.fetchQueue[t]?r=this.fetchQueue[t]:(r=Promise.race([this.setRequestTimeout(e,n),this.fetchUri(e,n)]),this.fetchQueue[t]=r,this.cleanupFetchRequest(t,n,this.timeout)),r}},{key:"cleanupFetchRequest",value:function(e,t,n){var r=this;setTimeout(function(){r.isPending(e)||delete r.fetchQueue[e]},n)}},{key:"load",value:function(e,t){return this.fetch(e,t)}},{key:"initFetchOptions",value:function(t,n){var r=this.store;!n.method||"GET"===n.method.toUpperCase()||(n.force=!0),n.resource=r.sym(t),n.baseURI=n.baseURI||t,n.original=r.sym(n.baseURI),n.req=r.bnode(),n.headers=n.headers||{},n.contentType&&(n.headers["content-type"]=n.contentType),n.force&&(n.cache="no-cache");var i=this.acceptString();n.headers.accept=i;var o=e.offlineOverride(t);n.requestedURI=o,e.withCredentials(o,n)&&(n.credentials="include");var a=e.proxyIfNecessary(o);return o!==a&&(n.proxyUsed=!0),n.actualProxyURI=a,n}},{key:"fetchUri",value:function(t,n){var r=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(e.unsupportedProtocol(t))return this.failFetch(n,"Unsupported protocol","unsupported_protocol");var i=this.getState(t);if(n.force)delete this.nonexistent[t];else{if("fetched"===i)return Promise.resolve(this.doneFetch(n,{status:200,ok:!0}));if("failed"===i)return this.failFetch(n,"Previously failed: "+this.requested[t],this.requested[t])}this.fireCallbacks("request",[t]),this.requested[t]=!0,n.noMeta||this.saveRequestMetadata(t,n);var o=n.actualProxyURI;return this._fetch(o,n).then(function(e){return r.handleResponse(e,t,n)}).catch(function(e){return r.handleError(e,t,n)})}},{key:"nowOrWhenFetched",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=e.uri||e,"function"==typeof t?n=t:void 0===t||(t instanceof c?r.referringTerm=t:r=t),this.fetch(e,r).then(function(e){n&&n(e.ok,e.statusText||e.error,e)}).catch(function(e){console.log("Non-HTTP error in fetch"+e),n(!1,e.message,{status:999})})}},{key:"addStatus",value:function(e,t){var n=new Date;t="["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds()+"] "+t;var r=this.store,i=r.the(e,w.link("status"));i&&i.append?i.append(r.literal(t)):l.warn("web.js: No list to add to: "+i+","+t)}},{key:"failFetch",value:function(e,t,n){return this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,w.link("error"),t),e.resource.sameTerm(e.original)?console.log("@@ Recording failure for "+e.original+": "+n):console.log("@@ Recording failure original "+e.original+"( as "+e.resource+") : "+n),(!e.method||"GET"===e.method.toUpperCase()||"HEAD"===e.method.toUpperCase())&&(this.requested[v.docpart(e.original.uri)]=n,this.fireCallbacks("fail",[e.original.uri,t])),Promise.resolve({ok:!1,error:t,status:n})}},{key:"linkData",value:function(e,t,n,r,i){if(n){var o=this.store,a=void 0,s=o.sym(v.join(n,e.uri));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.uri===e.uri)return;a=w.rdfs("seeAlso")}else a="type"===t?o.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):o.sym(v.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?o.add(s,a,e,r):o.add(e,a,s,r)}}},{key:"parseLinkHeader",value:function(e,t,n){if(e)for(var r=/<[^>]*>\s*(\s*;\s*[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,i=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,o=e.match(r),a=0;a<o.length;a++)for(var s=o[a].split(">"),l=s[0].substring(1),u=s[1],c=u.match(i),f=0;f<c.length;f++){var h=c[f],d=h.split("="),p=d[1].replace(/["']/g,"");this.linkData(t,p,l,n)}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.uri]="done",this.fireCallbacks("done",[e.original.uri]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.uri]?this.lookedUp[t.uri]||this.lookUpThing(t,e):this.lookedUp[t.uri]&&(this.lookedUp[e.uri]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e.uri||e;var n=new c(e).doc();return t.data=m(n,this.store,n.uri,t.contentType||"text/turtle"),this.webOperation("PUT",e,t)}},{key:"webCopy",value:function(e,t,n){var r=this;return this.webOperation("GET",e).then(function(e){return r.webOperation("PUT",t,{data:e.responseText,contentType:n})})}},{key:"delete",value:function(e,t){var n=this;return this.webOperation("DELETE",e,t).then(function(t){return n.requested[e]=404,n.nonexistent[e]=!0,n.unload(n.store.sym(e)),t})}},{key:"createContainer",value:function(e,t,n){var r={"content-type":"text/turtle",link:w.ldp("BasicContainer")+'; rel="type"'};t&&(r.slug=t);var i={headers:r};return n&&(i.body=n),this.webOperation("POST",e,i)}},{key:"webOperation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.method=e,n.body=n.data||n.body,n.force=!0,this.fetch(t,n)}},{key:"lookUpThing",value:function(e,t){var n=this,r=this.store.uris(e);return r=r.map(function(e){return v.docpart(e)}),r.forEach(function(e){n.lookedUp[e]=!0}),this.fetch(r,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var n=this.store,r=n.each(void 0,w.link("requestedURI"),e.uri),i=0;i<r.length;i++){var o=r[i];if(void 0!==o){var a=n.any(o,w.link("response"));if(void 0!==a){var s=n.each(a,w.httph(t.toLowerCase()));return s.length?s.map(function(e){return e.value}):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var n=t.req,r=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers.accept),i&&i.uri&&r.add(e,w.link("requestedBy"),i.uri,this.appNode),t.original&&t.original.uri!==e&&r.add(n,w.link("orginalURI"),r.literal(t.original.uri),this.appNode);var o=new Date,a="["+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()+"] ";r.add(n,w.rdfs("label"),r.literal(a+" Request for "+e),this.appNode),r.add(n,w.link("requestedURI"),r.literal(e),this.appNode),r.add(n,w.link("status"),r.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var n=this.store,r=n.bnode();return n.add(t.req,w.link("response"),r),n.add(r,w.http("status"),n.literal(e.status),r),n.add(r,w.http("statusText"),n.literal(e.statusText),r),t.resource.uri.startsWith("http")?(e.headers.forEach(function(e,i){n.add(r,w.httph(i),e,r),"content-type"===i&&n.add(t.resource,w.rdf("type"),g.mediaTypeClass(e),r)}),r):r}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if(void 0!==t)for(var n=0;n<t.length;n++)this.refresh(this.store.sym(v.docpart(t[n])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.uri&&delete this.requested[v.docpart(e.uri)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return void 0===this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.uri]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){console.log("web: Retrying with no credentials for "+t.resource),t.retriedWithNoCredentials=!0,delete this.requested[e];var n=Object.assign({},t,{withCredentials:!1});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.fetch(e,n)}},{key:"isCrossSite",value:function(e){if("undefined"==typeof document||!document.location)return!1;var t=v.hostpart,n=""+document.location;return t(n)&&t(e)&&t(n)!==t(e)}},{key:"handleError",value:function(t,n,r){if(this.isCrossSite(n)){if(r.withCredentials&&!r.retriedWithNoCredentials)return this.retryNoCredentials(n,r);var i=e.crossSiteProxy(n);if(i&&!r.proxyUsed)return console.log("web: Direct failed so trying proxy "+i),this.redirectToProxy(i,r)}var o=t.message||t.status+" "+t.statusText;return this.failFetch(r,"Request failed: "+o,t.status)}},{key:"addType",value:function(e,t,n,r){var i=t;if(r){var o=n.any(i,w.link("requestedURI"));o&&o!==r&&n.add(n.sym(r),w.rdf("type"),e,this.appNode)}for(;;){var a=n.any(i,w.link("requestedURI"));if(a&&a.value&&n.add(n.sym(a.value),w.rdf("type"),e,this.appNode),!(i=n.any(void 0,n.sym("http://www.w3.org/2007/ont/link#redirectedRequest"),i)))break;var s=n.any(i,n.sym("http://www.w3.org/2007/ont/link#response"));if(!s)break;var l=n.any(s,n.sym("http://www.w3.org/2007/ont/http#status"));if(!l)break;if("301"!==l&&"302"!==l)break}}},{key:"handleResponse",value:function(e,t,n){var r=this,i=this.store,o=e.headers,a=n.req,s=this.saveResponseMetadata(e,n),l=this.normalizedContentType(n,o)||"",u=o.get("content-location");if(0===e.status)return console.log("Masked error - status 0 for "+t),this.handleError(e,t,n);if(e.status>=400)return 404===e.status&&(this.nonexistent[n.original.uri]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,s).then(function(){var t="HTTP error for "+n.resource+": "+e.status+" "+e.statusText;return r.failFetch(n,t,e.status)});var c=null,f=null;if(u&&(f=v.join(u,t))!==t&&(c=f),200===e.status){this.addType(w.link("Document"),a,i,t),c&&this.addType(w.link("Document"),a,i,c),n.clearPreviousData&&i.removeDocument(n.resource);var h=l.includes("image/")||l.includes("application/pdf");l&&h&&(this.addType(i.sym("http://purl.org/dc/terms/Image"),a,i,t),c&&this.addType(i.sym("http://purl.org/dc/terms/Image"),a,i,c))}if(u){if(!n.force&&c&&"done"===this.requested[f])return this.doneFetch(n,e);this.requested[f]=!0}this.parseLinkHeader(o.get("link"),n.original,a);var d=this.handlerForContentType(l,e);return d?e.text().then(function(t){return e.responseText=t,d.parse(r,t,n)}):(this.addStatus(a,"Fetch over. No data handled."),this.doneFetch(n,e))}},{key:"saveErrorResponse",value:function(e,t){var n=this.store;return e.text().then(function(e){e.length>10&&n.add(t,w.http("content"),n.literal(e),t)})}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var n=this.handlers.find(function(t){return e.match(t.pattern)});return n?new n(t):null}},{key:"guessContentType",value:function(e){return b[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var n=t.get("content-type");if(!n||n.includes("application/octet-stream")){var r=this.guessContentType(e.resource.uri);if(r)return r}var i=v.protocol(e.resource.uri);return!n&&["file","chrome"].includes(i)?"text/xml":n}},{key:"redirectToProxy",value:function(e,t){var n=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var r=this.store,i=t.req;t.noMeta||(r.add(i,w.link("redirectedTo"),r.sym(e),i),this.addStatus(i,"redirected to new request")),this.requested[t.resource.uri]="redirected",this.redirectedTo[t.resource.uri]=e;var o=Object.assign({},t);return o.baseURI=t.resource.uri,this.fetchUri(e,o).then(function(e){return o.noMeta||r.add(i,w.link("redirectedRequest"),o.req,n.appNode),e})}},{key:"setRequestTimeout",value:function(e,t){var n=this;return new Promise(function(r){setTimeout(function(){!n.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||r(n.failFetch(t,"Request to "+e+" timed out","timeout"))},n.timeout)})}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes){""!==e&&(e+=", "),e+=t;for(var n in this.mediatypes[t])e+=";"+n+"="+this.mediatypes[t][n]}return e}}],[{key:"crossSiteProxy",value:function(t){return e.crossSiteProxyTemplate?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):void 0}},{key:"offlineOverride",value:function(e){var t=e;return"undefined"!=typeof tabulator&&tabulator.preferences.get("offlineModeUsingLocalhost")&&"http://"===t.slice(0,7)&&"localhost/"!==t.slice(7,17)&&(t="http://localhost/"+t.slice(7),l.warn("Localhost kludge for offline use: actually getting <"+t+">")),t}},{key:"proxyIfNecessary",value:function(t){if("undefined"!=typeof tabulator&&tabulator.isExtension)return t;if("undefined"!=typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var n=t.split("/").slice(2),r=function e(t,n){var r=n[t.shift()];return r?"string"==typeof r?r+t.join("/"):t?e(t,r):null:null}(n,$SolidTestEnvironment.localSiteMap);if(r)return r}return e.crossSiteProxyTemplate&&"undefined"!=typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===t.slice(0,5)?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(e){var t=v.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"withCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.startsWith("https:");return void 0!==t.withCredentials&&(n=t.withCredentials),n}}]),e}();e.exports=L,e.exports.HANDLERS=N,e.exports.CONTENT_TYPE_BY_EXT=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),a=n(10),s=n(26),l=n(0),u=n(1),c=n(3);if(void 0===f)var f={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var h=function(){function e(t,n){r(this,e),this.options=n||{},this.kb=t,this.target=n.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return i(e,[{key:"addTriple",value:function(e,t,n,r){var i,o,a,l;i=void 0===t?s.namedNode(this.options.base):this.toRDFNodeObject(t),a=this.toRDFNodeObject(n),o=this.toRDFNodeObject(r),l=s.namedNode(this.options.base),this.kb.add(i,a,o,l)}},{key:"ancestorPath",value:function(e){for(var t="";e&&e.nodeType!==f.DOCUMENT_NODE;)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var n in e)t[n]=e[n];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var n=0;n<e.dateTimeTypes.length;n++){var r=e.dateTimeTypes[n].pattern.exec(t);if(r&&r[0].length===t.length)return e.dateTimeTypes[n].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return"_:"+ ++this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,n,r){var i,o=t.indexOf(":");if(o>=0){var a=t.substring(0,o);if(""===a)return i=n[""],i?i+t.substring(o+1):null;if("_"===a)return"_:"+t.substring(o+1);if(e.NCNAME.test(a)&&(i=n[a]))return i+t.substring(o+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,n){var r=this.parseCURIE(e,t,n);return r||this.resolveAndNormalize(n,e)}},{key:"parsePredicate",value:function(e,t,n,r,i,o){if(""===e)return null;var a=this.parseTermOrCURIEOrAbsURI(e,t,o?null:n,r,i);return a&&0===a.indexOf("_:")?null:a}},{key:"parsePrefixMappings",value:function(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"===n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.options.base?u.join(n[i],this.options.base):n[i],r=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,n){return e=this.trim(e),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0===e.length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,n)):this.parseCURIEOrURI(e,t,n)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var a=n[e];if(a)return a;if(a=n[e.toLowerCase()])return a}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;var a=n[e];return a||((a=n[e.toLowerCase()])?a:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,n){var r;t.nodeType===f.DOCUMENT_NODE?(r=t.baseURI,t=t.documentElement,t.baseURI=r,this.setContext(t)):t.parentNode.nodeType===f.DOCUMENT_NODE&&this.setContext(t);var i=[],o=function(e){if(!e&&n&&n.baseURI)return n.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),n&&n.baseURIMap&&(e=n.baseURIMap(e)),e};for(i.push({current:t,context:this.push(null,o(t.baseURI))});i.length>0;){var a=i.shift();if(a.parent){if(a.context.parent&&a.context.parent.listMapping===a.listMapping)continue;for(var s in a.listMapping){var l=a.listMapping[s];if(0!==l.length){for(var c=[],h=0;h<l.length;h++)c.push(this.newBlankNode());for(var d=0;d<c.length;d++)this.addTriple(a.parent,c[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",l[d]),this.addTriple(a.parent,c[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:d+1<c.length?c[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(a.parent,a.subject,s,{type:e.objectURI,value:c[0]})}else this.addTriple(a.parent,a.subject,s,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var p=a.current,v=a.context,g=!1,m=null,y=null,b=null,w=v.prefixes,x=!1,k=[],T=v.listMapping,S=!v.parent,C=v.language,_=v.vocabulary;r=this.parseURI(o(p.baseURI)),p.item=null;var E=p.getAttributeNode("vocab");if(E){var N=this.trim(E.value);if(N.length>0){_=N;var L=r.spec;this.addTriple(p,L,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:_})}else _=this.vocabulary}for(var O=0;O<p.attributes.length;O++){var j=p.attributes[O];if("x"===j.nodeName.charAt(0)&&0===j.nodeName.indexOf("xmlns:")){x||(w=this.copyMappings(w),x=!0);var A=j.nodeName.substring(6),I=e.trim(j.value);w[A]=this.options.base?u.join(I,this.options.base):I}}var R=p.getAttributeNode("prefix");R&&(x||(w=this.copyMappings(w),x=!0),this.parsePrefixMappings(R.value,w));for(var M=null,D=0;!M&&D<this.langAttributes.length;D++)M=p.getAttributeNodeNS(this.langAttributes[D].namespaceURI,this.langAttributes[D].localName);if(M){var P=e.trim(M.value);C=P.length>0?P:null}var U,F,H=p.getAttributeNode("rel"),B=p.getAttributeNode("rev"),q=p.getAttributeNode("typeof"),W=p.getAttributeNode("property"),z=p.getAttributeNode("datatype"),V=this.inHTMLMode?p.getAttributeNode("datetime"):null,X=p.getAttributeNode("content"),$=p.getAttributeNode("about"),G=p.getAttributeNode("src"),Y=p.getAttributeNode("resource"),J=p.getAttributeNode("href"),Q=p.getAttributeNode("inlist"),K=[];if(H){F=this.tokenize(H.value);for(var Z=0;Z<F.length;Z++)(U=this.parsePredicate(F[Z],_,v.terms,w,r,this.inHTMLMode&&null!==W))&&K.push(U)}var ee=[];if(B){F=this.tokenize(B.value);for(var te=0;te<F.length;te++)(U=this.parsePredicate(F[te],_,v.terms,w,r,this.inHTMLMode&&W))&&ee.push(U)}if(this.inHTMLMode&&(H||B)&&W&&(0===K.length&&(H=null),0===ee.length&&(B=null)),H||B?($&&(m=this.parseSafeCURIEOrCURIEOrURI($.value,w,r)),q&&(b=m),m||(p.parentNode.nodeType===f.DOCUMENT_NODE?m=o(p.baseURI):v.parentObject&&(m=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject)),Y&&(y=this.parseSafeCURIEOrCURIEOrURI(Y.value,w,r)),y||(J?y=this.resolveAndNormalize(r,encodeURI(J.value)):G?y=this.resolveAndNormalize(r,encodeURI(G.value)):!q||$||this.inXHTMLMode&&("head"===p.localName||"body"===p.localName)||(y=this.newBlankNode())),!q||$||!this.inXHTMLMode||"head"!==p.localName&&"body"!==p.localName?q&&!$&&(b=y):b=m):!W||X||z?($&&(m=this.parseSafeCURIEOrCURIEOrURI($.value,w,r)),!m&&Y&&(m=this.parseSafeCURIEOrCURIEOrURI(Y.value,w,r)),!m&&J&&(m=this.resolveAndNormalize(r,encodeURI(J.value))),!m&&G&&(m=this.resolveAndNormalize(r,encodeURI(G.value))),m||(p.parentNode.nodeType===f.DOCUMENT_NODE?m=o(p.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName?q?m=this.newBlankNode():v.parentObject&&(m=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,W||(g=!0)):m=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject),q&&(b=m)):($&&(m=this.parseSafeCURIEOrCURIEOrURI($.value,w,r),q&&(b=m)),m||p.parentNode.nodeType!==f.DOCUMENT_NODE?!m&&v.parentObject&&(m=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject):(m=o(p.baseURI),q&&(b=m)),q&&!b&&(Y&&(b=this.parseSafeCURIEOrCURIEOrURI(Y.value,w,r)),!b&&J&&(b=this.resolveAndNormalize(r,encodeURI(J.value))),!b&&G&&(b=this.resolveAndNormalize(r,encodeURI(G.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName||(b=m),b||(b=this.newBlankNode()),y=b)),m&&($||Y||b)){var ne=m;q&&!$&&!Y&&y&&(ne=y),this.newSubjectOrigin(p,ne)}if(b){F=this.tokenize(q.value);for(var re=0;re<F.length;re++){var ie=this.parseTermOrCURIEOrAbsURI(F[re],_,v.terms,w,r);ie&&this.addTriple(p,b,e.typeURI,{type:e.objectURI,value:ie})}}if(m&&m!==v.parentObject&&(T={},S=!0),y){if(H&&Q)for(var oe=0;oe<K.length;oe++){var ae=T[K[oe]];ae||(ae=[],T[K[oe]]=ae),ae.push({type:e.objectURI,value:y})}else if(H)for(var se=0;se<K.length;se++)this.addTriple(p,m,K[se],{type:e.objectURI,value:y});if(B)for(var le=0;le<ee.length;le++)this.addTriple(p,y,ee[le],{type:e.objectURI,value:m})}else{if(m&&!y&&(H||B)&&(y=this.newBlankNode()),H&&Q)for(var ue=0;ue<K.length;ue++){var ce=T[K[ue]];ce||(ce=[],T[U]=ce),k.push({predicate:K[ue],list:ce})}else if(H)for(var fe=0;fe<K.length;fe++)k.push({predicate:K[fe],forward:!0});if(B)for(var he=0;he<ee.length;he++)k.push({predicate:ee[he],forward:!1})}if(W){var de=null,pe=null;z?(de=""===z.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(z.value,_,v.terms,w,r),pe=V&&!X?V.value:de===e.XMLLiteralURI||de===e.HTMLLiteralURI?null:X?X.value:p.textContent):X?(de=e.PlainLiteralURI,pe=X.value):V?(pe=V.value,(de=e.deriveDateTimeType(pe))||(de=e.PlainLiteralURI)):H||B||(Y&&(pe=this.parseSafeCURIEOrCURIEOrURI(Y.value,w,r)),!pe&&J?pe=this.resolveAndNormalize(r,encodeURI(J.value)):!pe&&G&&(pe=this.resolveAndNormalize(r,encodeURI(G.value))),pe&&(de=e.objectURI)),de||(q&&!$?(de=e.objectURI,pe=b):(pe=p.textContent,this.inHTMLMode&&"time"===p.localName&&(de=e.deriveDateTimeType(pe)),de||(de=e.PlainLiteralURI))),F=this.tokenize(W.value);for(var ve=0;ve<F.length;ve++){var ge=this.parsePredicate(F[ve],_,v.terms,w,r);if(ge)if(Q){var me=T[ge];me||(me=[],T[ge]=me),me.push(de===e.XMLLiteralURI||de===e.HTMLLiteralURI?{type:de,value:p.childNodes}:{type:de||e.PlainLiteralURI,value:pe,language:C})}else de===e.XMLLiteralURI||de===e.HTMLLiteralURI?this.addTriple(p,m,ge,{type:de,value:p.childNodes}):this.addTriple(p,m,ge,{type:de||e.PlainLiteralURI,value:pe,language:C})}}if(m&&!g)for(var ye=0;ye<v.incomplete.length;ye++)v.incomplete[ye].list?v.incomplete[ye].list.push({type:e.objectURI,value:m}):v.incomplete[ye].forward?this.addTriple(p,v.subject,v.incomplete[ye].predicate,{type:e.objectURI,value:m}):this.addTriple(p,m,v.incomplete[ye].predicate,{type:e.objectURI,value:v.subject});var be=null,we=m;g?(be=this.push(v,v.subject),be.parentObject=o(p.parentNode.baseURI)===v.parentObject?o(p.baseURI):v.parentObject,be.incomplete=v.incomplete,be.language=C,be.prefixes=w,be.vocabulary=_):(be=this.push(v,m),be.parentObject=y||(m||v.subject),be.prefixes=w,be.incomplete=k,y&&(we=y,T={},S=!0),be.listMapping=T,be.language=C,be.vocabulary=_),S&&i.unshift({parent:p,context:v,subject:we,listMapping:T});for(var xe=p.lastChild;xe;xe=xe.previousSibling)xe.nodeType===f.ELEMENT_NODE&&(xe.baseURI=p.baseURI,i.unshift({current:xe,context:be}))}}this.inHTMLMode&&this.copyProperties();for(var ke=0;ke<this.finishedHandlers.length;ke++)this.finishedHandlers[ke](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return u.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!=typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){if(void 0!==t){if("string"==typeof t)return"_:"===t.substring(0,2)?(void 0===this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new o(t.substring(2))),this.blankNodes[t.substring(2)]):s.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?(void 0===this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new o(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):s.namedNode(t.value);case e.PlainLiteralURI:return new a(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var n="";return Object.keys(t.value).forEach(function(e){n+=c.domToString(t.value[e],this.htmlOptions)}),new a(n,"",new l(t.type));default:return new a(t.value,"",new l(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,n,r){var i=new e(n,{base:r});t.baseURI=r,i.process(t)}}]),e}();h.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",h.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",h.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",h.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",h.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",h.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",h.NCNAME=new RegExp("^"+h.nameStartChar+h.nameChar+"*$"),h.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}],e.exports=h},function(e,t,n){"use strict";var r=n(1),i=function(e){var t={};t.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},t.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.frameFactory=function(e,n,i){return{NODE:1,ARC:2,parent:n,parser:e,store:e.store,element:i,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=r.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(r.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype?this.node=this.store.literal(e,"",this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,o=e.attributes,a=0;a<o.length;++a)if(i=o[a],i.namespaceURI===t&&(i.prefix?i.prefix+":"+n:n)===i.nodeName){r=i;break}return r},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,n,r){var i=e.childNodes;this.cleanParser();var o;if(e.nodeType===t.nodeType.DOCUMENT){for(var a=0;a<i.length;a++)if(i[a].nodeType===t.nodeType.ELEMENT){o=i[a];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+n+". Halting. ");o=e}this.why=r;var s=this.frameFactory(this);return this.base=n,s.base=n,s.lang=null,this.parseDOM(this.buildFrame(s,o)),!0},this.parseDOM=function(e){for(var n,i=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),o=!0;e.parent;){var a=e.element,s=a.attributes;if(a.nodeType===t.nodeType.TEXT||a.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(a.nodeValue);else if(i(a)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(i(a)),this.reify&&(n=this.getAttributeNodeNS(a,t.ns.RDF,"ID"))&&(e.rdfid=n.nodeValue,a.removeAttributeNode(n));var l=this.getAttributeNodeNS(a,t.ns.RDF,"parseType"),u=this.getAttributeNodeNS(a,t.ns.RDF,"datatype");if(u&&(e.datatype=u.nodeValue,a.removeAttributeNode(u)),l){var c=l.nodeValue;"Literal"===c?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(a),o=!1):"Resource"===c?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===c&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),a.removeAttributeNode(l)}if(0!==s.length){var f=this.getAttributeNodeNS(a,t.ns.RDF,"resource"),h=this.getAttributeNodeNS(a,t.ns.RDF,"nodeID");e=this.buildFrame(e),f?(e.addNode(f.nodeValue),a.removeAttributeNode(f)):h?(e.addBNode(h.nodeValue),a.removeAttributeNode(h)):e.addBNode();for(var d=s.length-1;d>=0;d--){var p=this.buildFrame(e);p.addArc(i(s[d])),i(s[d])===t.ns.RDF+"type"?this.buildFrame(p).addNode(s[d].nodeValue):this.buildFrame(p).addLiteral(s[d].nodeValue)}}else 0===a.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var v=this.getAttributeNodeNS(a,t.ns.RDF,"about");if(n=this.getAttributeNodeNS(a,t.ns.RDF,"ID"),v&&n)throw new Error("RDFParser: "+a.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!v&&n)e.addNode("#"+n.nodeValue),a.removeAttributeNode(n);else if(null==v&&null==n){var g=this.getAttributeNodeNS(a,t.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),a.removeAttributeNode(g)):e.addBNode()}else e.addNode(v.nodeValue),a.removeAttributeNode(v);var m=this.getAttributeNodeNS(a,t.ns.RDF,"type");t.ns.RDF+"Description"!==i(a)&&(m={nodeValue:i(a)}),null!=m&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(r.join(m.nodeValue,e.base)),this.why),m.nodeName&&a.removeAttributeNode(m));for(var y=s.length-1;y>=0;y--)this.store.add(e.node,this.store.sym(i(s[y])),this.store.literal(s[y].nodeValue,e.lang),this.why)}for(a=e.element;e.parent;){for(var b=e;null==a;)e=e.parent,a=e.element;var w=a.childNodes&&a.childNodes[e.lastChild];if(w&&o){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===a.childNodes.length)){e.lastChild++,e=this.buildFrame(b,a.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;a=e.element,o=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,n){var i=this.frameFactory(this,e,n);if(e&&(i.base=e.base,i.lang=e.lang),!n||n.nodeType===t.nodeType.TEXT||n.nodeType===t.nodeType.CDATA_SECTION)return i;var o=n.attributes,a=n.getAttributeNode("xml:base");null!=a&&(i.base=a.nodeValue,n.removeAttribute("xml:base"));var s=n.getAttributeNode("xml:lang");null!=s&&(i.lang=s.nodeValue,n.removeAttribute("xml:lang"));for(var l=o.length-1;l>=0;l--)if("xml"===o[l].nodeName.substr(0,3)){if("xmlns:"===o[l].name.slice(0,6)){var u=o[l].nodeValue;this.base&&(u=r.join(u,this.base)),this.store.setPrefixForURI(o[l].name.slice(6),u)}n.removeAttributeNode(o[l])}return i}};e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),o=function e(){r(this,e)};o.boolean=new i("http://www.w3.org/2001/XMLSchema#boolean"),o.dateTime=new i("http://www.w3.org/2001/XMLSchema#dateTime"),o.decimal=new i("http://www.w3.org/2001/XMLSchema#decimal"),o.double=new i("http://www.w3.org/2001/XMLSchema#double"),o.integer=new i("http://www.w3.org/2001/XMLSchema#integer"),o.langString=new i("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),o.string=new i("http://www.w3.org/2001/XMLSchema#string"),e.exports=o},function(e,t){e.exports=window},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=n(9),c=n(20),f=n(10),h=n(7),d=n(0),p=n(2),v=n(28),g=n(23),m=n(24),y=function(e){function t(e,n,o,a){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.termType=t.termType,s.statements=e||[],s.constraints=n||[],s.initBindings=o||[],s.optional=a||[],s}return o(t,e),s(t,[{key:"add",value:function(e,t,n,r){return this.statements.push(new g(e,t,n,r))}},{key:"addStatement",value:function(e){return this.statements.push(e)}},{key:"bnode",value:function(e){return new l(e)}},{key:"bottomTypeURIs",value:function(e){var t,n,r,i,o,a,s,l;t=[];for(o in e)if(e.hasOwnProperty(o)){for(l=e[o],s=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.sym(o)),n=!0,i=0,a=s.length;i<a;i++)if(r=s[i],r.uri in e){n=!1;break}n&&(t[o]=l)}return t}},{key:"collection",value:function(){return new c}},{key:"each",value:function(e,t,n,r){var i,o,a,s,l,u,c,f,h,d=[],p=this.statementsMatching(e,t,n,r,!1);if(null==e)for(o=0,u=p.length;o<u;o++)i=p[o],d.push(i.subject);else if(null==t)for(a=0,c=p.length;a<c;a++)i=p[a],d.push(i.predicate);else if(null==n)for(s=0,f=p.length;s<f;s++)i=p[s],d.push(i.object);else if(null==r)for(l=0,h=p.length;l<h;l++)i=p[l],d.push(i.why);return d}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){var t,n,r,i,o,a,s,l,u,c,f,h,d,p,v,g,m,y,b,w,x;y={},y[e.toNT()]=!0,u={},h=this.transitiveClosure(y,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0);for(w in h)if(h.hasOwnProperty(w)){for(d=this.statementsMatching(void 0,this.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(w)),t=0,r=d.length;t<r;t++)b=d[t],u[b.subject.toNT()]=b;for(p=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(w)),n=0,i=p.length;n<i;n++)for(c=p[n],v=this.statementsMatching(void 0,c),l=0,o=v.length;l<o;l++)b=v[l],u[b.subject.toNT()]=b;for(g=this.each(void 0,this.sym("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(w)),f=0,a=g.length;f<a;f++)for(c=g[f],m=this.statementsMatching(void 0,c),x=0,s=m.length;x<s;x++)b=m[x],u[b.object.toNT()]=b}return u}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){var t,n,r,i,o,a,s,l,u,c,f,h,d,p,v,g,m;for(f="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",m=[],h=this.statementsMatching(e,void 0,void 0),n=0,i=h.length;n<i;n++)if(g=h[n],g.predicate.uri===f)m[g.object.toNT()]=g;else for(d=this.each(g.predicate,this.sym("http://www.w3.org/2000/01/rdf-schema#domain")),r=0,o=d.length;r<o;r++)c=d[r],m[c.toNT()]=g;for(p=this.statementsMatching(void 0,void 0,e),l=0,a=p.length;l<a;l++)for(g=p[l],v=this.each(g.predicate,this.sym("http://www.w3.org/2000/01/rdf-schema#range")),u=0,s=v.length;u<s;u++)t=v[u],m[t.toNT()]=g;return this.transitiveClosure(m,this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,n){n=n||[];for(var r=[e],i=[],o=[],a=[],s=this;r.length;)!function(e){var l=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,r.push(e))},u=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));u=u.filter(function(e){if(n[e.predicate.uri])return!1;var t=e.toNT();return!o[t]&&(o[t]=!0,!0)}),u.forEach(function(e,t){l(e.subject),l(e.object)}),a=a.concat(u)}(r.shift());return a}},{key:"formula",value:function(){return new t}},{key:"fromNT",value:function(e){var t,n,r;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(r=void 0,t=void 0,(n=e.lastIndexOf('"'))<e.length-1)if("@"===e[n+1])r=e.slice(n+2);else{if("^^"!==e.slice(n+1,n+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(n+3))}return e=e.slice(1,n),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\\\/g,"\\"),this.literal(e,r,t);case"_":return new l(e.slice(2));case"?":return new m(e.slice(1))}throw new Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,n,r){var i;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if(e instanceof g)return this.holds(e.subject,e.predicate,e.object,e.why);if(e.statements)return this.holds(e.statements)}return null!=this.anyStatementMatching(e,t,n,r)}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.why)}},{key:"list",value:function(e){var t=new c;return e.forEach(function(e){t.append(e)}),t}},{key:"literal",value:function(e,t,n){return new f(""+e,t,n)}},{key:"NTtoURI",value:function(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],"<"===t[0]&&(r[t.slice(1,-1)]=n));return r}},{key:"serialize",value:function(e,t,n){var r,i,o;switch(o=v(this),o.suggestNamespaces(this.namespaces),o.setBase(e),i=n?this.statementsMatching(void 0,void 0,void 0,n):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":r=o.statementsToXML(i);break;case"text/n3":case"text/turtle":r=o.statementsToN3(i);break;default:throw new Error("serialize: Content-type "+t+" not supported.")}return r}},{key:"substitute",value:function(e){var n=this.statements.map(function(t){return t.substitute(e)});console.log("Formula subs statmnts:"+n);var r=new t;return r.add(n),console.log("indexed-form subs formula:"+r),r}},{key:"sym",value:function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return new d(e)}},{key:"the",value:function(e,t,n,r){var i=this.any(e,t,n,r);return null==i&&h.error("No value found for the() {"+e+" "+t+" "+n+"}."),i}},{key:"transitiveClosure",value:function(e,t,n){var r,i,o,a,s,l,u={};Object.assign(u,e);for(var c={};;){if(null==(l=function(){for(var e in u)if(u.hasOwnProperty(e))return e}()))return c;for(s=n?this.each(void 0,t,this.fromNT(l)):this.each(this.fromNT(l),t),i=0,o=s.length;i<o;i++)r=s[i],(a=r.toNT())in c||a in u||(u[a]=u[l]);c[l]=u[l],delete u[l]}}},{key:"topTypeURIs",value:function(e){var t,n,r,i,o,a,s,l;s=[];for(r in e)if(e.hasOwnProperty(r)){for(l=e[r],o=0,a=this.each(this.sym(r),this.sym("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,i=a.length;t<i;t++)if(n=a[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==n.uri){o++;break}o||(s[r]=l)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"whether",value:function(e,t,n,r){return this.statementsMatching(e,t,n,r,!1).length}}]),t}(p);y.termType="Graph",y.prototype.classOrder=u.Graph,y.prototype.isVar=0,y.prototype.ns=n(15),y.prototype.variable=function(e){return new m(e)},e.exports=y},function(e,t,n){"use strict";function r(e,t){var n,r=s.Parser(),i=s.Writer({format:"N-Quads"});o.waterfall([function(t){r.parse(e,t)},function(e,t,n){null!==e&&i.addTriple(e),"function"==typeof n&&i.end(n)},function(e,t){try{a.fromRDF(e,{format:"application/nquads"},t)}catch(e){t(e)}},function(e,r){n=JSON.stringify(e),t(null,n)}],function(e,r){t(e,n)})}function i(e,t){var n,r=s.Parser(),i=s.Writer({format:"N-Quads"});o.waterfall([function(t){r.parse(e,t)},function(e,t,n){null!==e&&i.addTriple(e),"function"==typeof n&&i.end(n)},function(e,r){n=e,t(null,n)}],function(e,r){t(e,n)})}e.exports.convertToJson=r,e.exports.convertToNQuads=i;var o=n(73),a=n(44),s=n(46)},function(e,t,n){"use strict";(function(r,i,o,a){var s,l,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2015 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(){var c=void 0!==r&&r.versions&&r.versions.node,f=!c&&("undefined"!=typeof window||"undefined"!=typeof self);f&&void 0===i&&("undefined"!=typeof window?i=window:"undefined"!=typeof self?i=self:"undefined"!=typeof $&&(i=$));var h=function(e){function t(){}function s(e){for(var t=[],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r],o=e[i];q(o)||(o=[o]);for(var a=0;a<o.length;++a){var s=o[a];if(null!==s){if(!z(s))throw new Ae("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});t.push({"@value":s,"@language":i.toLowerCase()})}}}return t}function l(e,t){if(q(t))for(var n=0;n<t.length;++n)t[n]=l(e,t[n]);else if(Z(t))t["@list"]=l(e,t["@list"]);else if(H(t)){ee(t)&&(t["@id"]=e.getId(t["@id"]));for(var r=Object.keys(t).sort(),i=0;i<r.length;++i){var o=r[i];"@id"!==o&&(t[o]=l(e,t[o]))}}return t}function h(t,n,r){if(null===r||void 0===r)return null;var i=M(t,n,{vocab:!0});if("@id"===i)return M(t,r,{base:!0});if("@type"===i)return M(t,r,{vocab:!0,base:!0});var o=e.getContextValue(t,n,"@type");if("@id"===o||"@graph"===i&&z(r))return{"@id":M(t,r,{base:!0})};if("@vocab"===o)return{"@id":M(t,r,{vocab:!0,base:!0})};if(F(i))return r;var a={};if(null!==o)a["@type"]=o;else if(z(r)){var s=e.getContextValue(t,n,"@language");null!==s&&(a["@language"]=s)}return-1===["boolean","number","string"].indexOf(void 0===r?"undefined":u(r))&&(r=r.toString()),a["@value"]=r,a}function d(e,t,n){for(var r=[],i=Object.keys(e).sort(),o=0;o<i.length;++o)for(var a=i[o],s=e[a],l=Object.keys(s).sort(),u=0;u<l.length;++u){var c=l[u],f=s[c];if("@type"===c)c=Ce;else if(F(c))continue;for(var h=0;h<f.length;++h){var d=f[h],g={};if(g.type=0===a.indexOf("_:")?"blank node":"IRI",g.value=a,te(a)){var m={};if(m.type=0===c.indexOf("_:")?"blank node":"IRI",m.value=c,te(c)&&("blank node"!==m.type||n.produceGeneralizedRdf))if(Z(d))p(d["@list"],t,g,m,r);else{var y=v(d);y&&r.push({subject:g,predicate:m,object:y})}}}}return r}function p(e,t,n,r,i){for(var o={type:"IRI",value:ke},a={type:"IRI",value:Te},s={type:"IRI",value:Se},l=0;l<e.length;++l){var u=e[l],c={type:"blank node",value:t.getId()};i.push({subject:n,predicate:r,object:c}),n=c,r=o;var f=v(u);f&&i.push({subject:n,predicate:r,object:f}),r=a}i.push({subject:n,predicate:r,object:s})}function v(e){var t={};if(K(e)){t.type="literal";var n=e["@value"],r=e["@type"]||null;G(n)?(t.value=n.toString(),t.datatype=r||me):X(n)||r===ye?(X(n)||(n=parseFloat(n)),t.value=n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype=r||ye):V(n)?(t.value=n.toFixed(0),t.datatype=r||be):"@language"in e?(t.value=n,t.datatype=r||Le,t.language=e["@language"]):(t.value=n,t.datatype=r||we)}else{var i=H(e)?e["@id"]:e;t.type=0===i.indexOf("_:")?"blank node":"IRI",t.value=i}return"IRI"!==t.type||te(t.value)?t:null}function g(e,t){if("IRI"===e.type||"blank node"===e.type)return{"@id":e.value};var n={"@value":e.value};if(e.language)n["@language"]=e.language;else{var r=e.datatype;if(r||(r=we),t){if(r===me)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if($(n["@value"]))if(r===be){var i=parseInt(n["@value"],10);i.toFixed(0)===n["@value"]&&(n["@value"]=i)}else r===ye&&(n["@value"]=parseFloat(n["@value"]));-1===[me,be,ye,we].indexOf(r)&&(n["@type"]=r)}else r!==we&&(n["@type"]=r)}return n}function m(e,t){for(var n=["subject","predicate","object"],r=0;r<n.length;++r){var i=n[r];if(e[i].type!==t[i].type||e[i].value!==t[i].value)return!1}return e.object.language===t.object.language&&e.object.datatype===t.object.datatype}function y(t,n,r,i,o,a){if(q(t))for(var s=0;s<t.length;++s)y(t[s],n,r,i,void 0,a);else{if(!H(t))return void(a&&a.push(t));if(K(t)){if("@type"in t){var l=t["@type"];0===l.indexOf("_:")&&(t["@type"]=l=i.getId(l))}return void(a&&a.push(t))}if("@type"in t)for(var u=t["@type"],s=0;s<u.length;++s){var l=u[s];0===l.indexOf("_:")&&i.getId(l)}Y(o)&&(o=ee(t)?i.getId(t["@id"]):t["@id"]),a&&a.push({"@id":o});var c=n[r],f=c[o]=c[o]||{};f["@id"]=o;for(var h=Object.keys(t).sort(),d=0;d<h.length;++d){var p=h[d];if("@id"!==p)if("@reverse"!==p)if("@graph"!==p)if("@type"!==p&&F(p)){if("@index"===p&&p in f&&(t[p]!==f[p]||t[p]["@id"]!==f[p]["@id"]))throw new Ae("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[p]=t[p]}else{var v=t[p];if(0===p.indexOf("_:")&&(p=i.getId(p)),0!==v.length)for(var g=0;g<v.length;++g){var m=v[g];if("@type"===p&&(m=0===m.indexOf("_:")?i.getId(m):m),J(m)||Q(m)){var b=ee(m)?i.getId(m["@id"]):m["@id"];e.addValue(f,p,{"@id":b},{propertyIsArray:!0,allowDuplicate:!1}),y(m,n,r,i,b)}else if(Z(m)){var w=[];y(m["@list"],n,r,i,o,w),m={"@list":w},e.addValue(f,p,m,{propertyIsArray:!0,allowDuplicate:!1})}else y(m,n,r,i,o),e.addValue(f,p,m,{propertyIsArray:!0,allowDuplicate:!1})}else e.addValue(f,p,[],{propertyIsArray:!0})}else{o in n||(n[o]={});var x="@merged"===r?r:o;y(t[p],n,x,i)}else{var k={"@id":o},T=t["@reverse"];for(var S in T)for(var C=T[S],_=0;_<C.length;++_){var E=C[_],N=E["@id"];ee(E)&&(N=i.getId(N)),y(E,n,r,i,N),e.addValue(c[N],S,k,{propertyIsArray:!0,allowDuplicate:!1})}}}}}function b(e){for(var t=e["@default"],n=Object.keys(e).sort(),r=0;r<n.length;++r){var i=n[r];if("@default"!==i){var o=e[i],a=t[i];a?"@graph"in a||(a["@graph"]=[]):t[i]=a={"@id":i,"@graph":[]};for(var s=a["@graph"],l=Object.keys(o).sort(),u=0;u<l.length;++u){var c=o[l[u]];Q(c)||s.push(c)}}}return t}function w(e,t,n,r,i){S(n),n=n[0];for(var o=e.options,a={embed:T(n,o,"embed"),explicit:T(n,o,"explicit"),requireAll:T(n,o,"requireAll")},s=C(e,t,n,a),l=Object.keys(s).sort(),u=0;u<l.length;++u){var c=l[u],f=s[c];if("@link"===a.embed&&c in e.link)N(r,i,e.link[c]);else{null===i&&(e.uniqueEmbeds={});var h={};if(h["@id"]=c,e.link[c]=h,"@never"===a.embed||k(f,e.subjectStack))N(r,i,h);else{"@last"===a.embed&&(c in e.uniqueEmbeds&&E(e,c),e.uniqueEmbeds[c]={parent:r,property:i}),e.subjectStack.push(f);for(var d=Object.keys(f).sort(),p=0;p<d.length;p++){var v=d[p];if(F(v))h[v]=ne(f[v]);else if(!a.explicit||v in n)for(var g=f[v],m=0;m<g.length;++m){var y=g[m];if(Z(y)){var b={"@list":[]};N(h,v,b);var _=y["@list"];for(var L in _)if(y=_[L],Q(y)){var O=v in n?n[v][0]["@list"]:x(a);w(e,[y["@id"]],O,b,"@list")}else N(b,"@list",ne(y))}else if(Q(y)){var O=v in n?n[v]:x(a);w(e,[y["@id"]],O,h,v)}else N(h,v,ne(y))}}for(var d=Object.keys(n).sort(),p=0;p<d.length;++p){var v=d[p];if(!F(v)){var j=n[v][0];if(!(T(j,o,"omitDefault")||v in h)){var A="@null";"@default"in j&&(A=ne(j["@default"])),q(A)||(A=[A]),h[v]=[{"@preserve":A}]}}}N(r,i,h),e.subjectStack.pop()}}}}function x(e){var t={};for(var n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function k(e,t){for(var n=t.length-1;n>=0;--n)if(t[n]["@id"]===e["@id"])return!0;return!1}function T(e,t,n){var r="@"+n,i=r in e?e[r][0]:t[n];return"embed"===n&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function S(e){if(!q(e)||1!==e.length||!H(e[0]))throw new Ae("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function C(e,t,n,r){for(var i={},o=0;o<t.length;++o){var a=t[o],s=e.subjects[a];_(s,n,r)&&(i[a]=s)}return i}function _(t,n,r){if("@type"in n&&(1!==n["@type"].length||!H(n["@type"][0]))){for(var i=n["@type"],o=0;o<i.length;++o)if(e.hasValue(t,"@type",i[o]))return!0;return!1}var a=!0,s=!1;for(var l in n){if(F(l)){if("@id"!==l&&"@type"!==l)continue;if(a=!1,"@id"===l&&z(n[l])){if(t[l]!==n[l])return!1;s=!0;continue}}if(a=!1,l in t){if(q(n[l])&&0===n[l].length&&void 0!==t[l])return!1;s=!0}else{var u=q(n[l])&&H(n[l][0])&&"@default"in n[l][0];if(r.requireAll&&!u)return!1}}return a||s}function E(t,n){var r=t.uniqueEmbeds,i=r[n],o=i.parent,a=i.property,s={"@id":n};if(q(o)){for(var l=0;l<o.length;++l)if(e.compareValues(o[l],s)){o[l]=s;break}}else{var u=q(o[a]);e.removeValue(o,a,s,{propertyIsArray:u}),e.addValue(o,a,s,{propertyIsArray:u})}!function e(t){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];o in r&&H(r[o].parent)&&r[o].parent["@id"]===t&&(delete r[o],e(o))}}(n)}function N(t,n,r){H(t)?e.addValue(t,n,r,{propertyIsArray:!0}):t.push(r)}/**
     * Removes the @preserve keywords as the last step of the framing algorithm.
     *
     * @param ctx the active context used to compact the input.
     * @param input the framed, compacted output.
     * @param options the compaction options used.
     *
     * @return the resulting output.
     */
function L(t,n,r){if(q(n)){for(var i=[],o=0;o<n.length;++o){var a=L(t,n[o],r);null!==a&&i.push(a)}n=i}else if(H(n)){
// remove @preserve
if("@preserve"in n)return"@null"===n["@preserve"]?null:n["@preserve"];if(K(n))return n;if(Z(n))return n["@list"]=L(t,n["@list"],r),n;var s=A(t,"@id");if(s in n){var l=n[s];if(l in r.link){var u=r.link[l].indexOf(n);if(-1!==u)return r.link[l][u];r.link[l].push(n)}else r.link[l]=[n]}for(var c in n){var a=L(t,n[c],r),f=e.getContextValue(t,c,"@container");r.compactArrays&&q(a)&&1===a.length&&null===f&&(a=a[0]),n[c]=a}}return n}function O(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}function j(e,t,n,r,i,o){null===o&&(o="@null");var a=[];if("@id"!==o&&"@reverse"!==o||!Q(n))a.push(o);else{"@reverse"===o&&a.push("@reverse");var s=A(e,n["@id"],null,{vocab:!0});s in e.mappings&&e.mappings[s]&&e.mappings[s]["@id"]===n["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}a.push("@none");for(var l=e.inverse[t],u=0;u<r.length;++u){var c=r[u];if(c in l)for(var f=l[c][i],h=0;h<a.length;++h){var d=a[h];if(d in f)return f[d]}}return null}function A(e,t,n,r,i){if(null===t)return t;Y(n)&&(n=null),Y(i)&&(i=!1),r=r||{};var o=e.getInverse();if(F(t))return t in o?o[t]["@none"]["@type"]["@none"]:t;if(r.vocab&&t in o){var a=e["@language"]||"@none",s=[];H(n)&&"@index"in n&&s.push("@index");var l="@language",u="@null";if(i)l="@type",u="@reverse",s.push("@set");else if(Z(n)){"@index"in n||s.push("@list");for(var c=n["@list"],f=0===c.length?a:null,h=null,d=0;d<c.length;++d){var p=c[d],v="@none",g="@none";if(K(p)?"@language"in p?v=p["@language"]:"@type"in p?g=p["@type"]:v="@null":g="@id",null===f?f=v:v!==f&&K(p)&&(f="@none"),null===h?h=g:g!==h&&(h="@none"),"@none"===f&&"@none"===h)break}f=f||"@none",h=h||"@none","@none"!==h?(l="@type",u=h):u=f}else K(n)?"@language"in n&&!("@index"in n)?(s.push("@language"),u=n["@language"]):"@type"in n&&(l="@type",u=n["@type"]):(l="@type",u="@id"),s.push("@set");s.push("@none");var m=j(e,t,n,s,l,u);if(null!==m)return m}if(r.vocab&&"@vocab"in e){var y=e["@vocab"];if(0===t.indexOf(y)&&t!==y){var b=t.substr(y.length);if(!(b in e.mappings))return b}}for(var w=null,x=0,k=[],T=e.fastCurieMap,S=t.length-1;x<S&&t[x]in T;++x)""in(T=T[t[x]])&&k.push(T[""][0]);for(var d=k.length-1;d>=0;--d)for(var C=k[d],_=C.terms,E=0;E<_.length;++E){var N=_[E]+":"+t.substr(C.iri.length),L=!(N in e.mappings)||null===n&&e.mappings[N]["@id"]===t;L&&(null===w||O(N,w)<0)&&(w=N)}return null!==w?w:r.vocab?t:P(e["@base"],t)}function I(t,n,r){if(K(r)){var i=e.getContextValue(t,n,"@type"),o=e.getContextValue(t,n,"@language"),a=e.getContextValue(t,n,"@container"),s="@index"in r&&"@index"!==a;if(!s&&(r["@type"]===i||r["@language"]===o))return r["@value"];var l=Object.keys(r).length,u=1===l||2===l&&"@index"in r&&!s,c="@language"in t,f=z(r["@value"]),h=t.mappings[n]&&null===t.mappings[n]["@language"];if(u&&(!c||!f||h))return r["@value"];var d={};return s&&(d[A(t,"@index")]=r["@index"]),"@type"in r?d[A(t,"@type")]=A(t,r["@type"],null,{vocab:!0}):"@language"in r&&(d[A(t,"@language")]=r["@language"]),d[A(t,"@value")]=r["@value"],d}var p=M(t,n,{vocab:!0}),i=e.getContextValue(t,n,"@type"),v=A(t,r["@id"],null,{vocab:"@vocab"===i});if("@id"===i||"@vocab"===i||"@graph"===p)return v;var d={};return d[A(t,"@id")]=v,d}function R(e,t,n,r){if(n in r){if(r[n])return;throw new Ae("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r[n]=!1,F(n))throw new Ae("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(""===n)throw new Ae("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[n]&&delete e.mappings[n];var i=t[n];if(null===i||H(i)&&null===i["@id"])return e.mappings[n]=null,void(r[n]=!0);if(z(i)&&(i={"@id":i}),!H(i))throw new Ae("Invalid JSON-LD syntax; @context property values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o=e.mappings[n]={};if(o.reverse=!1,"@reverse"in i){if("@id"in i)throw new Ae("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var a=i["@reverse"];if(!z(a))throw new Ae("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var s=M(e,a,{vocab:!0,base:!1},t,r);if(!te(s))throw new Ae("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=s,o.reverse=!0}else if("@id"in i){var s=i["@id"];if(!z(s))throw new Ae("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(s!==n){if(s=M(e,s,{vocab:!0,base:!1},t,r),!te(s)&&!F(s))throw new Ae("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});o["@id"]=s}}var l=n.indexOf(":");if(o._termHasColon=-1!==l,!("@id"in o))if(o._termHasColon){var u=n.substr(0,l);if(u in t&&R(e,t,u,r),e.mappings[u]){var c=n.substr(l+1);o["@id"]=e.mappings[u]["@id"]+c}else o["@id"]=n}else{if(!("@vocab"in e))throw new Ae("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});o["@id"]=e["@vocab"]+n}if(r[n]=!0,"@type"in i){var f=i["@type"];if(!z(f))throw new Ae("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==f&&"@vocab"!==f){if(f=M(e,f,{vocab:!0,base:!1},t,r),!te(f))throw new Ae("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===f.indexOf("_:"))throw new Ae("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}o["@type"]=f}if("@container"in i){var h=i["@container"];if("@list"!==h&&"@set"!==h&&"@index"!==h&&"@language"!==h)throw new Ae("Invalid JSON-LD syntax; @context @container value must be one of the following: @list, @set, @index, or @language.","jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(o.reverse&&"@index"!==h&&"@set"!==h&&null!==h)throw new Ae("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});o["@container"]=h}if("@language"in i&&!("@type"in i)){var d=i["@language"];if(null!==d&&!z(d))throw new Ae("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==d&&(d=d.toLowerCase()),o["@language"]=d}
// disallow aliasing @context and @preserve
var s=o["@id"];if("@context"===s||"@preserve"===s)throw new Ae("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}function M(t,n,r,i,o){if(null===n||F(n))return n;if(n=String(n),i&&n in i&&!0!==o[n]&&R(t,i,n,o),r=r||{},r.vocab){var a=t.mappings[n];if(null===a)return null;if(a)return a["@id"]}var s=n.indexOf(":");if(-1!==s){var l=n.substr(0,s),u=n.substr(s+1);if("_"===l||0===u.indexOf("//"))return n;i&&l in i&&R(t,i,l,o);var a=t.mappings[l];return a?a["@id"]+u:n}if(r.vocab&&"@vocab"in t)return t["@vocab"]+n;var c=n;return r.base&&(c=e.prependBase(t["@base"],c)),c}function D(t,n){if(null===t)return n;if(-1!==n.indexOf(":"))return n;z(t)&&(t=e.url.parse(t||""));var r=e.url.parse(n),i={protocol:t.protocol||""};if(null!==r.authority)i.authority=r.authority,i.path=r.path,i.query=r.query;else if(i.authority=t.authority,""===r.path)i.path=t.path,null!==r.query?i.query=r.query:i.query=t.query;else{if(0===r.path.indexOf("/"))i.path=r.path;else{var o=t.path;""!==r.path&&(o=o.substr(0,o.lastIndexOf("/")+1),o.length>0&&"/"!==o.substr(-1)&&(o+="/"),o+=r.path),i.path=o}i.query=r.query}i.path=ce(i.path,!!i.authority);var a=i.protocol;return null!==i.authority&&(a+="//"+i.authority),a+=i.path,null!==i.query&&(a+="?"+i.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a}function P(t,n){if(null===t)return n;z(t)&&(t=e.url.parse(t||""));var r="";if(""!==t.href?r+=(t.protocol||"")+"//"+(t.authority||""):n.indexOf("//")&&(r+="//"),0!==n.indexOf(r))return n;for(var i=e.url.parse(n.substr(r.length)),o=t.normalizedPath.split("/"),a=i.normalizedPath.split("/"),s=i.fragment||i.query?0:1;o.length>0&&a.length>s&&o[0]===a[0];)o.shift(),a.shift();var l="";if(o.length>0){o.pop();for(var u=0;u<o.length;++u)l+="../"}return l+=a.join("/"),null!==i.query&&(l+="?"+i.query),null!==i.fragment&&(l+="#"+i.fragment),""===l&&(l="./"),l}function U(t){function n(){var e=this;if(e.inverse)return e.inverse;for(var t=e.inverse={},n=e.fastCurieMap={},o={},a=e["@language"]||"@none",s=e.mappings,l=Object.keys(s).sort(O),u=0;u<l.length;++u){var c=l[u],f=s[c];if(null!==f){var h=f["@container"]||"@none",d=f["@id"];q(d)||(d=[d]);for(var p=0;p<d.length;++p){var v=d[p],g=t[v],m=F(v);if(g)m||f._termHasColon||o[v].push(c);else if(t[v]=g={},!m&&!f._termHasColon){o[v]=[c];var y={iri:v,terms:o[v]};v[0]in n?n[v[0]].push(y):n[v[0]]=[y]}if(g[h]||(g[h]={"@language":{},"@type":{}}),g=g[h],f.reverse)i(f,c,g["@type"],"@reverse");else if("@type"in f)i(f,c,g["@type"],f["@type"]);else if("@language"in f){var b=f["@language"]||"@null";i(f,c,g["@language"],b)}else i(f,c,g["@language"],a),i(f,c,g["@type"],"@none"),i(f,c,g["@language"],"@none")}}}for(var w in n)r(n,w,1);return t}function r(e,t,n){for(var i,o,a=e[t],s=e[t]={},l=0;l<a.length;++l)i=a[l].iri,o=n>=i.length?"":i[n],o in s?s[o].push(a[l]):s[o]=[a[l]];for(var t in s)""!==t&&r(s,t,n+1)}function i(e,t,n,r){r in n||(n[r]=t)}function o(){var e={};return e["@base"]=this["@base"],e.mappings=ne(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}return{"@base":e.url.parse(t.base||""),mappings:{},inverse:null,getInverse:n,clone:o}}function F(e){if(!z(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0}return!1}function H(e){return"[object Object]"===Object.prototype.toString.call(e)}function B(e){return H(e)&&0===Object.keys(e).length}function q(e){return Array.isArray(e)}function W(e){if(!z(e)&&!B(e)){var t=!1;if(q(e)){t=!0;for(var n=0;n<e.length;++n)if(!z(e[n])){t=!1;break}}if(!t)throw new Ae('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}}function z(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}function V(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function X(e){return V(e)&&-1!==String(e).indexOf(".")}function $(e){return!isNaN(parseFloat(e))&&isFinite(e)}function G(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)}function Y(e){return void 0===e}function J(e){var t=!1;if(H(e)&&!("@value"in e||"@set"in e||"@list"in e)){t=Object.keys(e).length>1||!("@id"in e)}return t}function Q(e){return H(e)&&1===Object.keys(e).length&&"@id"in e}function K(e){return H(e)&&"@value"in e}function Z(e){return H(e)&&"@list"in e}function ee(e){var t=!1;return H(e)&&(t="@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)),t}function te(e){return z(e)&&-1!==e.indexOf(":")}function ne(e){if(e&&"object"===(void 0===e?"undefined":u(e))){var t;if(q(e)){t=[];for(var n=0;n<e.length;++n)t[n]=ne(e[n])}else if(H(e)){t={};for(var r in e)t[r]=ne(e[r])}else t=e.toString();return t}return e}function re(t,n,r,i){var o=Object.keys(n).length;if(q(t)){for(var a=0;a<t.length;++a)re(t[a],n,r,i);return o<Object.keys(n).length}if(H(t)){for(var s in t)if("@context"===s){var l=t[s];if(q(l))for(var u=l.length,a=0;a<u;++a){var c=l[a];z(c)&&(c=e.prependBase(i,c),r?(c=n[c],q(c)?(Array.prototype.splice.apply(l,[a,1].concat(c)),a+=c.length-1,u=l.length):l[a]=c):c in n||(n[c]=!1))}else z(l)&&(l=e.prependBase(i,l),r?t[s]=n[l]:l in n||(n[l]=!1))}else re(t[s],n,r,i);return o<Object.keys(n).length}return!1}function ie(e,t,n){var r=null,i=t.documentLoader;!function e(t,n,i,o,a){if(Object.keys(n).length>je)return r=new Ae("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:je}),a(r);var s={},l=function(){re(t,s,!0,o),a(null,t)};if(!re(t,s,!1,o))return l();var u=[];for(var c in s)!1===s[c]&&u.push(c);for(var f=u.length,h=0;h<u.length;++h)!function(t){if(t in n)return r=new Ae("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:t}),a(r);var o=ne(n);o[t]=!0;var u=function(n,u){if(!r){var c=u?u.document:null;if(!n&&z(c))try{c=JSON.parse(c)}catch(e){n=e}if(n?n=new Ae("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:n}):H(c)||(n=new Ae("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t,cause:n})),n)return r=n,a(r);c="@context"in c?{"@context":c["@context"]}:{"@context":{}},u.contextUrl&&(q(c["@context"])||(c["@context"]=[c["@context"]]),c["@context"].push(u.contextUrl)),e(c,o,i,t,function(e,n){if(e)return a(e);s[t]=n["@context"],0===(f-=1)&&l()})}},c=i(t,u);c&&"then"in c&&c.then(u.bind(null,null),u)}(u[h])}(e,{},i,t.base,n)}function oe(e){for(var t=/(?:\r\n)|(?:\n)|(?:\r)/g,n=new RegExp("^[ \\t]*(?:#.*)?$"),r=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*(?:#.*)?$'),i={},o=e.split(t),a=0,s=0;s<o.length;++s){var l=o[s];if(a++,!n.test(l)){var u=l.match(r);if(null===u)throw new Ae("Error while parsing N-Quads; invalid quad.","jsonld.ParseError",{line:a});var c={};if(Y(u[1])?c.subject={type:"blank node",value:u[2]}:c.subject={type:"IRI",value:u[1]},c.predicate={type:"IRI",value:u[3]},Y(u[4]))if(Y(u[5])){c.object={type:"literal"},Y(u[7])?Y(u[8])?c.object.datatype=we:(c.object.datatype=Le,c.object.language=u[8]):c.object.datatype=u[7];var f=u[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");c.object.value=f}else c.object={type:"blank node",value:u[5]};else c.object={type:"IRI",value:u[4]};var h="@default";if(Y(u[9])?Y(u[10])||(h=u[10]):h=u[9],h in i){for(var d=!0,p=i[h],v=0;d&&v<p.length;++v)m(p[v],c)&&(d=!1);d&&p.push(c)}else i[h]=[c]}}return i}function ae(e){var t=[];for(var n in e)for(var r=e[n],i=0;i<r.length;++i){var o=r[i];"@default"===n&&(n=null),t.push(se(o,n))}return t.sort().join("")}function se(e,t){var n=e.subject,r=e.predicate,i=e.object,o=t||null;"name"in e&&e.name&&(o=e.name.value);var a="";if("IRI"===n.type?a+="<"+n.value+">":a+=n.value,a+=" ","IRI"===r.type?a+="<"+r.value+">":a+=r.value,a+=" ","IRI"===i.type)a+="<"+i.value+">";else if("blank node"===i.type)a+=i.value;else{var s=i.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');a+='"'+s+'"',i.datatype===Le?i.language&&(a+="@"+i.language):i.datatype!==we&&(a+="^^<"+i.datatype+">")}return null!==o&&void 0!==o&&(0!==o.indexOf("_:")?a+=" <"+o+">":a+=" "+o),a+=" .\n"}function le(e){var t={};t["@default"]=[];for(var n=e.getSubjects(),r=0;r<n.length;++r){var i=n[r];if(null!==i){var o=e.getSubjectTriples(i);if(null!==o){var a=o.predicates;for(var s in a)for(var l=a[s].objects,u=0;u<l.length;++u){var c=l[u],f={};0===i.indexOf("_:")?f.subject={type:"blank node",value:i}:f.subject={type:"IRI",value:i},0===s.indexOf("_:")?f.predicate={type:"blank node",value:s}:f.predicate={type:"IRI",value:s};var h=c.value;if(c.type===Ee){ve||Ue();var d=new ve;h="";for(var p=0;p<c.value.length;p++)c.value[p].nodeType===ge.ELEMENT_NODE?h+=d.serializeToString(c.value[p]):c.value[p].nodeType===ge.TEXT_NODE&&(h+=c.value[p].nodeValue)}f.object={},c.type===Ne?0===c.value.indexOf("_:")?f.object.type="blank node":f.object.type="IRI":(f.object.type="literal",c.type===_e?c.language?(f.object.datatype=Le,f.object.language=c.language):f.object.datatype=we:f.object.datatype=c.type),f.object.value=h,t["@default"].push(f)}}}}return t}function ue(e){this.prefix=e,this.counter=0,this.existing={}}function ce(e,t){var n="";0===e.indexOf("/")&&(n="/");for(var r=e.split("/"),i=[];r.length>0;)"."===r[0]||""===r[0]&&r.length>1?r.shift():".."!==r[0]?i.push(r.shift()):(r.shift(),t||i.length>0&&".."!==i[i.length-1]?i.pop():i.push(".."));return n+i.join("/")}e.compact=function(t,n,r,i){function o(e,t,r,o){if(e)return i(e);o.compactArrays&&!o.graph&&q(t)?1===t.length?t=t[0]:0===t.length&&(t={}):o.graph&&H(t)&&(t=[t]),H(n)&&"@context"in n&&(n=n["@context"]),n=ne(n),q(n)||(n=[n]);var a=n;n=[];for(var s=0;s<a.length;++s)(!H(a[s])||Object.keys(a[s]).length>0)&&n.push(a[s]);var l=n.length>0;if(1===n.length&&(n=n[0]),q(t)){var u=A(r,"@graph"),c=t;t={},l&&(t["@context"]=n),t[u]=c}else if(H(t)&&l){var c=t;t={"@context":n};for(var f in c)t[f]=c[f]}i(null,t,r)}if(arguments.length<2)return e.nextTick(function(){i(new TypeError("Could not compact, too few arguments."))});if("function"==typeof r&&(i=r,r={}),r=r||{},null===n)return e.nextTick(function(){i(new Ae("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"}))});if(null===t)return e.nextTick(function(){i(null,null)});"base"in r||(r.base="string"==typeof t?t:""),"compactArrays"in r||(r.compactArrays=!0),"graph"in r||(r.graph=!1),"skipExpansion"in r||(r.skipExpansion=!1),"documentLoader"in r||(r.documentLoader=e.loadDocument),"link"in r||(r.link=!1),r.link&&(r.skipExpansion=!0);!function(t,n,r){if(n.skipExpansion)return e.nextTick(function(){r(null,t)});e.expand(t,n,r)}(t,r,function(t,a){if(t)return i(new Ae("Could not expand input before compaction.","jsonld.CompactError",{cause:t}));var s=U(r);e.processContext(s,n,r,function(e,t){if(e)return i(new Ae("Could not process context before compaction.","jsonld.CompactError",{cause:e}));var n;try{n=(new Ie).compact(t,null,a,r)}catch(e){return i(e)}o(null,n,t,r)})})},e.expand=function(t,n,r){function i(e){"base"in n||(n.base=e.documentUrl||"");var t={document:ne(e.document),remoteContext:{"@context":e.contextUrl}};if("expandContext"in n){var i=ne(n.expandContext);"object"===(void 0===i?"undefined":u(i))&&"@context"in i?t.expandContext=i:t.expandContext={"@context":i}}ie(t,n,function(e,t){if(e)return r(e);var i;try{var o=new Ie,a=U(n),s=t.document,l=t.remoteContext["@context"];t.expandContext&&(a=o.processContext(a,t.expandContext["@context"],n)),l&&(a=o.processContext(a,l,n)),i=o.expand(a,null,s,n,!1),H(i)&&"@graph"in i&&1===Object.keys(i).length?i=i["@graph"]:null===i&&(i=[]),q(i)||(i=[i])}catch(e){return r(e)}r(null,i)})}if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not expand, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"documentLoader"in n||(n.documentLoader=e.loadDocument),"keepFreeFloatingNodes"in n||(n.keepFreeFloatingNodes=!1),e.nextTick(function(){if("string"==typeof t){var e=function(e,t){if(e)return r(e);try{if(!t.document)throw new Ae("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(e){return r(new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:t}))}i(t)},o=n.documentLoader(t,e);return void(o&&"then"in o&&o.then(e.bind(null,null),e))}i({contextUrl:null,documentUrl:null,document:t})})},e.flatten=function(t,n,r,i){if(arguments.length<1)return e.nextTick(function(){i(new TypeError("Could not flatten, too few arguments."))});"function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),e.expand(t,r,function(t,o){if(t)return i(new Ae("Could not expand input before flattening.","jsonld.FlattenError",{cause:t}));var a;try{a=(new Ie).flatten(o)}catch(e){return i(e)}if(null===n)return i(null,a);r.graph=!0,r.skipExpansion=!0,e.compact(a,n,r,function(e,t){if(e)return i(new Ae("Could not compact flattened output.","jsonld.FlattenError",{cause:e}));i(null,t)})})},e.frame=function(t,n,r,i){function o(n){var o,a=n.document;a?(o=a["@context"],n.contextUrl?(o?q(o)?o.push(n.contextUrl):o=[o,n.contextUrl]:o=n.contextUrl,a["@context"]=o):o=o||{}):o={},e.expand(t,r,function(t,n){if(t)return i(new Ae("Could not expand input before framing.","jsonld.FrameError",{cause:t}));var s=ne(r);s.isFrame=!0,s.keepFreeFloatingNodes=!0,e.expand(a,s,function(t,r){if(t)return i(new Ae("Could not expand frame before framing.","jsonld.FrameError",{cause:t}));var a;try{a=(new Ie).frame(n,r,s)}catch(e){return i(e)}s.graph=!0,s.skipExpansion=!0,s.link={},e.compact(a,o,s,function(e,t,n){if(e)return i(new Ae("Could not compact framed output.","jsonld.FrameError",{cause:e}));var r=A(n,"@graph");
// remove @preserve from results
s.link={},t[r]=L(n,t[r],s),i(null,t)})})})}if(arguments.length<2)return e.nextTick(function(){i(new TypeError("Could not frame, too few arguments."))});"function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),"embed"in r||(r.embed="@last"),r.explicit=r.explicit||!1,"requireAll"in r||(r.requireAll=!0),r.omitDefault=r.omitDefault||!1,e.nextTick(function(){if("string"==typeof n){var e=function(e,t){if(e)return i(e);try{if(!t.document)throw new Ae("No remote document found at the given URL.","jsonld.NullRemoteDocument");"string"==typeof t.document&&(t.document=JSON.parse(t.document))}catch(e){return i(new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:t}))}o(t)},t=r.documentLoader(n,e);return void(t&&"then"in t&&t.then(e.bind(null,null),e))}o({contextUrl:null,documentUrl:null,document:n})})},e.link=function(t,n,r,i){var o={};n&&(o["@context"]=n),o["@embed"]="@link",e.frame(t,o,r,i)},e.objectify=function(t,n,r,i){"function"==typeof r&&(i=r,r={}),r=r||{},"base"in r||(r.base="string"==typeof t?t:""),"documentLoader"in r||(r.documentLoader=e.loadDocument),e.expand(t,r,function(t,o){if(t)return i(new Ae("Could not expand input before linking.","jsonld.LinkError",{cause:t}));var a;try{a=(new Ie).flatten(o)}catch(e){return i(e)}r.graph=!0,r.skipExpansion=!0,e.compact(a,n,r,function(t,n,r){if(t)return i(new Ae("Could not compact flattened output before linking.","jsonld.LinkError",{cause:t}));var o=A(r,"@graph"),a=n[o][0],s=function t(n){if(H(n)||q(n)){if(H(n)){if(t.visited[n["@id"]])return;t.visited[n["@id"]]=!0}for(var i in n){var o=n[i],s="@id"===e.getContextValue(r,i,"@type");if(q(o)||H(o)||s)if(z(o)&&s)n[i]=o=a[o],t(o);else if(q(o))for(var l=0;l<o.length;++l)z(o[l])&&s?o[l]=a[o[l]]:H(o[l])&&"@id"in o[l]&&(o[l]=a[o[l]["@id"]]),t(o[l]);else if(H(o)){var u=o["@id"];n[i]=o=a[u],t(o)}}}};s.visited={},s(a),n.of_type={};for(var l in a)if("@type"in a[l]){var u=a[l]["@type"];q(u)||(u=[u]);for(var c=0;c<u.length;++c)u[c]in n.of_type||(n.of_type[u[c]]=[]),n.of_type[u[c]].push(a[l])}i(null,n)})})},e.normalize=function(t,n,r){if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not normalize, too few arguments."))});if("function"==typeof n&&(r=n,n={}),n=n||{},"algorithm"in n||(n.algorithm="URGNA2012"),"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),"inputFormat"in n){if("application/nquads"!==n.inputFormat)return r(new Ae("Unknown normalization input format.","jsonld.NormalizeError"));var i=oe(t);(new Ie).normalize(i,n,r)}else{var o=ne(n);delete o.format,o.produceGeneralizedRdf=!1,e.toRDF(t,o,function(e,t){if(e)return r(new Ae("Could not convert input to RDF dataset before normalization.","jsonld.NormalizeError",{cause:e}));(new Ie).normalize(t,n,r)})}},e.fromRDF=function(t,n,r){if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not convert from RDF, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"useRdfType"in n||(n.useRdfType=!1),"useNativeTypes"in n||(n.useNativeTypes=!1),"format"in n||!z(t)||"format"in n||(n.format="application/nquads"),e.nextTick(function(){function e(e,t,n){(new Ie).fromRDF(e,t,n)}var i;if(n.format){if(!(i=n.rdfParser||pe[n.format]))return r(new Ae("Unknown input format.","jsonld.UnknownFormat",{format:n.format}))}else i=function(){return t};var o=!1;try{t=i(t,function(t,i){if(o=!0,t)return r(t);e(i,n,r)})}catch(e){if(!o)return r(e);throw e}if(t){if("then"in t)return t.then(function(t){e(t,n,r)},r);e(t,n,r)}})},e.toRDF=function(t,n,r){if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not convert to RDF, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),e.expand(t,n,function(e,t){if(e)return r(new Ae("Could not expand input before serialization to RDF.","jsonld.RdfError",{cause:e}));var i;try{if(i=Ie.prototype.toRDF(t,n),n.format){if("application/nquads"===n.format)return r(null,ae(i));throw new Ae("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}}catch(e){return r(e)}r(null,i)})},e.createNodeMap=function(t,n,r){if(arguments.length<1)return e.nextTick(function(){r(new TypeError("Could not create node map, too few arguments."))});"function"==typeof n&&(r=n,n={}),n=n||{},"base"in n||(n.base="string"==typeof t?t:""),"documentLoader"in n||(n.documentLoader=e.loadDocument),e.expand(t,n,function(e,t){if(e)return r(new Ae("Could not expand input before creating node map.","jsonld.CreateNodeMapError",{cause:e}));var i;try{i=(new Ie).createNodeMap(t,n)}catch(e){return r(e)}r(null,i)})},e.merge=function(t,n,r,i){function o(e,t){if(!l){if(e)return l=e,i(new Ae("Could not expand input before flattening.","jsonld.FlattenError",{cause:e}));s.push(t),0==--u&&a(s)}}function a(t){var o=!0;"mergeNodes"in r&&(o=r.mergeNodes);var a,s=r.namer||r.issuer||new ue("_:b"),l={"@default":{}};try{for(var u=0;u<t.length;++u){var c=t[u];c=e.relabelBlankNodes(c,{issuer:new ue("_:b"+u+"-")});var f=o||0===u?l:{"@default":{}};if(y(c,f,"@default",s),f!==l)for(var h in f){var d=f[h];if(h in l){var p=l[h];for(var v in d)v in p||(p[v]=d[v])}else l[h]=d}}a=b(l)}catch(e){return i(e)}for(var g=[],m=Object.keys(a).sort(),w=0;w<m.length;++w){var x=a[m[w]];Q(x)||g.push(x)}if(null===n)return i(null,g);r.graph=!0,r.skipExpansion=!0,e.compact(g,n,r,function(e,t){if(e)return i(new Ae("Could not compact merged output.","jsonld.MergeError",{cause:e}));i(null,t)})}if(arguments.length<1)return e.nextTick(function(){i(new TypeError("Could not merge, too few arguments."))});if(!q(t))return e.nextTick(function(){i(new TypeError('Could not merge, "docs" must be an array.'))});"function"==typeof r?(i=r,r={}):"function"==typeof n&&(i=n,n=null,r={}),r=r||{};for(var s=[],l=null,u=t.length,c=0;c<t.length;++c){var f={};for(var h in r)f[h]=r[h];e.expand(t[c],f,o)}},e.relabelBlankNodes=function(e,t){return t=t||{},l(t.namer||t.issuer||new ue("_:b"),e)},e.prependBase=function(e,t){return D(e,t)},e.documentLoader=function(t,n){var r=new Ae("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed"});return c?n(r,{contextUrl:null,documentUrl:t,document:null}):e.promisify(function(e){e(r)})},e.loadDocument=function(t,n){var r=e.documentLoader(t,n);r&&"then"in r&&r.then(n.bind(null,null),n)},e.promises=function(t){t=t||{};var r=Array.prototype.slice,o=e.promisify,a=t.api||{},s=t.version||"jsonld.js";"string"==typeof t.api&&(t.version||(s=t.api),a={}),a.expand=function(t){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");return o.apply(null,[e.expand].concat(r.call(arguments)))},a.compact=function(t,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");var i=function(t,n,r,i){"function"==typeof r&&(i=r,r={}),r=r||{},e.compact(t,n,r,function(e,t){i(e,t)})};return o.apply(null,[i].concat(r.call(arguments)))},a.flatten=function(t){if(arguments.length<1)throw new TypeError("Could not flatten, too few arguments.");return o.apply(null,[e.flatten].concat(r.call(arguments)))},a.frame=function(t,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");return o.apply(null,[e.frame].concat(r.call(arguments)))},a.fromRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");return o.apply(null,[e.fromRDF].concat(r.call(arguments)))},a.toRDF=function(t){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");return o.apply(null,[e.toRDF].concat(r.call(arguments)))},a.normalize=function(t){if(arguments.length<1)throw new TypeError("Could not normalize, too few arguments.");return o.apply(null,[e.normalize].concat(r.call(arguments)))},"jsonld.js"===s&&(a.link=function(t,n){if(arguments.length<2)throw new TypeError("Could not link, too few arguments.");return o.apply(null,[e.link].concat(r.call(arguments)))},a.objectify=function(t){return o.apply(null,[e.objectify].concat(r.call(arguments)))},a.createNodeMap=function(t){return o.apply(null,[e.createNodeMap].concat(r.call(arguments)))},a.merge=function(t){return o.apply(null,[e.merge].concat(r.call(arguments)))});try{e.Promise=i.Promise||n(45).Promise}catch(e){var l=function(){throw new Error("Unable to find a Promise implementation.")};for(var u in a)a[u]=l}return a},e.promisify=function(t){if(!e.Promise)try{e.Promise=i.Promise||n(45).Promise}catch(e){throw new Error("Unable to find a Promise implementation.")}var r=Array.prototype.slice.call(arguments,1);return new e.Promise(function(e,n){t.apply(null,r.concat(function(t,r){t?n(t):e(r)}))})},e.promises({api:e.promises}),t.prototype=e.promises({version:"json-ld-1.0"}),t.prototype.toString=function(){return this instanceof t?"[object JsonLdProcessor]":"[object JsonLdProcessorPrototype]"},e.JsonLdProcessor=t;var fe=!!Object.defineProperty;if(fe)try{Object.defineProperty({},"x",{})}catch(e){fe=!1}fe&&(Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t})),f&&void 0===i.JsonLdProcessor&&(fe?Object.defineProperty(i,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t}):i.JsonLdProcessor=t);var he="function"==typeof o&&o,de=he?function(e){he(e)}:function(e){setTimeout(e,0)};"object"===(void 0===r?"undefined":u(r))&&"function"==typeof r.nextTick?e.nextTick=r.nextTick:e.nextTick=de,e.setImmediate=he?de:e.nextTick,e.parseLinkHeader=function(e){for(var t={},n=e.match(/(?:<[^>]*?>|"[^"]*?"|[^,])+/g),r=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,i=0;i<n.length;++i){var o=n[i].match(r);if(o){for(var a={target:o[1]},s=o[2],l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;o=l.exec(s);)a[o[1]]=void 0===o[2]?o[3]:o[2];var u=a.rel||"";q(t[u])?t[u].push(a):t[u]=u in t?[t[u],a]:a}}return t},e.RequestQueue=function(){this._requests={}},e.RequestQueue.prototype.wrapLoader=function(e){return this._loader=e,this._usePromise=1===e.length,this.add.bind(this)},e.RequestQueue.prototype.add=function(t,n){var r=this;if(!n&&!r._usePromise)throw new Error("callback must be specified.");if(r._usePromise)return new e.Promise(function(e,n){var i=r._requests[t];i||(i=r._requests[t]=r._loader(t).then(function(e){return delete r._requests[t],e}).catch(function(e){throw delete r._requests[t],e})),i.then(function(t){e(t)}).catch(function(e){n(e)})});t in r._requests?r._requests[t].push(n):(r._requests[t]=[n],r._loader(t,function(e,n){var i=r._requests[t];delete r._requests[t];for(var o=0;o<i.length;++o)i[o](e,n)}))},e.DocumentCache=function(e){this.order=[],this.cache={},this.size=e||50,this.expires=3e4},e.DocumentCache.prototype.get=function(e){if(e in this.cache){var t=this.cache[e];if(t.expires>=+new Date)return t.ctx;delete this.cache[e],this.order.splice(this.order.indexOf(e),1)}return null},e.DocumentCache.prototype.set=function(e,t){this.order.length===this.size&&delete this.cache[this.order.shift()],this.order.push(e),this.cache[e]={ctx:t,expires:+new Date+this.expires}},e.ActiveContextCache=function(e){this.order=[],this.cache={},this.size=e||100},e.ActiveContextCache.prototype.get=function(e,t){var n=JSON.stringify(e),r=JSON.stringify(t),i=this.cache[n];return i&&r in i?i[r]:null},e.ActiveContextCache.prototype.set=function(e,t,n){if(this.order.length===this.size){var r=this.order.shift();delete this.cache[r.activeCtx][r.localCtx]}var i=JSON.stringify(e),o=JSON.stringify(t);this.order.push({activeCtx:i,localCtx:o}),i in this.cache||(this.cache[i]={}),this.cache[i][o]=ne(n)},e.cache={activeCtx:new e.ActiveContextCache},e.documentLoaders={},e.documentLoaders.jquery=function(t,n){function r(r,i){return 0!==r.indexOf("http:")&&0!==r.indexOf("https:")?i(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):n.secure&&0!==r.indexOf("https")?i(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r}),{contextUrl:null,documentUrl:r,document:null}):void t.ajax({url:r,accepts:{json:"application/ld+json, application/json"},headers:{Accept:"application/ld+json, application/json"},dataType:"json",crossDomain:!0,success:function(t,n,o){var a={contextUrl:null,documentUrl:r,document:t},s=o.getResponseHeader("Content-Type"),l=o.getResponseHeader("Link");if(l&&"application/ld+json"!==s){if(l=e.parseLinkHeader(l)[Oe],q(l))return i(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r}),a);l&&(a.contextUrl=l.target)}i(null,a)},error:function(e,t,n){i(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:n}),{contextUrl:null,documentUrl:r,document:null})}})}n=n||{};var i=new e.RequestQueue;return("usePromise"in n?n.usePromise:"undefined"!=typeof Promise)?i.wrapLoader(function(t){return e.promisify(r,t)}):i.wrapLoader(r)},e.documentLoaders.node=function(t){function r(n,u,c){function f(t,i,a){if(h={contextUrl:null,documentUrl:n,document:a||null},t)return c(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:t}),h);var s=l.STATUS_CODES[i.statusCode];if(i.statusCode>=400)return c(new Ae("URL could not be dereferenced: "+s,"jsonld.InvalidUrl",{code:"loading document failed",url:n,httpStatusCode:i.statusCode}),h);if(i.headers.link&&"application/ld+json"!==i.headers["content-type"]){var f=e.parseLinkHeader(i.headers.link)[Oe];if(q(f))return c(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),h);f&&(h.contextUrl=f.target)}if(i.statusCode>=300&&i.statusCode<400&&i.headers.location)return u.length===o?c(new Ae("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:n,httpStatusCode:i.statusCode,redirects:u}),h):-1!==u.indexOf(n)?c(new Ae("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:n,httpStatusCode:i.statusCode,redirects:u}),h):(u.push(n),r(i.headers.location,u,c));u.push(n),c(t,h)}if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return c(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(t.secure&&0!==n.indexOf("https"))return c(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var h=null;if(null!==h)return c(null,h);var d={Accept:s};for(var p in t.headers)d[p]=t.headers[p];a({url:n,headers:d,strictSSL:i,followRedirect:!1},f)}t=t||{};var i=!("strictSSL"in t)||t.strictSSL,o="maxRedirects"in t?t.maxRedirects:-1,a="request"in t?t.request:n(11),s="application/ld+json, application/json",l=n(11),u=new e.RequestQueue;if(t.usePromise)return u.wrapLoader(function(t){return e.promisify(r,t,[])});var c=t.headers||{};if("Accept"in c||"accept"in c)throw new RangeError('Accept header may not be specified as an option; only "'+s+'" is supported.');return u.wrapLoader(function(e,t){r(e,[],t)})},e.documentLoaders.xhr=function(t){function n(n,i){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))return i(new Ae('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});if(t.secure&&0!==n.indexOf("https"))return i(new Ae('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null});var o=t.xhr||XMLHttpRequest,a=new o;a.onload=function(){if(a.status>=400)return i(new Ae("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:a.status}),{contextUrl:null,documentUrl:n,document:null});var t,o={contextUrl:null,documentUrl:n,document:a.response},s=a.getResponseHeader("Content-Type");if(r.test(a.getAllResponseHeaders())&&(t=a.getResponseHeader("Link")),t&&"application/ld+json"!==s){if(t=e.parseLinkHeader(t)[Oe],q(t))return i(new Ae("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n}),o);t&&(o.contextUrl=t.target)}i(null,o)},a.onerror=function(){i(new Ae("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n}),{contextUrl:null,documentUrl:n,document:null})},a.open("GET",n,!0),a.setRequestHeader("Accept","application/ld+json, application/json"),a.send()}t=t||{};var r=/(^|(\r\n))link:/i,i=new e.RequestQueue;return("usePromise"in t?t.usePromise:"undefined"!=typeof Promise)?i.wrapLoader(function(t){return e.promisify(n,t)}):i.wrapLoader(n)},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new Ae('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.processContext=function(t,n){var r={},i=2;arguments.length>3&&(r=arguments[2]||{},i+=1);var o=arguments[i];if("base"in r||(r.base=""),"documentLoader"in r||(r.documentLoader=e.loadDocument),null===n)return o(null,U(r));n=ne(n),H(n)&&"@context"in n||(n={"@context":n}),ie(n,r,function(e,n){if(e)return o(e);try{n=(new Ie).processContext(t,n,r)}catch(e){return o(e)}o(null,n)})},e.hasProperty=function(e,t){var n=!1;if(t in e){var r=e[t];n=!q(r)||r.length>0}return n},e.hasValue=function(t,n,r){var i=!1;if(e.hasProperty(t,n)){var o=t[n],a=Z(o);if(q(o)||a){a&&(o=o["@list"]);for(var s=0;s<o.length;++s)if(e.compareValues(r,o[s])){i=!0;break}}else q(r)||(i=e.compareValues(r,o))}return i},e.addValue=function(t,n,r,i){if(i=i||{},"propertyIsArray"in i||(i.propertyIsArray=!1),"allowDuplicate"in i||(i.allowDuplicate=!0),q(r)){0!==r.length||!i.propertyIsArray||n in t||(t[n]=[]);for(var o=0;o<r.length;++o)e.addValue(t,n,r[o],i)}else if(n in t){var a=!i.allowDuplicate&&e.hasValue(t,n,r);q(t[n])||a&&!i.propertyIsArray||(t[n]=[t[n]]),a||t[n].push(r)}else t[n]=i.propertyIsArray?[r]:r},e.getValues=function(e,t){var n=e[t]||[];return q(n)||(n=[n]),n},e.removeProperty=function(e,t){delete e[t]},e.removeValue=function(t,n,r,i){"propertyIsArray"in(i=i||{})||(i.propertyIsArray=!1);var o=e.getValues(t,n).filter(function(t){return!e.compareValues(t,r)});0===o.length?e.removeProperty(t,n):1!==o.length||i.propertyIsArray?t[n]=o:t[n]=o[0]},e.compareValues=function(e,t){return e===t||(!(!K(e)||!K(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(H(e)&&"@id"in e&&H(t)&&"@id"in t)&&e["@id"]===t["@id"])},e.getContextValue=function(e,t,n){var r=null;if(null===t)return r;if("@language"===n&&n in e&&(r=e[n]),e.mappings[t]){var i=e.mappings[t];Y(n)?r=i:n in i&&(r=i[n])}return r};var pe={};if(e.registerRDFParser=function(e,t){pe[e]=t},e.unregisterRDFParser=function(e){delete pe[e]},c){if(void 0===ve)var ve=null;if(void 0===ge)var ge={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12}}var me="http://www.w3.org/2001/XMLSchema#boolean",ye="http://www.w3.org/2001/XMLSchema#double",be="http://www.w3.org/2001/XMLSchema#integer",we="http://www.w3.org/2001/XMLSchema#string",xe="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ke=xe+"first",Te=xe+"rest",Se=xe+"nil",Ce=xe+"type",_e=xe+"PlainLiteral",Ee=xe+"XMLLiteral",Ne=xe+"object",Le=xe+"langString",Oe="http://www.w3.org/ns/json-ld#context",je=10,Ae=function(e,t,n){c?(Error.call(this),Error.captureStackTrace(this,this.constructor)):"undefined"!=typeof Error&&(this.stack=(new Error).stack),this.name=t||"jsonld.Error",this.message=e||"An unspecified JSON-LD error occurred.",this.details=n||{}};c?n(11).inherits(Ae,Error):"undefined"!=typeof Error&&(Ae.prototype=new Error);var Ie=function(){};Ie.prototype.compact=function(t,n,r,i){if(q(r)){for(var o=[],a=0;a<r.length;++a){var s=this.compact(t,n,r[a],i);null!==s&&o.push(s)}if(i.compactArrays&&1===o.length){var l=e.getContextValue(t,n,"@container");null===l&&(o=o[0])}return o}if(H(r)){if(i.link&&"@id"in r&&r["@id"]in i.link)for(var u=i.link[r["@id"]],a=0;a<u.length;++a)if(u[a].expanded===r)return u[a].compacted;if(K(r)||Q(r)){var o=I(t,n,r);return i.link&&Q(r)&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o})),o}var c="@reverse"===n,o={};i.link&&"@id"in r&&(r["@id"]in i.link||(i.link[r["@id"]]=[]),i.link[r["@id"]].push({expanded:r,compacted:o}));for(var f=Object.keys(r).sort(),h=0;h<f.length;++h){var d=f[h],p=r[d];if("@id"!==d&&"@type"!==d)if("@reverse"!==d)if("@index"!==d)if("@graph"!==d&&"@list"!==d&&F(d)){var v=A(t,d);e.addValue(o,v,p)}else{if(0===p.length){var g=A(t,d,p,{vocab:!0},c);e.addValue(o,g,p,{propertyIsArray:!0})}for(var m=0;m<p.length;++m){var y=p[m],g=A(t,d,y,{vocab:!0},c),l=e.getContextValue(t,g,"@container"),b=Z(y),w=null;b&&(w=y["@list"]);var x=this.compact(t,g,b?w:y,i);if(b)if(q(x)||(x=[x]),"@list"!==l){var k={};k[A(t,"@list")]=x,x=k,"@index"in y&&(x[A(t,"@index")]=y["@index"])}else if(g in o)throw new Ae('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"});if("@language"===l||"@index"===l){var T;g in o?T=o[g]:o[g]=T={},"@language"===l&&K(x)&&(x=x["@value"]),e.addValue(T,y[l],x)}else{var S=!i.compactArrays||"@set"===l||"@list"===l||q(x)&&0===x.length||"@list"===d||"@graph"===d;e.addValue(o,g,x,{propertyIsArray:S})}}}else{var l=e.getContextValue(t,n,"@container");if("@index"===l)continue;var v=A(t,d);e.addValue(o,v,p)}else{var C=this.compact(t,"@reverse",p,i);for(var _ in C)if(t.mappings[_]&&t.mappings[_].reverse){var E=C[_],l=e.getContextValue(t,_,"@container"),N="@set"===l||!i.compactArrays;e.addValue(o,_,E,{propertyIsArray:N}),delete C[_]}if(Object.keys(C).length>0){var v=A(t,d);e.addValue(o,v,C)}}else{var C;if(z(p))C=A(t,p,null,{vocab:"@type"===d});else{C=[];for(var m=0;m<p.length;++m)C.push(A(t,p[m],null,{vocab:!0}))}var v=A(t,d),S=q(C)&&0===p.length;e.addValue(o,v,C,{propertyIsArray:S})}}return o}return r},Ie.prototype.expand=function(t,n,r,i,o){var a=this;if(null===r||void 0===r)return null;if(!q(r)&&!H(r))return o||null!==n&&"@graph"!==M(t,n,{vocab:!0})?h(t,n,r):null;if(q(r)){var l=[],u=e.getContextValue(t,n,"@container");o=o||"@list"===u;for(var c=0;c<r.length;++c){var f=a.expand(t,n,r[c],i);if(o&&(q(f)||Z(f)))throw new Ae("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null!==f&&(q(f)?l=l.concat(f):l.push(f))}return l}"@context"in r&&(t=a.processContext(t,r["@context"],i));for(var d=M(t,n,{vocab:!0}),l={},p=Object.keys(r).sort(),v=0;v<p.length;++v){var g,m=p[v],y=r[m];if("@context"!==m){var b=M(t,m,{vocab:!0});if(null!==b&&(te(b)||F(b))){if(F(b)){if("@reverse"===d)throw new Ae("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:y});if(b in l)throw new Ae("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:b})}if("@id"===b&&!z(y)){if(!i.isFrame)throw new Ae('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:y});if(!H(y))throw new Ae('Invalid JSON-LD syntax; "@id" value must be a string or an object.',"jsonld.SyntaxError",{code:"invalid @id value",value:y})}if("@type"===b&&W(y),"@graph"===b&&!H(y)&&!q(y))throw new Ae('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:y});if("@value"===b&&(H(y)||q(y)))throw new Ae('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:y});if("@language"===b){if(null===y)continue;if(!z(y))throw new Ae('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:y});y=y.toLowerCase()}if("@index"===b&&!z(y))throw new Ae('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:y});if("@reverse"!==b){var u=e.getContextValue(t,m,"@container");if("@language"===u&&H(y))g=s(y);else if("@index"===u&&H(y))g=function(e){for(var n=[],r=Object.keys(y).sort(),o=0;o<r.length;++o){var s=r[o],l=y[s];q(l)||(l=[l]),l=a.expand(t,e,l,i,!1);for(var u=0;u<l.length;++u){var c=l[u];"@index"in c||(c["@index"]=s),n.push(c)}}return n}(m);else{var w="@list"===b;if(w||"@set"===b){var x=n;if(w&&"@graph"===d&&(x=null),g=a.expand(t,x,y,i,w),w&&Z(g))throw new Ae("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else g=a.expand(t,m,y,i,!1)}if(null!==g||"@value"===b)if("@list"===b||Z(g)||"@list"!==u||(g=q(g)?g:[g],g={"@list":g}),t.mappings[m]&&t.mappings[m].reverse){var k=l["@reverse"]=l["@reverse"]||{};q(g)||(g=[g]);for(var T=0;T<g.length;++T){var S=g[T];if(K(S)||Z(S))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(k,b,S,{propertyIsArray:!0})}}else{var C=-1===["@index","@id","@type","@value","@language"].indexOf(b);e.addValue(l,b,g,{propertyIsArray:C})}}else{if(!H(y))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:y});if("@reverse"in(g=a.expand(t,"@reverse",y,i)))for(var _ in g["@reverse"])e.addValue(l,_,g["@reverse"][_],{propertyIsArray:!0});var k=l["@reverse"]||null;for(var _ in g)if("@reverse"!==_){null===k&&(k=l["@reverse"]={}),e.addValue(k,_,[],{propertyIsArray:!0});for(var E=g[_],T=0;T<E.length;++T){var S=E[T];if(K(S)||Z(S))throw new Ae('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:g});e.addValue(k,_,S,{propertyIsArray:!0})}}}}}}p=Object.keys(l);var N=p.length;if("@value"in l){if("@type"in l&&"@language"in l)throw new Ae('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:l});var L=N-1;if("@type"in l&&(L-=1),"@index"in l&&(L-=1),"@language"in l&&(L-=1),0!==L)throw new Ae('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:l});if(null===l["@value"])l=null;else{if("@language"in l&&!z(l["@value"]))throw new Ae("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:l});if("@type"in l&&(!te(l["@type"])||0===l["@type"].indexOf("_:")))throw new Ae('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:l})}}else if("@type"in l&&!q(l["@type"]))l["@type"]=[l["@type"]];else if("@set"in l||"@list"in l){if(N>1&&!(2===N&&"@index"in l))throw new Ae('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:l});"@set"in l&&(l=l["@set"],p=Object.keys(l),N=p.length)}else 1===N&&"@language"in l&&(l=null);return!H(l)||i.keepFreeFloatingNodes||o||null!==n&&"@graph"!==d||(0===N||"@value"in l||"@list"in l||1===N&&"@id"in l)&&(l=null),l},Ie.prototype.createNodeMap=function(e,t){t=t||{};var n=t.namer||t.issuer||new ue("_:b"),r={"@default":{}};return y(e,r,"@default",n),b(r)},Ie.prototype.flatten=function(e){for(var t=this.createNodeMap(e),n=[],r=Object.keys(t).sort(),i=0;i<r.length;++i){var o=t[r[i]];Q(o)||n.push(o)}return n},Ie.prototype.frame=function(e,t,n){var r={options:n,graphs:{"@default":{},"@merged":{}},subjectStack:[],link:{}},i=new ue("_:b");y(e,r.graphs,"@merged",i),r.subjects=r.graphs["@merged"];var o=[];return w(r,Object.keys(r.subjects).sort(),t,o,null),o},Ie.prototype.normalize=function(e,t,n){return"URDNA2015"===t.algorithm?new Re(t).main(e,n):"URGNA2012"===t.algorithm?new Me(t).main(e,n):void n(new Error("Invalid RDF Dataset Normalization algorithm: "+t.algorithm))},Ie.prototype.fromRDF=function(t,n,r){var i={},o={"@default":i},a={};for(var s in t){var l=t[s];s in o||(o[s]={}),"@default"===s||s in i||(i[s]={"@id":s});for(var u=o[s],c=0;c<l.length;++c){var f=l[c],h=f.subject.value,d=f.predicate.value,p=f.object;h in u||(u[h]={"@id":h});var v=u[h],m="IRI"===p.type||"blank node"===p.type;if(!m||p.value in u||(u[p.value]={"@id":p.value}),d!==Ce||n.useRdfType||!m){var y=g(p,n.useNativeTypes);if(e.addValue(v,d,y,{propertyIsArray:!0}),m)if(p.value===Se){var b=u[p.value];"usages"in b||(b.usages=[]),b.usages.push({node:v,property:d,value:y})}else p.value in a?a[p.value]=!1:a[p.value]={node:v,property:d,value:y}}else e.addValue(v,"@type",p.value,{propertyIsArray:!0})}}for(var s in o){var w=o[s];if(Se in w){for(var x=w[Se],k=0;k<x.usages.length;++k){for(var T=x.usages[k],v=T.node,S=T.property,C=T.value,_=[],E=[],N=Object.keys(v).length;S===Te&&H(a[v["@id"]])&&q(v[ke])&&1===v[ke].length&&q(v[Te])&&1===v[Te].length&&(3===N||4===N&&q(v["@type"])&&1===v["@type"].length&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#List"===v["@type"][0])&&(_.push(v[ke][0]),E.push(v["@id"]),T=a[v["@id"]],v=T.node,S=T.property,C=T.value,N=Object.keys(v).length,0===v["@id"].indexOf("_:")););if(S===ke){if(v["@id"]===Se)continue;C=w[C["@id"]][Te][0],_.pop(),E.pop()}delete C["@id"],C["@list"]=_.reverse();for(var L=0;L<E.length;++L)delete w[E[L]]}delete x.usages}}for(var O=[],j=Object.keys(i).sort(),k=0;k<j.length;++k){var A=j[k],v=i[A];if(A in o)for(var l=v["@graph"]=[],w=o[A],I=Object.keys(w).sort(),R=0;R<I.length;++R){var M=w[I[R]];Q(M)||l.push(M)}Q(v)||O.push(v)}r(null,O)},Ie.prototype.toRDF=function(e,t){var n=new ue("_:b"),r={"@default":{}};y(e,r,"@default",n);for(var i={},o=Object.keys(r).sort(),a=0;a<o.length;++a){var s=o[a];("@default"===s||te(s))&&(i[s]=d(r[s],n,t))}return i},Ie.prototype.processContext=function(t,n,r){H(n)&&"@context"in n&&q(n["@context"])&&(n=n["@context"]);var i=q(n)?n:[n];if(0===i.length)return t.clone();for(var o=t,a=0;a<i.length;++a){var s=i[a];if(null!==s){if(H(s)&&"@context"in s&&(s=s["@context"]),!H(s))throw new Ae("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});if(e.cache.activeCtx){var l=e.cache.activeCtx.get(t,s);if(l){o=t=l;continue}}t=o,o=o.clone();var u={};if("@base"in s){var c=s["@base"];if(null===c)c=null;else{if(!z(c))throw new Ae('Invalid JSON-LD syntax; the value of "@base" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});if(""!==c&&!te(c))throw new Ae('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI or the empty string.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s})}null!==c&&(c=e.url.parse(c||"")),o["@base"]=c,u["@base"]=!0}if("@vocab"in s){var f=s["@vocab"];if(null===f)delete o["@vocab"];else{if(!z(f))throw new Ae('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!te(f))throw new Ae('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});o["@vocab"]=f}u["@vocab"]=!0}if("@language"in s){var f=s["@language"];if(null===f)delete o["@language"];else{if(!z(f))throw new Ae('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});o["@language"]=f.toLowerCase()}u["@language"]=!0}for(var h in s)R(o,s,h,u);e.cache.activeCtx&&e.cache.activeCtx.set(t,s,o)}else o=t=U(r)}return o};var Re=function(){var t={subject:"s",object:"o",name:"g"},n=function(e){e=e||{},this.name="URDNA2015",this.options=e,this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new ue("_:c14n"),this.quads=[],this.schedule={},this.schedule.MAX_DEPTH="maxCallStackDepth"in e?e.maxCallStackDepth:500,this.schedule.MAX_TOTAL_DEPTH="maxTotalCallStackDepth"in e?e.maxCallStackDepth:4294967295,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice="timeSlice"in e?e.timeSlice:10};return n.prototype.doWork=function(t,n){var r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return n(new Error("Maximum total call stack depth exceeded; normalization aborting."));!function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,e.nextTick(i);var o=(new Date).getTime();if(r.running||(r.start=(new Date).getTime(),r.deadline=r.start+r.timeSlice),o<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,t(function(e,t){r.depth--,r.totalDepth--,n(e,t)});r.depth=0,r.running=!1,e.setImmediate(i)}()},n.prototype.forEach=function(e,t,n){var r,i,o=this,a=0;if(q(e))i=e.length,r=function(){return a!==i&&(r.value=e[a++],r.key=a,!0)};else{var s=Object.keys(e);i=s.length,r=function(){return a!==i&&(r.key=s[a++],r.value=e[r.key],!0)}}!function e(i,a){return i?n(i):r()?o.doWork(function(){t(r.value,r.key,e)}):void n()}()},n.prototype.waterfall=function(e,t){var n=this;n.forEach(e,function(e,t,r){n.doWork(e,r)},t)},n.prototype.whilst=function(e,t,n){var r=this;!function i(o){return o?n(o):e()?void r.doWork(t,i):n()}()},n.prototype.main=function(e,t){var n=this;n.schedule.start=(new Date).getTime();var r;if(n.options.format&&"application/nquads"!==n.options.format)return t(new Ae("Unknown output format.","jsonld.UnknownFormat",{format:n.options.format}));var i={};n.waterfall([function(t){n.forEach(e,function(e,t,r){"@default"===t&&(t=null),n.forEach(e,function(e,r,o){null!==t&&(0===t.indexOf("_:")?e.name={type:"blank node",value:t}:e.name={type:"IRI",value:t}),n.quads.push(e),n.forEachComponent(e,function(t){if("blank node"===t.type){var r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(i[r]=!0,n.blankNodeInfo[r]={quads:[e]})}}),o()},r)},t)},function(e){var t=!0;n.whilst(function(){return t},function(e){t=!1,n.hashToBlankNodes={},n.waterfall([function(e){n.forEach(i,function(e,t,r){n.hashFirstDegreeQuads(t,function(e,i){if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()})},e)},function(e){var r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,function(e,r,o){var a=n.hashToBlankNodes[e];if(a.length>1)return o();var s=a[0];n.canonicalIssuer.getId(s),delete i[s],delete n.hashToBlankNodes[e],t=!0,o()},e)}],e)},e)},function(e){var t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,function(e,t,r){var i=[],o=n.hashToBlankNodes[e];n.waterfall([function(e){n.forEach(o,function(e,t,r){if(n.canonicalIssuer.hasId(e))return r();var o=new ue("_:b");o.getId(e),n.hashNDegreeQuads(e,o,function(e,t){if(e)return r(e);i.push(t),r()})},e)},function(e){i.sort(function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}),n.forEach(i,function(e,t,r){for(var i in e.issuer.existing)n.canonicalIssuer.getId(i);r()},e)}],r)},e)},function(e){var t=[];n.waterfall([function(e){n.forEach(n.quads,function(e,r,i){n.forEachComponent(e,function(e){"blank node"===e.type&&0!==e.value.indexOf(n.canonicalIssuer.prefix)&&(e.value=n.canonicalIssuer.getId(e.value))}),t.push(se(e)),i()},e)},function(e){if(t.sort(),"application/nquads"===n.options.format)return r=t.join(""),e();r=oe(t.join("")),e()}],e)}],function(e){t(e,r)})},n.prototype.hashFirstDegreeQuads=function(e,t){var n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);var i=[],o=r.quads;n.forEach(o,function(t,r,o){var a={predicate:t.predicate};n.forEachComponent(t,function(t,r){a[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(se(a)),o()},function(e){if(e)return t(e);i.sort(),r.hash=Pe.hashNQuads(n.name,i),t(null,r.hash)})},n.prototype.modifyFirstDegreeComponent=function(e,t){return"blank node"!==t.type?t:(t=ne(t),t.value=t.value===e?"_:a":"_:z",t)},n.prototype.hashRelatedBlankNode=function(e,t,n,r,i){var o,a=this;a.waterfall([function(t){return a.canonicalIssuer.hasId(e)?(o=a.canonicalIssuer.getId(e),t()):n.hasId(e)?(o=n.getId(e),t()):void a.hashFirstDegreeQuads(e,function(e,n){if(e)return t(e);o=n,t()})}],function(e){if(e)return i(e);var n=new Pe(a.name);return n.update(r),"g"!==r&&n.update(a.getRelatedPredicate(t)),n.update(o),i(null,n.digest())})},n.prototype.getRelatedPredicate=function(e){return"<"+e.predicate.value+">"},n.prototype.hashNDegreeQuads=function(e,t,n){var r,i=this,o=new Pe(i.name);i.waterfall([function(n){i.createHashToRelated(e,t,function(e,t){if(e)return n(e);r=t,n()})},function(e){var n=Object.keys(r).sort();i.forEach(n,function(e,n,a){o.update(e);var s,l="",u=new De(r[e]);i.whilst(function(){return u.hasNext()},function(e){var n=u.next(),r=t.clone(),o="",a=[];i.waterfall([function(t){i.forEach(n,function(t,n,s){if(i.canonicalIssuer.hasId(t)?o+=i.canonicalIssuer.getId(t):(r.hasId(t)||a.push(t),o+=r.getId(t)),0!==l.length&&o.length>=l.length&&o>l)return e();s()},t)},function(t){i.forEach(a,function(t,n,a){i.hashNDegreeQuads(t,r,function(n,i){return n?a(n):(o+=r.getId(t),o+="<"+i.hash+">",r=i.issuer,0!==l.length&&o.length>=l.length&&o>l?e():void a())})},t)},function(e){(0===l.length||o<l)&&(l=o,s=r),e()}],e)},function(e){if(e)return a(e);o.update(l),t=s,a()})},e)}],function(e){n(e,{hash:o.digest(),issuer:t})})},n.prototype.createHashToRelated=function(e,n,r){var i=this,o={},a=i.blankNodeInfo[e].quads;i.forEach(a,function(r,a,s){i.forEach(r,function(a,s,l){if("predicate"===s||"blank node"!==a.type||a.value===e)return l();var u=a.value,c=t[s];i.hashRelatedBlankNode(u,r,n,c,function(e,t){if(e)return l(e);t in o?o[t].push(u):o[t]=[u],l()})},s)},function(e){r(e,o)})},n.prototype.forEachComponent=function(e,t){for(var n in e)"predicate"!==n&&t(e[n],n,e)},n}(),Me=function(){var e=function(e){Re.call(this,e),this.name="URGNA2012"};return e.prototype=new Re,e.prototype.modifyFirstDegreeComponent=function(e,t,n){return"blank node"!==t.type?t:(t=ne(t),t.value="name"===n?"_:g":t.value===e?"_:a":"_:z",t)},e.prototype.getRelatedPredicate=function(e){return e.predicate.value},e.prototype.createHashToRelated=function(e,t,n){var r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,function(n,o,a){var s,l;if("blank node"===n.subject.type&&n.subject.value!==e)l=n.subject.value,s="p";else{if("blank node"!==n.object.type||n.object.value===e)return a();l=n.object.value,s="r"}r.hashRelatedBlankNode(l,n,t,s,function(e,t){t in i?i[t].push(l):i[t]=[l],a()})},function(e){n(e,i)})},e}();Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),e.registerRDFParser("application/nquads",oe),e.registerRDFParser("rdfa-api",le),e.IdentifierIssuer=ue,e.UniqueNamer=ue,ue.prototype.clone=function(){var e=new ue(this.prefix);return e.counter=this.counter,e.existing=ne(this.existing),e},ue.prototype.getId=function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t},ue.prototype.getName=ue.prototype.getName,ue.prototype.hasId=function(e){return e in this.existing},ue.prototype.isNamed=ue.prototype.hasId;var De=function(e){this.list=e.sort(),this.done=!1,this.left={};for(var t=0;t<e.length;++t)this.left[e[t]]=!0};De.prototype.hasNext=function(){return!this.done},De.prototype.next=function(){for(var e=this.list.slice(),t=null,n=0,r=this.list.length,i=0;i<r;++i){var o=this.list[i],a=this.left[o];(null===t||o>t)&&(a&&i>0&&o>this.list[i-1]||!a&&i<r-1&&o>this.list[i+1])&&(t=o,n=i)}if(null===t)this.done=!0;else{var s=this.left[t]?n-1:n+1;this.list[n]=this.list[s],this.list[s]=t;for(var i=0;i<r;++i)this.list[i]>t&&(this.left[this.list[i]]=!this.left[this.list[i]])}return e};var Pe=function e(t){if(!(this instanceof e))return new e(t);if(-1===["URDNA2015","URGNA2012"].indexOf(t))throw new Error("Invalid RDF Dataset Normalization algorithm: "+t);e._init.call(this,t)};if(Pe.hashNQuads=function(e,t){for(var n=new Pe(e),r=0;r<t.length;++r)n.update(t[r]);return n.digest()},function(e){if(e){var t=n(11);return Pe._init=function(e){e="URDNA2015"===e?"sha256":"sha1",this.md=t.createHash(e)},Pe.prototype.update=function(e){return this.md.update(e,"utf8")},void(Pe.prototype.digest=function(){return this.md.digest("hex")})}Pe._init=function(e){e="URDNA2015"===e?new o.Algorithm:new i.Algorithm,this.md=new r(e)},Pe.prototype.update=function(e){return this.md.update(e)},Pe.prototype.digest=function(){return this.md.digest().toHex()};var r=function e(t){if(!(this instanceof e))return new e(t);if(this._algorithm=t,!e._padding||e._padding.length<this._algorithm.blockSize){e._padding=String.fromCharCode(128);for(var n=String.fromCharCode(0),r=64;r>0;)1&r&&(e._padding+=n),(r>>>=1)>0&&(n+=n)}this.start()};r.prototype.start=function(){this.messageLength=0,this.fullMessageLength=[];for(var e=this._algorithm.messageLengthSize/4,t=0;t<e;++t)this.fullMessageLength.push(0);return this._input=new r.ByteBuffer,this.state=this._algorithm.start(),this},r.prototype.update=function(e){e=new r.ByteBuffer(unescape(encodeURIComponent(e))),this.messageLength+=e.length();var t=e.length();t=[t/4294967296>>>0,t>>>0];for(var n=this.fullMessageLength.length-1;n>=0;--n)this.fullMessageLength[n]+=t[1],t[1]=t[0]+(this.fullMessageLength[n]/4294967296>>>0),this.fullMessageLength[n]=this.fullMessageLength[n]>>>0,t[0]=t[1]/4294967296>>>0;for(this._input.putBytes(e.bytes());this._input.length()>=this._algorithm.blockSize;)this.state=this._algorithm.digest(this.state,this._input);return(this._input.read>2048||0===this._input.length())&&this._input.compact(),this},r.prototype.digest=function(){var e=new r.ByteBuffer;e.putBytes(this._input.bytes());var t=this.fullMessageLength[this.fullMessageLength.length-1]+this._algorithm.messageLengthSize,n=t&this._algorithm.blockSize-1;e.putBytes(r._padding.substr(0,this._algorithm.blockSize-n));for(var i=new r.ByteBuffer,o=0;o<this.fullMessageLength.length;++o)i.putInt32(this.fullMessageLength[o]<<3|this.fullMessageLength[o+1]>>>28);this._algorithm.writeMessageLength(e,i);var a=this._algorithm.digest(this.state.copy(),e),s=new r.ByteBuffer;return a.write(s),s},r.ByteBuffer=function(e){this.data="string"==typeof e?e:"",this.read=0},r.ByteBuffer.prototype.putInt32=function(e){this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)},r.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},r.ByteBuffer.prototype.putBytes=function(e){this.data+=e},r.ByteBuffer.prototype.bytes=function(){return this.data.slice(this.read)},r.ByteBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteBuffer.prototype.compact=function(){this.data=this.data.slice(this.read),this.read=0},r.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e};var i={_w:null};i.Algorithm=function(){this.name="sha1",this.blockSize=64,this.digestLength=20,this.messageLengthSize=8},i.Algorithm.prototype.start=function(){return i._w||(i._w=new Array(80)),i._createState()},i.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},i.Algorithm.prototype.digest=function(e,t){for(var n,r,o,a,s,l,u,c,f=t.length(),h=i._w;f>=64;){for(r=e.h0,o=e.h1,a=e.h2,s=e.h3,l=e.h4,c=0;c<16;++c)n=t.getInt32(),h[c]=n,u=s^o&(a^s),n=(r<<5|r>>>27)+u+l+1518500249+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<20;++c)n=h[c-3]^h[c-8]^h[c-14]^h[c-16],n=n<<1|n>>>31,h[c]=n,u=s^o&(a^s),n=(r<<5|r>>>27)+u+l+1518500249+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<32;++c)n=h[c-3]^h[c-8]^h[c-14]^h[c-16],n=n<<1|n>>>31,h[c]=n,u=o^a^s,n=(r<<5|r>>>27)+u+l+1859775393+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<40;++c)n=h[c-6]^h[c-16]^h[c-28]^h[c-32],n=n<<2|n>>>30,h[c]=n,u=o^a^s,n=(r<<5|r>>>27)+u+l+1859775393+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<60;++c)n=h[c-6]^h[c-16]^h[c-28]^h[c-32],n=n<<2|n>>>30,h[c]=n,u=o&a|s&(o^a),n=(r<<5|r>>>27)+u+l+2400959708+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;for(;c<80;++c)n=h[c-6]^h[c-16]^h[c-28]^h[c-32],n=n<<2|n>>>30,h[c]=n,u=o^a^s,n=(r<<5|r>>>27)+u+l+3395469782+n,l=s,s=a,a=o<<30|o>>>2,o=r,r=n;e.h0=e.h0+r|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+l|0,f-=64}return e},i._createState=function(){var e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520};return e.copy=function(){var t=i._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4)},e};var o={_k:null,_w:null};o.Algorithm=function(){this.name="sha256",this.blockSize=64,this.digestLength=32,this.messageLengthSize=8},o.Algorithm.prototype.start=function(){return o._k||o._init(),o._createState()},o.Algorithm.prototype.writeMessageLength=function(e,t){e.putBytes(t.bytes())},o.Algorithm.prototype.digest=function(e,t){for(var n,r,i,a,s,l,u,c,f,h,d,p,v,g,m,y=t.length(),b=o._k,w=o._w;y>=64;){for(u=0;u<16;++u)w[u]=t.getInt32();for(;u<64;++u)n=w[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,r=w[u-15],r=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,w[u]=n+w[u-7]+r+w[u-16]|0;for(c=e.h0,f=e.h1,h=e.h2,d=e.h3,p=e.h4,v=e.h5,g=e.h6,m=e.h7,u=0;u<64;++u)a=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),s=g^p&(v^g),i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),l=c&f|h&(c^f),n=m+a+s+b[u]+w[u],r=i+l,m=g,g=v,v=p,p=d+n|0,d=h,h=f,f=c,c=n+r|0;e.h0=e.h0+c|0,e.h1=e.h1+f|0,e.h2=e.h2+h|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+v|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,y-=64}return e},o._createState=function(){var e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return e.copy=function(){var t=o._createState();return t.h0=e.h0,t.h1=e.h1,t.h2=e.h2,t.h3=e.h3,t.h4=e.h4,t.h5=e.h5,t.h6=e.h6,t.h7=e.h7,t},e.write=function(t){t.putInt32(e.h0),t.putInt32(e.h1),t.putInt32(e.h2),t.putInt32(e.h3),t.putInt32(e.h4),t.putInt32(e.h5),t.putInt32(e.h6),t.putInt32(e.h7)},e},o._init=function(){o._k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o._w=new Array(64)}}(c),!ve)var Ue=function(){ve=n(41).XMLSerializer};if(e.url={},e.url.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.url.parse=function(t,n){for(var r={},i=e.url.parsers[n||"full"],o=i.regex.exec(t),a=i.keys.length;a--;)r[i.keys[a]]=void 0===o[a]?null:o[a];return r.normalizedPath=ce(r.path,!!r.authority),r},c?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),c){e.use=function(t){switch(t){case"request":e.request=n(11);break;default:throw new Ae("Unknown extension.","jsonld.UnknownExtension",{extension:t})}};var Fe={exports:{},filename:a};n(11)(Fe,"version"),e.version=Fe.exports.version}return e},d=function e(){return h(function(){return e()})};!c&&n(76)?(s=[],void 0!==(l=function(){return h(d),d}.apply(t,s))&&(e.exports=l)):(h(d),void 0!==e&&e.exports&&(e.exports=d),f&&("undefined"==typeof jsonld?jsonld=jsonldjs=d:jsonldjs=d))}()}).call(t,n(4),n(5),n(13).setImmediate,"/")},function(e,t,n){"use strict";(function(r,i,o){var a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   2.3.0
 */
(function(){function l(e){return"function"==typeof e||"object"===(void 0===e?"undefined":s(e))&&null!==e}function u(e){return"function"==typeof e}function c(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e}function f(e){V=e}function h(e){Y=e}function d(){return function(){z(v)}}function p(){return function(){setTimeout(v,1)}}function v(){for(var e=0;e<G;e+=2){(0,te[e])(te[e+1]),te[e]=void 0,te[e+1]=void 0}G=0}function g(){}function m(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return oe.error=e,oe}}function w(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function x(e,t,n){Y(function(e){var r=!1,i=w(n,t,function(n){r||(r=!0,t!==n?S(e,n):_(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,E(e,i))},e)}function k(e,t){t._state===re?_(e,t._result):t._state===ie?E(e,t._result):N(t,void 0,function(t){S(e,t)},function(t){E(e,t)})}function T(e,t){if(t.constructor===e.constructor)k(e,t);else{var n=b(t);n===oe?E(e,oe.error):void 0===n?_(e,t):u(n)?x(e,t,n):_(e,t)}}function S(e,t){e===t?E(e,m()):l(t)?T(e,t):_(e,t)}function C(e){e._onerror&&e._onerror(e._result),L(e)}function _(e,t){e._state===ne&&(e._result=t,e._state=re,0!==e._subscribers.length&&Y(L,e))}function E(e,t){e._state===ne&&(e._state=ie,e._result=t,Y(C,e))}function N(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+re]=n,i[o+ie]=r,0===o&&e._state&&Y(L,e)}function L(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?A(n,r,i,o):i(o);e._subscribers.length=0}}function O(){this.error=null}function j(e,t){try{return e(t)}catch(e){return ae.error=e,ae}}function A(e,t,n,r){var i,o,a,s,l=u(n);if(l){if(i=j(n,r),i===ae?(s=!0,o=i.error,i=null):a=!0,t===i)return void E(t,y())}else i=r,a=!0;t._state!==ne||(l&&a?S(t,i):s?E(t,o):e===re?_(t,i):e===ie&&E(t,i))}function I(e,t){try{t(function(t){S(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}function R(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(g),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?_(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&_(n.promise,n._result))):E(n.promise,n._validationError())}function M(e){return new se(this,e).promise}function D(e){function t(e){S(i,e)}function n(e){E(i,e)}var r=this,i=new r(g);if(!$(e))return E(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===ne&&a<o;a++)N(r.resolve(e[a]),void 0,t,n);return i}function P(e){var t=this;if(e&&"object"===(void 0===e?"undefined":s(e))&&e.constructor===t)return e;var n=new t(g);return S(n,e),n}function U(e){var t=this,n=new t(g);return E(n,e),n}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&(u(e)||F(),this instanceof B||H(),I(this,e))}function q(){var e;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=de)}var W;W=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z,V,X,$=W,G=0,Y=function(e,t){te[G]=e,te[G+1]=t,2===(G+=2)&&(V?V(v):X())},J="undefined"!=typeof window?window:void 0,Q=J||{},K=Q.MutationObserver||Q.WebKitMutationObserver,Z=void 0!==r&&"[object process]"==={}.toString.call(r),ee="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);X=Z?function(){var e=r.nextTick,t=r.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(t)&&"0"===t[1]&&"10"===t[2]&&(e=i),function(){e(v)}}():K?function(){var e=0,t=new K(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():ee?function(){var e=new MessageChannel;return e.port1.onmessage=v,function(){e.port2.postMessage(0)}}():void 0===J?function(){try{var e=n(75);return z=e.runOnLoop||e.runOnContext,d()}catch(e){return p()}}():p();var ne=void 0,re=1,ie=2,oe=new O,ae=new O;R.prototype._validateInput=function(e){return $(e)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)};var se=R;R.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===ne&&i<t;i++)e._eachEntry(r[i],i)},R.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;c(e)?e.constructor===r&&e._state!==ne?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},R.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===ne&&(r._remaining--,e===ie?E(i,n):r._result[t]=n),0===r._remaining&&_(i,r._result)},R.prototype._willSettleAt=function(e,t){var n=this;N(e,void 0,function(e){n._settledAt(re,t,e)},function(e){n._settledAt(ie,t,e)})};var le=M,ue=D,ce=P,fe=U,he=0,de=B;B.all=le,B.race=ue,B.resolve=ce,B.reject=fe,B._setScheduler=f,B._setAsap=h,B._asap=Y,B.prototype={constructor:B,then:function(e,t){var n=this,r=n._state;if(r===re&&!e||r===ie&&!t)return this;var i=new this.constructor(g),o=n._result;if(r){var a=arguments[r-1];Y(function(){A(r,i,a,o)})}else N(n,i,e,t);return i},catch:function(e){return this.then(null,e)}};var pe=q,ve={Promise:de,polyfill:pe};void 0!==(a=function(){return ve}.call(t,n,t,e))&&(e.exports=a),pe()}).call(void 0)}).call(t,n(4),n(13).setImmediate,n(5))},function(e,t,n){"use strict";var r,r;r=function(){};var i=e.exports={Lexer:r("./lib/N3Lexer"),Parser:r("./lib/N3Parser"),Writer:r("./lib/N3Writer"),Store:r("./lib/N3Store"),StreamParser:r("./lib/N3StreamParser"),StreamWriter:r("./lib/N3StreamWriter"),Util:r("./lib/N3Util")};Object.keys(i).forEach(function(e){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){return delete i[e],i[e]=n(77)("./N3"+e)}})})},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);this._size=0,this._graphs=Object.create(null),this._entities=Object.create(null),this._entities["><"]=0,this._entityCount=0,this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),this._prefixes=Object.create(null),t&&t.prefixes&&this.addPrefixes(t.prefixes),e&&this.addTriples(e)}var i=n(31).expandPrefixedName;r.prototype={get size(){var e=this._size;if(null!==e)return e;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e},_addToIndex:function(e,t,n,r){var i=e[t]||(e[t]={});(i[n]||(i[n]={}))[r]=null},_removeFromIndex:function(e,t,n,r){var i,o=e[t],a=o[n];delete a[r];for(i in a)return;delete o[n];for(i in o)return;delete e[t]},_findInIndex:function(e,t,n,r,i,o,a,s){var l,u,c,f=[],h=Object.keys(this._entities);t&&((l=e,e={})[t]=l[t]);for(var d in e){var p=h[d];if(u=e[d]){n&&((l=u,u={})[n]=l[n]);for(var v in u){var g=h[v];if(c=u[v])for(var m=(r?r in c?[r]:[]:Object.keys(c)),y=m.length-1;y>=0;y--){var b={subject:"",predicate:"",object:"",graph:s};b[i]=p,b[o]=g,b[a]=h[m[y]],f.push(b)}}}}return f},_countInIndex:function(e,t,n,r){var i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(var l in e)if(o=e[l]){n&&((i=o,o={})[n]=i[n]);for(var u in o)(a=o[u])&&(r?r in a&&s++:s+=Object.keys(a).length)}return s},addTriple:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),r=r||"";var i=this._graphs[r];i||(i=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._entities;e=o[e]||(o[e]=++this._entityCount),t=o[t]||(o[t]=++this._entityCount),n=o[n]||(o[n]=++this._entityCount),this._addToIndex(i.subjects,e,t,n),this._addToIndex(i.predicates,t,n,e),this._addToIndex(i.objects,n,e,t),this._size=null},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),r=r||"";var i,o=this._entities,a=this._graphs;if((e=o[e])&&(t=o[t])&&(n=o[n])&&(i=a[r])){var s,l;if((s=i.subjects[e])&&(l=s[t])&&n in l){this._removeFromIndex(i.subjects,e,t,n),this._removeFromIndex(i.predicates,t,n,e),this._removeFromIndex(i.objects,n,e,t),null!==this._size&&this._size--;for(e in i.subjects)return;delete a[r]}}},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},find:function(e,t,n,r){var o=this._prefixes;return this.findByIRI(i(e,o),i(t,o),i(n,o),i(r,o))},findByIRI:function(e,t,n,r){r=r||"";var i=this._graphs[r],o=this._entities;return i?e&&!(e=o[e])?[]:t&&!(t=o[t])?[]:n&&!(n=o[n])?[]:e?n?this._findInIndex(i.objects,n,e,t,"object","subject","predicate",r):this._findInIndex(i.subjects,e,t,null,"subject","predicate","object",r):t?this._findInIndex(i.predicates,t,n,null,"predicate","object","subject",r):n?this._findInIndex(i.objects,n,null,null,"object","subject","predicate",r):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",r):[]},count:function(e,t,n,r){var o=this._prefixes;return this.countByIRI(i(e,o),i(t,o),i(n,o),i(r,o))},countByIRI:function(e,t,n,r){r=r||"";var i=this._graphs[r],o=this._entities;return i?e&&!(e=o[e])?0:t&&!(t=o[t])?0:n&&!(n=o[n])?0:e?n?this._countInIndex(i.objects,n,e,t):this._countInIndex(i.subjects,e,t,n):t?this._countInIndex(i.predicates,t,n,e):this._countInIndex(i.objects,n,e,t):0},createBlankNode:function(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._entities[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._entities[t]);return this._entities[t]=++this._entityCount,t}},e.exports=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t=this,n=new a(e);n.parse(function(e,n){n&&t.push(n)||e&&t.emit("error",e)},this.emit.bind(this,"prefix")),this._transform=function(e,t,r){n.addChunk(e),r()},this._flush=function(e){n.end(),e()}}var i=n(49).Transform,o=n(57),a=n(30);o.inherits(r,i),e.exports=r},function(e,t,n){"use strict";function r(){i.call(this)}e.exports=r;var i=n(32).EventEmitter;n(12)(r,i),r.Readable=n(33),r.Writable=n(84),r.Duplex=n(85),r.Transform=n(86),r.PassThrough=n(87),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function r(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",r),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(u.on("end",o),u.on("close",a));var c=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},function(e,t,n){"use strict";(function(t,r){function i(e){return P.from(e)}function o(e){return P.isBuffer(e)||e instanceof U}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){I=I||n(8),e=e||{},this.objectMode=!!e.objectMode,t instanceof I&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new W,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(q||(q=n(55).StringDecoder),this.decoder=new q(e.encoding),this.encoding=e.encoding)}function l(e){if(I=I||n(8),!(this instanceof l))return new l(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),D.call(this)}function u(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,v(e,a);else{var s;o||(s=f(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===P.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):y(e,a)):c(e,a,t,!1))):r||(a.reading=!1)}return h(a)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),y(e,t)}function f(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function d(e){return e>=X?e=X:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=d(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function v(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(B("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A(m,e):m(e))}function m(e){B("emit readable"),e.emit("readable"),S(e)}function y(e,t){t.readingMore||(t.readingMore=!0,A(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(B("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function w(e){return function(){var t=e._readableState;B("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,S(e))}}function x(e){B("readable nexttick read 0"),e.read(0)}function k(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A(T,e,t))}function T(e,t){t.reading||(B("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(B("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=_(e,t.buffer,t.decoder),n}function _(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?E(e,t):N(e,t),r}function E(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function N(e,t){var n=P.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,A(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var A=n(21);e.exports=l;var I,R=n(51);l.ReadableState=s;var M=(n(32).EventEmitter,function(e,t){return e.listeners(t).length}),D=n(52),P=n(22).Buffer,U=t.Uint8Array||function(){},F=n(14);F.inherits=n(12);var H=n(80),B=void 0;B=H&&H.debuglog?H.debuglog("stream"):function(){};var q,W=n(81),z=n(54);F.inherits(l,D);var V=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=z.destroy,l.prototype._undestroy=z.undestroy,l.prototype._destroy=function(e,t){this.push(null),t(e)},l.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=P.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},l.prototype.unshift=function(e){return u(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(e){return q||(q=n(55).StringDecoder),this._readableState.decoder=new q(e),this._readableState.encoding=e,this};var X=8388608;l.prototype.read=function(e){B("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return B("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&L(this),null;var r=t.needReadable;B("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,B("length less than watermark",r)),t.ended||t.reading?(r=!1,B("reading or ended",r)):r&&(B("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(n,t)));var i;return i=e>0?C(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==i&&this.emit("data",i),i},l.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},l.prototype.pipe=function(e,t){function n(e,t){B("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){B("onend"),e.end()}function o(){B("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",l),e.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",s),m=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){B("ondata"),y=!1,!1!==e.write(t)||y||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==j(d.pipes,e))&&!m&&(B("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,y=!0),h.pause())}function l(t){B("onerror",t),f(),e.removeListener("error",l),0===M(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),f()}function c(){B("onfinish"),e.removeListener("close",u),f()}function f(){B("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,B("pipe count=%d opts=%j",d.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,v=p?i:f;d.endEmitted?A(v):h.once("end",v),e.on("unpipe",n);var g=w(h);e.on("drain",g);var m=!1,y=!1;return h.on("data",s),a(e,"error",l),e.once("close",u),e.once("finish",c),e.emit("pipe",h),d.flowing||(B("pipe resume"),h.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=j(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},l.prototype.on=function(e,t){var n=D.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):A(x,this))}return n},l.prototype.addListener=l.prototype.on,l.prototype.resume=function(){var e=this._readableState;return e.flowing||(B("resume"),e.flowing=!0,k(this,e)),this},l.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this},l.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(B("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(B("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){r.push(i)||(n=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<V.length;o++)e.on(V[o],r.emit.bind(r,V[o]));return r._read=function(t){B("wrapped _read",t),n&&(n=!1,e.resume())},r},l._fromList=C}).call(t,n(5),n(4))},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";e.exports=n(32).EventEmitter},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?c(e,t,n):d(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function u(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function d(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&K(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(o(e,u)===o(t,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===l)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,h=0;h<l;h++)if(o(e,u+h)!==o(t,h)){f=!1;break}if(f)return u}return-1}function x(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function k(e,t,n,r){return G(z(t,e.length-n),e,n,r)}function T(e,t,n,r){return G(V(t),e,n,r)}function S(e,t,n,r){return T(e,t,n,r)}function C(e,t,n,r){return G($(t),e,n,r)}function _(e,t,n,r){return G(X(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:l=e[i+1],128==(192&l)&&(f=(31&o)<<6|63&l)>127&&(a=f);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(f=(15&o)<<12|(63&l)<<6|63&u)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(f=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return L(r)}function L(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=W(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||U(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,n,r,23,4),n+4}function H(e,t,n,r,i){return i||U(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,n,r,52,8),n+8}function B(e){if(e=q(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function X(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function $(e){return J.toByteArray(B(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=n(78),Q=n(79),K=n(51);t.Buffer=o,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return l(null,e,t,n)},o.allocUnsafe=function(e){return u(null,e)},o.allocUnsafeSlow=function(e){return u(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!K(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):m.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,l=Math.min(a,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),Q.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),Q.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){M(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:z(new o(e,r).toString()),l=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(5))},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(r||i)return void(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a(o,this,e));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(21);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(y.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=h,this.end=d,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=p,this.end=v,t=3;break;default:return this.write=g,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function l(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(n+2)}}function u(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t}function h(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var y=n(22).Buffer,b=y.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=f,o.prototype.text=c,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(t)})}function a(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=o;var s=n(8),l=n(14);l.inherits=n(12),l.inherits(o,s),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";(function(e,r){function i(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&_(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=u(e,n);if(o)return o;var a=Object.keys(n),v=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(_(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return c(n)}var m="",y=!1,w=["{","}"];if(p(n)&&(y=!0,w=["[","]"]),_(n)){m=" [Function"+(n.name?": "+n.name:"")+"]"}if(k(n)&&(m=" "+RegExp.prototype.toString.call(n)),S(n)&&(m=" "+Date.prototype.toUTCString.call(n)),C(n)&&(m=" "+c(n)),0===a.length&&(!y||0==n.length))return w[0]+m+w[1];if(r<0)return k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var x;return x=y?f(e,n,r,v,a):a.map(function(t){return h(e,n,r,v,t,y)}),e.seen.pop(),d(x,m,w)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)j(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function g(e){return null===e}function m(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"===(void 0===e?"undefined":A(e))}function x(e){return void 0===e}function k(e){return T(e)&&"[object RegExp]"===N(e)}function T(e){return"object"===(void 0===e?"undefined":A(e))&&null!==e}function S(e){return T(e)&&"[object Date]"===N(e)}function C(e){return T(e)&&("[object Error]"===N(e)||e instanceof Error)}function _(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":A(e))||void 0===e}function N(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(I,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<o;s=r[++n])g(s)||!T(s)?a+=" "+s:a+=" "+i(s);return a},t.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var a=!1;return o};var R,M={};t.debuglog=function(e){if(x(R)&&(R=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var n=r.pid;M[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else M[e]=function(){};return M[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=v,t.isNull=g,t.isNullOrUndefined=m,t.isNumber=y,t.isString=b,t.isSymbol=w,t.isUndefined=x,t.isRegExp=k,t.isObject=T,t.isDate=S,t.isError=C,t.isFunction=_,t.isPrimitive=E,t.isBuffer=n(88);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(89),t._extend=function(e,t){if(!t||!T(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(5),n(4))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=new a({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addTriple(e,r)},this._flush=function(e){n.end(e)}}var i=n(49).Transform,o=n(57),a=n(35);o.inherits(r,i),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,p){function v(){p&&p(null,t)}function g(e,n){e&&p(e,t);try{x.parse(n,m)}catch(e){p(e,t)}}function m(e,n,r){if(e&&p(e,t),n)k.push(n);else{for(var i=0;i<k.length;i++)y(t,k[i]);p(null,t)}}function y(e,t){var n=b(t.subject),r=b(t.predicate),i=b(t.object),o=null;t.graph&&(o=b(t.graph)),e.add(n,r,i,o)}function b(e){var t;if(s.Util.isLiteral(e)){t=s.Util.getLiteralValue(e);var n=s.Util.getLiteralLanguage(e),r=new u(s.Util.getLiteralType(e));return new a(t,n,r)}return s.Util.isIRI(e)?new u(e):s.Util.isBlank(e)?(t=e.substring(2,e.length),new i(t)):null}r=r||"text/turtle",r=r.split(";")[0];try{if("text/n3"===r||"text/turtle"===r){l(t,t,n,n,null,null,"",null).loadBuf(e),v()}else if("application/rdf+xml"===r){var w=new f(t);w.parse(d.parseXML(e),n,t.sym(n)),v()}else if("application/xhtml+xml"===r)c(d.parseXML(e,{contentType:"application/xhtml+xml"}),t,n),v();else if("text/html"===r)c(d.parseXML(e,{contentType:"text/html"}),t,n),v();else if("application/sparql-update"===r)h(e,t,n),v();else{if("application/ld+json"!==r&&"application/nquads"!==r&&"application/n-quads"!==r)throw new Error("Don't know how to parse "+r+" yet");var x=s.Parser(),k=[];if("application/ld+json"===r){var T;try{T=JSON.parse(e)}catch(e){return p(e,null)}o.toRDF(T,{format:"application/nquads",base:n},g)}else g(null,e)}}catch(e){!function(e){if("application/ld+json"!==r||"application/nquads"!==r||"application/n-quads"!==r){if(!p)throw new Error("Error trying to parse <"+n+"> as "+r+":\n"+e+":\n"+e.stack);p(e,t)}}(e)}}e.exports=r;var i=n(6),o=n(44),a=n(10),s=n(46),l=n(27),u=n(0),c=n(38).parseRDFaDOM,f=n(39),h=n(60),d=n(3)},function(e,t,n){"use strict";function r(e,t,n){var r,a,s,l=["INSERT","DELETE","WHERE"],u=o("http://www.w3.org/ns/pim/patch#"),c=i(t,t,n,n,null,null,"",null),f={},h=function(e,t,n,r,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+n.slice(r,r+30)+'"'};r=0;var d=t.sym(n+"#query");for(f.query=d;;){if((a=c.skipSpace(e,r))<0)return f;if(";"===e[a]){if((r=c.skipSpace(e,a+1))<0)return f;a=r}var p=!1;for(s=0;s<l.length;s++){var v=l[s];if(e.slice(a,a+v.length)===v){if((r=c.skipSpace(e,a+v.length))<0)throw h(c._thisDoc,c.lines,e,a+v.length,"found EOF, needed {...} after "+v);if(("INSERT"===v||"DELETE"===v)&&"DATA"===e.slice(r,r+4)){if((a=c.skipSpace(e,r+4))<0)throw h(c._thisDoc,c.lines,e,r+4,"needed {...} after INSERT DATA "+v);r=a}var g=[];if((a=c.node(e,r,g))<0)throw h(c._thisDoc,c.lines,e,r,"bad syntax or EOF in {...} after "+v);f[v.toLowerCase()]=g[0],t.add(d,u(v.toLowerCase()),g[0]),p=!0,r=a}}if(!p&&"@prefix"===e.slice(a,a+7)){if((r=c.directive(e,a))<0)throw h(c._thisDoc,c.lines,e,r,"bad syntax or EOF after @prefix ");r=c.checkDot(e,r),p=!0}if(!p)throw h(c._thisDoc,c.lines,e,a,"Unknown syntax at start of statememt: '"+e.slice(a).slice(0,20)+"'")}}e.exports=r;var i=n(27),o=n(15)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(26).namedNode,a=function(){function e(t,n){r(this,e),this.parent=t,this.via=n,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(n),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(e){this.onError(e)}}return i(e,[{key:"_decode",value:function(e){var t,n,r,i,o,a,s;i={},o=function(){var n,r,i,o;for(i=e.split("&"),o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(t.split("="));return o}();for(n in o)t=o[n],a=[decodeURIComponent(t[0]),decodeURIComponent(t[1])],r=a[0],s=a[1],null==i[r]&&(i[r]=[]),i[r].push(s);return i}},{key:"_send",value:function(e,t,n){var r,i;return i=[e,t,n].join(" "),"function"==typeof(r=this.socket).send?r.send(i):void 0}},{key:"_subscribe",value:function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}},{key:"onClose",value:function(e){var t;this.connected=!1;for(t in this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}},{key:"onError",value:function(e){throw new Error("onError"+e)}},{key:"onMessage",value:function(e){var t,n;return n=e.data.split(" "),"ping"===n[0]?"function"==typeof(t=this.socket).send?t.send("pong "+n.slice(1).join(" ")):void 0:"pub"===n[0]?this.parent.onUpdate(n[1],this._decode(n[2])):void 0}},{key:"onOpen",value:function(e){var t,n;this.connected=!0,t=[];for(n in this.pending)delete this.pending[n],t.push(this._subscribe(n));return t}},{key:"subscribe",value:function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}]),e}(),s=function(){function e(t){r(this,e),this.fetcher=t,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return i(e,[{key:"onHeaders",value:function(e){var t,n,r;return null==e.headers||("undefined"==typeof WebSocket||null===WebSocket||(t=e.headers.etag,r=e.headers["updates-via"],n=e.uri,t&&r&&(this.graph[n]={etag:t,via:r},this.register(r,n)),!0))}},{key:"onUpdate",value:function(e,t){return this.fetcher.refresh(o(e))}},{key:"register",value:function(e,t){return null==this.via[e]&&(this.via[e]=new a(this,e)),this.via[e].subscribe(t)}}]),e}();e.exports.UpdatesSocket=a,e.exports.UpdatesVia=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=e.split(/\r?\n/),n=t.filter(function(e){return e.trim().length>0}).map(function(e){return e.match(/ */)[0].length}).reduce(function(e,t){return e<t?e:t});return t.map(function(e){return e.substr(n)}).filter(function(e,t,n){return!(0===t||t===n.length-1)&&0!==e.trim().length}).join("\n")}var a=n(63),s=r(a),l=n(71),u=r(l),c=n(72),f=r(c),h=n(18),d=r(h),p=n(16),v=r(p);n(100),n(101);var g=n(102);r(g);new s.default(".btn",{text:function(e){return e+" it is"}});var m={};v.default.prototype.getValueAsJS=function(){return"'"+this.getValue().replace(/\'/g,"\\'").split("\n").join("\\n\\\n")+"'"},(0,u.default)(".editor").toArray().forEach(function(e){var t=(0,u.default)(e).html(),n=(0,u.default)(e).attr("type");(0,u.default)(e).hide();var r=(0,u.default)("<div></div>");r.insertAfter(e);var a=(0,v.default)(r[0],{mode:n,lineNumbers:!0,viewportMargin:1/0});a.setValue(o(t));var l=(0,u.default)("<a href='#' >copy as JS-String</a>");if(l.insertAfter(r),new s.default(l[0],{text:function(e){return a.getValueAsJS()}}),"application/javascript"===n){var c=function(){g.forEach(function(e){return e.remove()});try{var e=(new(Function.prototype.bind.apply(Function,[null].concat(["rdf2h"],i(Object.keys(h)),[a.getValue()])))).apply(void 0,[f.default].concat(i(Object.values(h).map(function(e){return e()})))),t=(0,u.default)("<div class='result'>Returns the following result:<br>                 <code class='result'>"+e+"</code></div>");t.insertAfter(r),g.push(t)}catch(e){var n=e.stack.split("\n"),o=n.findIndex(function(e){return e.indexOf("at eval")>0});e.stack=n.splice(0,o).join("\n");var s=(0,u.default)("<div class='result error'>Throws the following error:<br>                <code class='result'>"+(0,u.default)("<div/>").text(e.message).html()+"\n"+(0,u.default)("<div/>").text(e.stack).html()+"</code></div>");s.insertAfter(r),g.push(s)}},h={};Object.keys(m).forEach(function(e){return h[e]=m[e]});var p=(0,u.default)("<a href='#'>run again</a> ");p.insertAfter(r);var g=new Array;c(),p.click(function(){return c(),!1})}(0,u.default)("<br/>").insertAfter(l),(0,u.default)(e).attr("class").split(" ").filter(function(e){return"editor"!==e}).forEach(function(e){return m[e]=function(){var t=d.default.graph();return d.default.parse(a.getValue(),t,"http://example.org/"+e+"/",n),t}})}),(0,u.default)(" .CodeMirror").css("height","auto");var y=(0,u.default)("<a class='copyAsTest' href='#'>Copy as test</a>");new s.default(".copyAsTest",{text:function(e){var t=(0,u.default)(event.target.closest(".step")),n=t.find(".CodeMirror").toArray().map(function(e){return e.CodeMirror}),r=n[0].getValueAsJS(),i=n[1].getValueAsJS(),o=n[2].getValue(),a="it('Test generated from manual.', function () {\n            var dataTurtle = "+i+";\n            var templatesTurtle = "+r+';\n            var templates = rdf.graph();\n            rdf.parse(templatesTurtle, templates, "http://example.org/templates/", "text/turtle");\n            var data = rdf.graph();\n            rdf.parse(dataTurtle, data, "http://example.org/data", "text/turtle");\n            var renderingResult = (() => { '+o+' })();\n            console.log("result: " + renderingResult);\n            assert.equal("EXPECTED RESULT", renderingResult);\n        });';return t.find(".CodeMirror").toArray().forEach(function(e){return console.log(e)}),alert(a),a}}),(0,u.default)(".step").append((0,u.default)("<hr/>")),(0,u.default)(".step").append(y)},function(e,t,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){i=[e,n(64),n(66),n(67)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t,n,r){function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var c=i(t),f=i(n),h=i(r),d="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(e,n){o(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return l(t,e),p(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===d(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,h.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(f.default);e.exports=v})},function(e,t,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){i=[e,n(65)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},function(e,t,n){"use strict";function r(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=r},function(e,t,n){"use strict";function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,n);if(s.nodeList(e))return o(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return l(document.body,e,t,n)}var s=n(68),l=n(69);e.exports=r},function(e,t,n){"use strict";t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function i(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,i,o)}))}function o(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=n(70);e.exports=i},function(e,t,n){"use strict";function r(e,t){for(;e&&e.nodeType!==i;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=r},function(e,t,n){"use strict";(function(e){var n,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */
!function(t,n){"object"===i(e)&&"object"===i(e.exports)?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:void 0,function(o,a){function s(e,t){t=t||se;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function l(e){var t=!!e&&"length"in e&&e.length,n=be.type(e);return"function"!==n&&!be.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function c(e,t,n){return be.isFunction(t)?be.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?be.grep(e,function(e){return e===t!==n}):"string"!=typeof t?be.grep(e,function(e){return he.call(t,e)>-1!==n}):Le.test(t)?be.filter(t,e,n):(t=be.filter(t,e),be.grep(e,function(e){return he.call(t,e)>-1!==n&&1===e.nodeType}))}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function h(e){var t={};return be.each(e.match(Re)||[],function(e,n){t[n]=!0}),t}function d(e){return e}function p(e){throw e}function v(e,t,n,r){var i;try{e&&be.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&be.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function g(){se.removeEventListener("DOMContentLoaded",g),o.removeEventListener("load",g),be.ready()}function m(){this.expando=be.expando+m.uid++}function y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function b(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(qe,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=y(n)}catch(e){}He.set(e,t,n)}else n=void 0;return n}function w(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return be.css(e,t,"")},l=s(),u=n&&n[3]||(be.cssNumber[t]?"":"px"),c=(be.cssNumber[t]||"px"!==u&&+l)&&ze.exec(be.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{o=o||".5",c/=o,be.style(e,t,c+u)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ge[r];return i||(t=n.body.appendChild(n.createElement(r)),i=be.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ge[r]=i,i)}function k(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Fe.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Xe(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",Fe.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function T(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?be.merge([e],n):n}function S(e,t){for(var n=0,r=e.length;n<r;n++)Fe.set(e[n],"globalEval",!t||Fe.get(t[n],"globalEval"))}function C(e,t,n,r,i){for(var o,a,s,l,u,c,f=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((o=e[d])||0===o)if("object"===be.type(o))be.merge(h,o.nodeType?[o]:o);else if(Ze.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Je.exec(o)||["",""])[1].toLowerCase(),l=Ke[s]||Ke._default,a.innerHTML=l[1]+be.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;be.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(r&&be.inArray(o,r)>-1)i&&i.push(o);else if(u=be.contains(o.ownerDocument,o),a=T(f.appendChild(o),"script"),u&&S(a),n)for(c=0;o=a[c++];)Qe.test(o.type||"")&&n.push(o);return f}function _(){return!0}function E(){return!1}function N(){try{return se.activeElement}catch(e){}}function L(e,t,n,r,o,a){var s,l;if("object"===(void 0===t?"undefined":i(t))){"string"!=typeof n&&(r=r||n,n=void 0);for(l in t)L(e,l,n,r,t[l],a);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=E;else if(!o)return e;return 1===a&&(s=o,o=function(e){return be().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=be.guid++)),e.each(function(){be.event.add(this,t,o,r,n)})}function O(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?be(">tbody",e)[0]||e:e}function j(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function I(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(Fe.hasData(e)&&(o=Fe.access(e),a=Fe.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;n<r;n++)be.event.add(t,i,u[i][n])}He.hasData(e)&&(s=He.access(e),l=be.extend({},s),He.set(t,l))}}function R(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ye.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function M(e,t,n,r){t=ce.apply([],t);var i,o,a,l,u,c,f=0,h=e.length,d=h-1,p=t[0],v=be.isFunction(p);if(v||h>1&&"string"==typeof p&&!ye.checkClone&&at.test(p))return e.each(function(i){var o=e.eq(i);v&&(t[0]=p.call(this,i,o.html())),M(o,t,n,r)});if(h&&(i=C(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=be.map(T(i,"script"),j),l=a.length;f<h;f++)u=i,f!==d&&(u=be.clone(u,!0,!0),l&&be.merge(a,T(u,"script"))),n.call(e[f],u,f);if(l)for(c=a[a.length-1].ownerDocument,be.map(a,A),f=0;f<l;f++)u=a[f],Qe.test(u.type||"")&&!Fe.access(u,"globalEval")&&be.contains(c,u)&&(u.src?be._evalUrl&&be._evalUrl(u.src):s(u.textContent.replace(lt,""),c))}return e}function D(e,t,n){for(var r,i=t?be.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||be.cleanData(T(r)),r.parentNode&&(n&&be.contains(r.ownerDocument,r)&&S(T(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||ft(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||be.contains(e.ownerDocument,e)||(a=be.style(e,t)),!ye.pixelMarginRight()&&ct.test(a)&&ut.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function U(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e){if(e in mt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=gt.length;n--;)if((e=gt[n]+t)in mt)return e}function H(e){var t=be.cssProps[e];return t||(t=be.cssProps[e]=F(e)||e),t}function B(e,t,n){var r=ze.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function q(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=be.css(e,n+Ve[o],!0,i)),r?("content"===n&&(a-=be.css(e,"padding"+Ve[o],!0,i)),"margin"!==n&&(a-=be.css(e,"border"+Ve[o]+"Width",!0,i))):(a+=be.css(e,"padding"+Ve[o],!0,i),"padding"!==n&&(a+=be.css(e,"border"+Ve[o]+"Width",!0,i)));return a}function W(e,t,n){var r,i=ft(e),o=P(e,t,i),a="border-box"===be.css(e,"boxSizing",!1,i);return ct.test(o)?o:(r=a&&(ye.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+q(e,t,n||(a?"border":"content"),r,i)+"px")}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function V(){bt&&(!1===se.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(V):o.setTimeout(V,be.fx.interval),be.fx.tick())}function X(){return o.setTimeout(function(){yt=void 0}),yt=be.now()}function $(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ve[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function G(e,t,n){for(var r,i=(Q.tweeners[t]||[]).concat(Q.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Y(e,t,n){var r,i,o,a,s,l,u,c,f="width"in t||"height"in t,h=this,d={},p=e.style,v=e.nodeType&&Xe(e),g=Fe.get(e,"fxshow");n.queue||(a=be._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,be.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],wt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;v=!0}d[r]=g&&g[r]||be.style(e,r)}if((l=!be.isEmptyObject(t))||!be.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=g&&g.display,null==u&&(u=Fe.get(e,"display")),c=be.css(e,"display"),"none"===c&&(u?c=u:(k([e],!0),u=e.style.display||u,c=be.css(e,"display"),k([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===be.css(e,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(r in d)l||(g?"hidden"in g&&(v=g.hidden):g=Fe.access(e,"fxshow",{display:u}),o&&(g.hidden=!v),v&&k([e],!0),h.done(function(){v||k([e]),Fe.remove(e,"fxshow");for(r in d)be.style(e,r,d[r])})),l=G(v?g[r]:0,r,h),r in g||(g[r]=l.start,v&&(l.end=l.start,l.start=0))}}function J(e,t){var n,r,i,o,a;for(n in e)if(r=be.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=be.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Q(e,t,n){var r,i,o=0,a=Q.prefilters.length,s=be.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=yt||X(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(l||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:be.extend({},t),opts:be.extend(!0,{specialEasing:{},easing:be.easing._default},n),originalProperties:t,originalOptions:n,startTime:yt||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=be.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(J(c,u.opts.specialEasing);o<a;o++)if(r=Q.prefilters[o].call(u,e,c,u.opts))return be.isFunction(r.stop)&&(be._queueHooks(u.elem,u.opts.queue).stop=be.proxy(r.stop,r)),r;return be.map(c,G,u),be.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),be.fx.timer(be.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}function K(e){return(e.match(Re)||[]).join(" ")}function Z(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e,t,n,r){var o;if(Array.isArray(t))be.each(t,function(t,o){n||jt.test(e)?r(e,o):ee(e+"["+("object"===(void 0===o?"undefined":i(o))&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==be.type(t))r(e,t);else for(o in t)ee(e+"["+o+"]",t[o],n,r)}function te(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Re)||[];if(be.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ne(e,t,n,r){function i(s){var l;return o[s]=!0,be.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===Wt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function re(e,t){var n,r,i=be.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&be.extend(!0,e,r),e}function ie(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function oe(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var ae=[],se=o.document,le=Object.getPrototypeOf,ue=ae.slice,ce=ae.concat,fe=ae.push,he=ae.indexOf,de={},pe=de.toString,ve=de.hasOwnProperty,ge=ve.toString,me=ge.call(Object),ye={},be=function e(t,n){return new e.fn.init(t,n)},we=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xe=/^-ms-/,ke=/-([a-z])/g,Te=function(e,t){return t.toUpperCase()};be.fn=be.prototype={jquery:"3.2.1",constructor:be,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=be.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return be.each(this,e)},map:function(e){return this.pushStack(be.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:fe,sort:ae.sort,splice:ae.splice},be.extend=be.fn.extend=function(){var e,t,n,r,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"===(void 0===s?"undefined":i(s))||be.isFunction(s)||(s={}),l===u&&(s=this,l--);l<u;l++)if(null!=(e=arguments[l]))for(t in e)n=s[t],r=e[t],s!==r&&(c&&r&&(be.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,a=n&&Array.isArray(n)?n:[]):a=n&&be.isPlainObject(n)?n:{},s[t]=be.extend(c,a,r)):void 0!==r&&(s[t]=r));return s},be.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===be.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=be.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==pe.call(e))&&(!(t=le(e))||"function"==typeof(n=ve.call(t,"constructor")&&t.constructor)&&ge.call(n)===me)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"===(void 0===e?"undefined":i(e))||"function"==typeof e?de[pe.call(e)]||"object":void 0===e?"undefined":i(e)},globalEval:function(e){s(e)},camelCase:function(e){return e.replace(xe,"ms-").replace(ke,Te)},each:function(e,t){var n,r=0;if(l(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(we,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(l(Object(e))?be.merge(n,"string"==typeof e?[e]:e):fe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:he.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(l(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return ce.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),be.isFunction(e))return r=ue.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ue.call(arguments)))},i.guid=e.guid=e.guid||be.guid++,i},now:Date.now,support:ye}),"function"==typeof Symbol&&(be.fn[Symbol.iterator]=ae[Symbol.iterator]),be.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Se=/*!
  * Sizzle CSS Selector Engine v2.3.3
  * https://sizzlejs.com/
  *
  * Copyright jQuery Foundation and other contributors
  * Released under the MIT license
  * http://jquery.org/license
  *
  * Date: 2016-08-08
  */
function(e){function t(e,t,n,r){var i,o,a,s,l,c,h,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:F)!==j&&O(t),t=t||j,I)){if(11!==p&&(l=ve.exec(e)))if(i=l[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&P(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return J.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!z[e+" "]&&(!R||!R.test(e))){if(1!==p)d=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,we):t.setAttribute("id",s=U),c=S(e),o=c.length;o--;)c[o]="#"+s+" "+f(c[o]);h=c.join(","),d=ge.test(e)&&u(t.parentNode)||t}if(h)try{return J.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{s===U&&t.removeAttribute("id")}}}return _(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[U]=!0,e}function i(e){var t=j.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ke(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function c(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=B++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var u,c,f,h=[H,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[U]||(t[U]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===H&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=e(t,n,l))return!0}return!1}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[U]&&(i=g(i)),o&&!o[U]&&(o=g(o,a)),r(function(r,a,s,l){var u,c,f,h=[],d=[],g=a.length,m=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?m:v(m,h,e,s,l),b=n?o||(r?e:g||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=v(b,d),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?K(r,f):h[c])>-1&&(r[u]=!(a[u]=f))}}else b=v(b===a?b.splice(g,b.length):b),o?o(null,a,b,l):J.apply(a,b)})}function m(e){for(var t,n,r,i=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return K(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==E)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=x.relative[e[s].type])c=[h(d(c),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[U]){for(r=++s;r<i&&!x.relative[e[r].type];r++);return g(s>1&&d(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&m(e.slice(s,r)),r<i&&m(e=e.slice(r)),r<i&&f(e))}c.push(n)}return d(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,h,d=0,p="0",g=r&&[],m=[],y=E,b=r||o&&x.find.TAG("*",u),w=H+=null==y?1:Math.random()||.1,k=b.length;for(u&&(E=a===j||a||u);p!==k&&null!=(c=b[p]);p++){if(o&&c){for(f=0,a||c.ownerDocument===j||(O(c),s=!I);h=e[f++];)if(h(c,a||j,s)){l.push(c);break}u&&(H=w)}i&&((c=!h&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(g,m,a,s);if(r){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=G.call(l));m=v(m)}J.apply(l,m),u&&!r&&m.length>0&&d+n.length>1&&t.uniqueSort(l)}return u&&(H=w,E=y),g};return i?r(a):a}var b,w,x,k,T,S,C,_,E,N,L,O,j,A,I,R,M,D,P,U="sizzle"+1*new Date,F=e.document,H=0,B=0,q=n(),W=n(),z=n(),V=function(e,t){return e===t&&(L=!0),0},X={}.hasOwnProperty,$=[],G=$.pop,Y=$.push,J=$.push,Q=$.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ue=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,de=/^h\d$/i,pe=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,me=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){O()},ke=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{J.apply($=Q.call(F.childNodes),F.childNodes),$[F.childNodes.length].nodeType}catch(e){J={apply:$.length?function(e,t){Y.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,A=j.documentElement,I=!T(j),F!==j&&(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=pe.test(j.getElementsByClassName),w.getById=i(function(e){return A.appendChild(e).id=U,!j.getElementsByName||!j.getElementsByName(U).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(me,ye);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(me,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},M=[],R=[],(w.qsa=pe.test(j.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+U+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||R.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),A.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=pe.test(D=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){w.disconnectedMatch=D.call(e,"*"),D.call(e,"[s!='']:x"),M.push("!=",re)}),R=R.length&&new RegExp(R.join("|")),M=M.length&&new RegExp(M.join("|")),t=pe.test(A.compareDocumentPosition),P=t||pe.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===F&&P(F,e)?-1:t===j||t.ownerDocument===F&&P(F,t)?1:N?K(N,e)-K(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===j?-1:t===j?1:i?-1:o?1:N?K(N,e)-K(N,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===F?-1:l[r]===F?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&O(e),n=n.replace(le,"='$1']"),w.matchesSelector&&I&&!z[n+" "]&&(!M||!M.test(n))&&(!R||!R.test(n)))try{var r=D.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&O(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&O(e);var n=x.attrHandle[t.toLowerCase()],r=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(L=!w.detectDuplicates,N=!w.sortStable&&e.slice(0),e.sort(V),L){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},k=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(me,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(me,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(me,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,h,d,p,v=o!==a?"nextSibling":"previousSibling",g=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(o){for(;v;){for(h=t;h=h[v];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=v="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=g,f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[e]||[],d=u[0]===H&&u[1],b=d&&u[2],h=d&&g.childNodes[d];h=++d&&h&&h[v]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){c[e]=[H,d,b];break}}else if(y&&(h=t,f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),u=c[e]||[],d=u[0]===H&&u[1],b=d),!1===b)for(;(h=++d&&h&&h[v]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(y&&(f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),c[e]=[H,b]),h!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var i,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[U]?o(n):o.length>1?(i=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=K(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(oe,"$1"));return i[U]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(me,ye),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(me,ye).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return de.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})x.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,S=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=W[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in x.filter)!(i=fe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,l).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],o=z[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=m(t[n]),o[U]?r.push(o):i.push(o);o=z(e,y(i,r)),o.selector=e}return o},_=t.select=function(e,t,n,r){var i,o,a,s,l,c="function"==typeof e&&e,h=!r&&S(e=c.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&I&&x.relative[o[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(me,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!x.relative[s=a.type]);)if((l=x.find[s])&&(r=l(a.matches[0].replace(me,ye),ge.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&f(o)))return J.apply(n,r),n;break}}return(c||C(e,h))(r,t,!I,n,!t||ge.test(e)&&u(t.parentNode)||t),n},w.sortStable=U.split("").sort(V).join("")===U,w.detectDuplicates=!!L,O(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(j.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(o);be.find=Se,be.expr=Se.selectors,be.expr[":"]=be.expr.pseudos,be.uniqueSort=be.unique=Se.uniqueSort,be.text=Se.getText,be.isXMLDoc=Se.isXML,be.contains=Se.contains,be.escapeSelector=Se.escape;var Ce=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&be(e).is(n))break;r.push(e)}return r},_e=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ee=be.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Le=/^.[^:#\[\.,]*$/;be.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?be.find.matchesSelector(r,e)?[r]:[]:be.find.matches(e,be.grep(t,function(e){return 1===e.nodeType}))},be.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(be(e).filter(function(){for(t=0;t<r;t++)if(be.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)be.find(e,i[t],n);return r>1?be.uniqueSort(n):n},filter:function(e){return this.pushStack(c(this,e||[],!1))},not:function(e){return this.pushStack(c(this,e||[],!0))},is:function(e){return!!c(this,"string"==typeof e&&Ee.test(e)?be(e):e||[],!1).length}});var Oe,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(be.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Oe,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof be?t[0]:t,be.merge(this,be.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:se,!0)),Ne.test(r[1])&&be.isPlainObject(t))for(r in t)be.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=se.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):be.isFunction(e)?void 0!==n.ready?n.ready(e):e(be):be.makeArray(e,this)}).prototype=be.fn,Oe=be(se);var Ae=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};be.fn.extend({has:function(e){var t=be(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(be.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&be(e);if(!Ee.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&be.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?be.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?he.call(be(e),this[0]):he.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(be.uniqueSort(be.merge(this.get(),be(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),be.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return u(e,"iframe")?e.contentDocument:(u(e,"template")&&(e=e.content||e),be.merge([],e.childNodes))}},function(e,t){be.fn[e]=function(n,r){var i=be.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=be.filter(r,i)),this.length>1&&(Ie[e]||be.uniqueSort(i),Ae.test(e)&&i.reverse()),this.pushStack(i)}});var Re=/[^\x20\t\r\n\f]+/g;be.Callbacks=function(e){e="string"==typeof e?h(e):be.extend({},e);var t,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){be.each(n,function(n,r){be.isFunction(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==be.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return be.each(arguments,function(e,t){for(var n;(n=be.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?be.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},be.extend({Deferred:function(e){var t=[["notify","progress",be.Callbacks("memory"),be.Callbacks("memory"),2],["resolve","done",be.Callbacks("once memory"),be.Callbacks("once memory"),0,"resolved"],["reject","fail",be.Callbacks("once memory"),be.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return be.Deferred(function(n){be.each(t,function(t,r){var i=be.isFunction(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=i&&i.apply(this,arguments);e&&be.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){function a(e,t,n,r){return function(){var l=this,u=arguments,c=function(){var o,c;if(!(e<s)){if((o=n.apply(l,u))===t.promise())throw new TypeError("Thenable self-resolution");c=o&&("object"===(void 0===o?"undefined":i(o))||"function"==typeof o)&&o.then,be.isFunction(c)?r?c.call(o,a(s,t,d,r),a(s,t,p,r)):(s++,c.call(o,a(s,t,d,r),a(s,t,p,r),a(s,t,d,t.notifyWith))):(n!==d&&(l=void 0,u=[o]),(r||t.resolveWith)(l,u))}},f=r?c:function(){try{c()}catch(r){be.Deferred.exceptionHook&&be.Deferred.exceptionHook(r,f.stackTrace),e+1>=s&&(n!==p&&(l=void 0,u=[r]),t.rejectWith(l,u))}};e?f():(be.Deferred.getStackHook&&(f.stackTrace=be.Deferred.getStackHook()),o.setTimeout(f))}}var s=0;return be.Deferred(function(i){t[0][3].add(a(0,i,be.isFunction(r)?r:d,i.notifyWith)),t[1][3].add(a(0,i,be.isFunction(e)?e:d)),t[2][3].add(a(0,i,be.isFunction(n)?n:p))}).promise()},promise:function(e){return null!=e?be.extend(e,r):r}},a={};return be.each(t,function(e,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add(function(){n=s},t[3-e][2].disable,t[0][2].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ue.call(arguments),o=be.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ue.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(v(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||be.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)v(i[n],a(n),o.reject);return o.promise()}});var Me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;be.Deferred.exceptionHook=function(e,t){o.console&&o.console.warn&&e&&Me.test(e.name)&&o.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},be.readyException=function(e){o.setTimeout(function(){throw e})};var De=be.Deferred();be.fn.ready=function(e){return De.then(e).catch(function(e){be.readyException(e)}),this},be.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--be.readyWait:be.isReady)||(be.isReady=!0,!0!==e&&--be.readyWait>0||De.resolveWith(se,[be]))}}),be.ready.then=De.then,"complete"===se.readyState||"loading"!==se.readyState&&!se.documentElement.doScroll?o.setTimeout(be.ready):(se.addEventListener("DOMContentLoaded",g),o.addEventListener("load",g));var Pe=function e(t,n,r,i,o,a,s){var l=0,u=t.length,c=null==r;if("object"===be.type(r)){o=!0;for(l in r)e(t,n,l,r[l],!0,a,s)}else if(void 0!==i&&(o=!0,be.isFunction(i)||(s=!0),c&&(s?(n.call(t,i),n=null):(c=n,n=function(e,t,n){return c.call(be(e),n)})),n))for(;l<u;l++)n(t[l],r,s?i:i.call(t[l],l,n(t[l],r)));return o?t:c?n.call(t):u?n(t[0],r):a},Ue=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};m.uid=1,m.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ue(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[be.camelCase(t)]=n;else for(r in t)i[be.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][be.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(be.camelCase):(t=be.camelCase(t),t=t in r?[t]:t.match(Re)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||be.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!be.isEmptyObject(t)}};var Fe=new m,He=new m,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,qe=/[A-Z]/g;be.extend({hasData:function(e){return He.hasData(e)||Fe.hasData(e)},data:function(e,t,n){return He.access(e,t,n)},removeData:function(e,t){He.remove(e,t)},_data:function(e,t,n){return Fe.access(e,t,n)},_removeData:function(e,t){Fe.remove(e,t)}}),be.fn.extend({data:function(e,t){var n,r,o,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(o=He.get(a),1===a.nodeType&&!Fe.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=be.camelCase(r.slice(5)),b(a,r,o[r])));Fe.set(a,"hasDataAttrs",!0)}return o}return"object"===(void 0===e?"undefined":i(e))?this.each(function(){He.set(this,e)}):Pe(this,function(t){var n;if(a&&void 0===t){if(void 0!==(n=He.get(a,e)))return n;if(void 0!==(n=b(a,e)))return n}else this.each(function(){He.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){He.remove(this,e)})}}),be.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Fe.get(e,t),n&&(!r||Array.isArray(n)?r=Fe.access(e,t,be.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=be.queue(e,t),r=n.length,i=n.shift(),o=be._queueHooks(e,t),a=function(){be.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Fe.get(e,n)||Fe.access(e,n,{empty:be.Callbacks("once memory").add(function(){Fe.remove(e,[t+"queue",n])})})}}),be.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?be.queue(this[0],e):void 0===t?this:this.each(function(){var n=be.queue(this,e,t);be._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&be.dequeue(this,e)})},dequeue:function(e){return this.each(function(){be.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=be.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Fe.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var We=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+We+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Xe=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&be.contains(e.ownerDocument,e)&&"none"===be.css(e,"display")},$e=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ge={};be.fn.extend({show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Xe(this)?be(this).show():be(this).hide()})}});var Ye=/^(?:checkbox|radio)$/i,Je=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qe=/^$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Ze=/<|&#?\w+;/;!function(){var e=se.createDocumentFragment(),t=e.appendChild(se.createElement("div")),n=se.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ye.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ye.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=se.documentElement,tt=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;be.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,h,d,p,v,g=Fe.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&be.find.matchesSelector(et,i),n.guid||(n.guid=be.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==be&&be.event.triggered!==t.type?be.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Re)||[""],u=t.length;u--;)s=rt.exec(t[u])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d&&(f=be.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=be.event.special[d]||{},c=be.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&be.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),be.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,h,d,p,v,g=Fe.hasData(e)&&Fe.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Re)||[""],u=t.length;u--;)if(s=rt.exec(t[u])||[],d=v=s[1],p=(s[2]||"").split(".").sort(),d){for(f=be.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,h=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&v!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(e,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(e,p,g.handle)||be.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)be.event.remove(e,d+t[u],n,r,!0);be.isEmptyObject(l)&&Fe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=be.event.fix(e),l=new Array(arguments.length),u=(Fe.get(this,"events")||{})[s.type]||[],c=be.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=be.event.handlers.call(this,s,u),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((be.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?be(i,this).index(u)>-1:be.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(be.Event.prototype,e,{enumerable:!0,configurable:!0,get:be.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[be.expando]?e:new be.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==N()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===N()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&u(this,"input"))return this.click(),!1},_default:function(e){return u(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},be.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},be.Event=function(e,t){if(!(this instanceof be.Event))return new be.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_:E,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&be.extend(this,t),this.timeStamp=e&&e.timeStamp||be.now(),this[be.expando]=!0},be.Event.prototype={constructor:be.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},be.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&tt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&nt.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},be.event.addProp),be.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){be.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||be.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),be.fn.extend({on:function(e,t,n,r){return L(this,e,t,n,r)},one:function(e,t,n,r){return L(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,be(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===(void 0===e?"undefined":i(e))){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=E),this.each(function(){be.event.remove(this,e,n,t)})}});var it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ot=/<script|<style|<link/i,at=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;be.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=be.contains(e.ownerDocument,e);if(!(ye.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||be.isXMLDoc(e)))for(a=T(s),o=T(e),r=0,i=o.length;r<i;r++)R(o[r],a[r]);if(t)if(n)for(o=o||T(e),a=a||T(s),r=0,i=o.length;r<i;r++)I(o[r],a[r]);else I(e,s);return a=T(s,"script"),a.length>0&&S(a,!l&&T(e,"script")),s},cleanData:function(e){for(var t,n,r,i=be.event.special,o=0;void 0!==(n=e[o]);o++)if(Ue(n)){if(t=n[Fe.expando]){if(t.events)for(r in t.events)i[r]?be.event.remove(n,r):be.removeEvent(n,r,t.handle);n[Fe.expando]=void 0}n[He.expando]&&(n[He.expando]=void 0)}}}),be.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Pe(this,function(e){return void 0===e?be.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){O(this,e).appendChild(e)}})},prepend:function(){return M(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=O(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return M(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(be.cleanData(T(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return be.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ot.test(e)&&!Ke[(Je.exec(e)||["",""])[1].toLowerCase()]){e=be.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(be.cleanData(T(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return M(this,arguments,function(t){var n=this.parentNode;be.inArray(this,e)<0&&(be.cleanData(T(this)),n&&n.replaceChild(t,this))},e)}}),be.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){be.fn[e]=function(e){for(var n,r=[],i=be(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),be(i[a])[t](n),fe.apply(r,n.get());return this.pushStack(r)}});var ut=/^margin/,ct=new RegExp("^("+We+")(?!px)[a-z%]+$","i"),ft=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=o),t.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",et.appendChild(a);var e=o.getComputedStyle(s);t="1%"!==e.top,i="2px"===e.marginLeft,n="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,et.removeChild(a),s=null}}var t,n,r,i,a=se.createElement("div"),s=se.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ye.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),be.extend(ye,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),i}}))}();var ht=/^(none|table(?!-c[ea]).+)/,dt=/^--/,pt={position:"absolute",visibility:"hidden",display:"block"},vt={letterSpacing:"0",fontWeight:"400"},gt=["Webkit","Moz","ms"],mt=se.createElement("div").style;be.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=be.camelCase(t),u=dt.test(t),c=e.style;if(u||(t=H(l)),s=be.cssHooks[t]||be.cssHooks[l],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:c[t];a=void 0===n?"undefined":i(n),"string"===a&&(o=ze.exec(n))&&o[1]&&(n=w(e,t,o),a="number"),null!=n&&n===n&&("number"===a&&(n+=o&&o[3]||(be.cssNumber[l]?"":"px")),ye.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=be.camelCase(t);return dt.test(t)||(t=H(s)),a=be.cssHooks[t]||be.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in vt&&(i=vt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),be.each(["height","width"],function(e,t){be.cssHooks[t]={get:function(e,n,r){if(n)return!ht.test(be.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?W(e,t,r):$e(e,pt,function(){return W(e,t,r)})},set:function(e,n,r){var i,o=r&&ft(e),a=r&&q(e,t,r,"border-box"===be.css(e,"boxSizing",!1,o),o);return a&&(i=ze.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=be.css(e,t)),B(e,n,a)}}}),be.cssHooks.marginLeft=U(ye.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-$e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),be.each({margin:"",padding:"",border:"Width"},function(e,t){be.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ve[r]+t]=o[r]||o[r-2]||o[0];return i}},ut.test(e)||(be.cssHooks[e+t].set=B)}),be.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ft(e),i=t.length;a<i;a++)o[t[a]]=be.css(e,t[a],!1,r);return o}return void 0!==n?be.style(e,t,n):be.css(e,t)},e,t,arguments.length>1)}}),be.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||be.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(be.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=be.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=be.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){be.fx.step[e.prop]?be.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[be.cssProps[e.prop]]&&!be.cssHooks[e.prop]?e.elem[e.prop]=e.now:be.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},be.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},be.fx=z.prototype.init,be.fx.step={};var yt,bt,wt=/^(?:toggle|show|hide)$/,xt=/queueHooks$/;be.Animation=be.extend(Q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return w(n.elem,e,ze.exec(t),n),n}]},tweener:function(e,t){be.isFunction(e)?(t=e,e=["*"]):e=e.match(Re);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?Q.prefilters.unshift(e):Q.prefilters.push(e)}}),be.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":i(e))?be.extend({},e):{complete:n||!n&&t||be.isFunction(e)&&e,duration:e,easing:n&&t||t&&!be.isFunction(t)&&t};return be.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in be.fx.speeds?r.duration=be.fx.speeds[r.duration]:r.duration=be.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){be.isFunction(r.old)&&r.old.call(this),r.queue&&be.dequeue(this,r.queue)},r},be.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Xe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=be.isEmptyObject(e),o=be.speed(t,n,r),a=function(){var t=Q(this,be.extend({},e),o);(i||Fe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=be.timers,a=Fe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&xt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||be.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Fe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=be.timers,a=r?r.length:0;for(n.finish=!0,be.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),be.each(["toggle","show","hide"],function(e,t){var n=be.fn[t];be.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,r,i)}}),be.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){be.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),be.timers=[],be.fx.tick=function(){var e,t=0,n=be.timers;for(yt=be.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||be.fx.stop(),yt=void 0},be.fx.timer=function(e){be.timers.push(e),be.fx.start()},be.fx.interval=13,be.fx.start=function(){bt||(bt=!0,V())},be.fx.stop=function(){bt=null},be.fx.speeds={slow:600,fast:200,_default:400},be.fn.delay=function(e,t){return e=be.fx?be.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=o.setTimeout(t,e);n.stop=function(){o.clearTimeout(r)}})},function(){var e=se.createElement("input"),t=se.createElement("select"),n=t.appendChild(se.createElement("option"));e.type="checkbox",ye.checkOn=""!==e.value,ye.optSelected=n.selected,e=se.createElement("input"),e.value="t",e.type="radio",ye.radioValue="t"===e.value}();var kt,Tt=be.expr.attrHandle;be.fn.extend({attr:function(e,t){return Pe(this,be.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){be.removeAttr(this,e)})}}),be.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?be.prop(e,t,n):(1===o&&be.isXMLDoc(e)||(i=be.attrHooks[t.toLowerCase()]||(be.expr.match.bool.test(t)?kt:void 0)),void 0!==n?null===n?void be.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=be.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ye.radioValue&&"radio"===t&&u(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Re);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),kt={set:function(e,t,n){return!1===t?be.removeAttr(e,n):e.setAttribute(n,n),n}},be.each(be.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||be.find.attr;Tt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Tt[a],Tt[a]=i,i=null!=n(e,t,r)?a:null,Tt[a]=o),i}});var St=/^(?:input|select|textarea|button)$/i,Ct=/^(?:a|area)$/i;be.fn.extend({prop:function(e,t){return Pe(this,be.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[be.propFix[e]||e]})}}),be.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&be.isXMLDoc(e)||(t=be.propFix[t]||t,i=be.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=be.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ye.optSelected||(be.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),be.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){be.propFix[this.toLowerCase()]=this}),be.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(be.isFunction(e))return this.each(function(t){be(this).addClass(e.call(this,t,Z(this)))});if("string"==typeof e&&e)for(t=e.match(Re)||[];n=this[l++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(be.isFunction(e))return this.each(function(t){be(this).removeClass(e.call(this,t,Z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Re)||[];n=this[l++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=void 0===e?"undefined":i(e);return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):be.isFunction(e)?this.each(function(n){be(this).toggleClass(e.call(this,n,Z(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=be(this),o=e.match(Re)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=Z(this),t&&Fe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Fe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+K(Z(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;be.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=be.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,be(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=be.map(i,function(e){return null==e?"":e+""})),(t=be.valHooks[this.type]||be.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=be.valHooks[i.type]||be.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)}}}),be.extend({valHooks:{option:{get:function(e){var t=be.find.attr(e,"value");return null!=t?t:K(be.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!u(n.parentNode,"optgroup"))){if(t=be(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=be.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=be.inArray(be.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),be.each(["radio","checkbox"],function(){be.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=be.inArray(be(e).val(),t)>-1}},ye.checkOn||(be.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Et=/^(?:focusinfocus|focusoutblur)$/;be.extend(be.event,{trigger:function(e,t,n,r){var a,s,l,u,c,f,h,d=[n||se],p=ve.call(e,"type")?e.type:e,v=ve.call(e,"namespace")?e.namespace.split("."):[];if(s=l=n=n||se,3!==n.nodeType&&8!==n.nodeType&&!Et.test(p+be.event.triggered)&&(p.indexOf(".")>-1&&(v=p.split("."),p=v.shift(),v.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[be.expando]?e:new be.Event(p,"object"===(void 0===e?"undefined":i(e))&&e),e.isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:be.makeArray(t,[e]),h=be.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(n,t))){if(!r&&!h.noBubble&&!be.isWindow(n)){for(u=h.delegateType||p,Et.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(n.ownerDocument||se)&&d.push(l.defaultView||l.parentWindow||o)}for(a=0;(s=d[a++])&&!e.isPropagationStopped();)e.type=a>1?u:h.bindType||p,f=(Fe.get(s,"events")||{})[e.type]&&Fe.get(s,"handle"),f&&f.apply(s,t),(f=c&&s[c])&&f.apply&&Ue(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),t)||!Ue(n)||c&&be.isFunction(n[p])&&!be.isWindow(n)&&(l=n[c],l&&(n[c]=null),be.event.triggered=p,n[p](),be.event.triggered=void 0,l&&(n[c]=l)),e.result}},simulate:function(e,t,n){var r=be.extend(new be.Event,n,{type:e,isSimulated:!0});be.event.trigger(r,null,t)}}),be.fn.extend({trigger:function(e,t){return this.each(function(){be.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return be.event.trigger(e,t,n,!0)}}),be.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){be.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),be.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ye.focusin="onfocusin"in o,ye.focusin||be.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){be.event.simulate(t,e.target,be.event.fix(e))};be.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Fe.access(r,t);i||r.addEventListener(e,n,!0),Fe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Fe.access(r,t)-1;i?Fe.access(r,t,i):(r.removeEventListener(e,n,!0),Fe.remove(r,t))}}});var Nt=o.location,Lt=be.now(),Ot=/\?/;be.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new o.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||be.error("Invalid XML: "+e),t};var jt=/\[\]$/,At=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;be.param=function(e,t){var n,r=[],i=function(e,t){var n=be.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!be.isPlainObject(e))be.each(e,function(){i(this.name,this.value)});else for(n in e)ee(n,e[n],t,i);return r.join("&")},be.fn.extend({serialize:function(){return be.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=be.prop(this,"elements");return e?be.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!be(this).is(":disabled")&&Rt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ye.test(e))}).map(function(e,t){var n=be(this).val();return null==n?null:Array.isArray(n)?be.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Mt=/%20/g,Dt=/#.*$/,Pt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Bt=/^\/\//,qt={},Wt={},zt="*/".concat("*"),Vt=se.createElement("a");Vt.href=Nt.href,be.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:Ft.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":be.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?re(re(e,be.ajaxSettings),t):re(be.ajaxSettings,e)},ajaxPrefilter:te(qt),ajaxTransport:te(Wt),ajax:function(e,t){function n(e,t,n,i){var l,c,d,p,x,k=t;f||(f=!0,u&&o.clearTimeout(u),r=void 0,s=i||"",S.readyState=e>0?4:0,l=e>=200&&e<300||304===e,n&&(p=ie(v,S,n)),p=oe(v,p,S,l),l?(v.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(be.lastModified[a]=x),(x=S.getResponseHeader("etag"))&&(be.etag[a]=x)),204===e||"HEAD"===v.type?k="nocontent":304===e?k="notmodified":(k=p.state,c=p.data,d=p.error,l=!d)):(d=k,!e&&k||(k="error",e<0&&(e=0))),S.status=e,S.statusText=(t||k)+"",l?y.resolveWith(g,[c,k,S]):y.rejectWith(g,[S,k,d]),S.statusCode(w),w=void 0,h&&m.trigger(l?"ajaxSuccess":"ajaxError",[S,v,l?c:d]),b.fireWith(g,[S,k]),h&&(m.trigger("ajaxComplete",[S,v]),--be.active||be.event.trigger("ajaxStop")))}"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),t=t||{};var r,a,s,l,u,c,f,h,d,p,v=be.ajaxSetup({},t),g=v.context||v,m=v.context&&(g.nodeType||g.jquery)?be(g):be.event,y=be.Deferred(),b=be.Callbacks("once memory"),w=v.statusCode||{},x={},k={},T="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(f){if(!l)for(l={};t=Ut.exec(s);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return f?s:null},setRequestHeader:function(e,t){return null==f&&(e=k[e.toLowerCase()]=k[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==f&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(f)S.always(e[S.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||T;return r&&r.abort(t),n(0,t),this}};if(y.promise(S),v.url=((e||v.url||Nt.href)+"").replace(Bt,Nt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(Re)||[""],null==v.crossDomain){c=se.createElement("a");try{c.href=v.url,c.href=c.href,v.crossDomain=Vt.protocol+"//"+Vt.host!=c.protocol+"//"+c.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=be.param(v.data,v.traditional)),ne(qt,v,t,S),f)return S;h=be.event&&v.global,h&&0==be.active++&&be.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Ht.test(v.type),a=v.url.replace(Dt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Mt,"+")):(p=v.url.slice(a.length),v.data&&(a+=(Ot.test(a)?"&":"?")+v.data,delete v.data),!1===v.cache&&(a=a.replace(Pt,"$1"),p=(Ot.test(a)?"&":"?")+"_="+Lt+++p),v.url=a+p),v.ifModified&&(be.lastModified[a]&&S.setRequestHeader("If-Modified-Since",be.lastModified[a]),be.etag[a]&&S.setRequestHeader("If-None-Match",be.etag[a])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&S.setRequestHeader("Content-Type",v.contentType),S.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+zt+"; q=0.01":""):v.accepts["*"]);for(d in v.headers)S.setRequestHeader(d,v.headers[d]);if(v.beforeSend&&(!1===v.beforeSend.call(g,S,v)||f))return S.abort();if(T="abort",b.add(v.complete),S.done(v.success),S.fail(v.error),r=ne(Wt,v,t,S)){if(S.readyState=1,h&&m.trigger("ajaxSend",[S,v]),f)return S;v.async&&v.timeout>0&&(u=o.setTimeout(function(){S.abort("timeout")},v.timeout));try{f=!1,r.send(x,n)}catch(e){if(f)throw e;n(-1,e)}}else n(-1,"No Transport");return S},getJSON:function(e,t,n){return be.get(e,t,n,"json")},getScript:function(e,t){return be.get(e,void 0,t,"script")}}),be.each(["get","post"],function(e,t){be[t]=function(e,n,r,i){return be.isFunction(n)&&(i=i||r,r=n,n=void 0),be.ajax(be.extend({url:e,type:t,dataType:i,data:n,success:r},be.isPlainObject(e)&&e))}}),be._evalUrl=function(e){return be.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},be.fn.extend({wrapAll:function(e){var t;return this[0]&&(be.isFunction(e)&&(e=e.call(this[0])),t=be(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return be.isFunction(e)?this.each(function(t){be(this).wrapInner(e.call(this,t))}):this.each(function(){var t=be(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=be.isFunction(e);return this.each(function(n){be(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){be(this).replaceWith(this.childNodes)}),this}}),be.expr.pseudos.hidden=function(e){return!be.expr.pseudos.visible(e)},be.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},be.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},$t=be.ajaxSettings.xhr();ye.cors=!!$t&&"withCredentials"in $t,ye.ajax=$t=!!$t,be.ajaxTransport(function(e){var t,n;if(ye.cors||$t&&!e.crossDomain)return{send:function(r,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Xt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&o.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),be.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),be.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return be.globalEval(e),e}}}),be.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),be.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=be("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),se.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;be.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||be.expando+"_"+Lt++;return this[e]=!0,e}}),be.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,a,s=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=be.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||be.error(r+" was not called"),a[0]},e.dataTypes[0]="json",i=o[r],o[r]=function(){a=arguments},n.always(function(){void 0===i?be(o).removeProp(r):o[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),a&&be.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),ye.createHTMLDocument=function(){var e=se.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),be.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ye.createHTMLDocument?(t=se.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=se.location.href,t.head.appendChild(r)):t=se),i=Ne.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&be(o).remove(),be.merge([],i.childNodes))},be.fn.load=function(e,t,n){var r,o,a,s=this,l=e.indexOf(" ");return l>-1&&(r=K(e.slice(l)),e=e.slice(0,l)),be.isFunction(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":i(t))&&(o="POST"),s.length>0&&be.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(r?be("<div>").append(be.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},be.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){be.fn[t]=function(e){return this.on(t,e)}}),be.expr.pseudos.animated=function(e){return be.grep(be.timers,function(t){return e===t.elem}).length},be.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=be.css(e,"position"),f=be(e),h={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=be.css(e,"top"),l=be.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),be.isFunction(t)&&(t=t.call(e,n,be.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):f.css(h)}},be.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){be.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),t=o.ownerDocument,n=t.documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===be.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),u(e[0],"html")||(r=e.offset()),r={top:r.top+be.css(e[0],"borderTopWidth",!0),left:r.left+be.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-be.css(n,"marginTop",!0),left:t.left-r.left-be.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===be.css(e,"position");)e=e.offsetParent;return e||et})}}),be.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;be.fn[e]=function(r){return Pe(this,function(e,r,i){var o;if(be.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),be.each(["top","left"],function(e,t){be.cssHooks[t]=U(ye.pixelPosition,function(e,n){if(n)return n=P(e,t),ct.test(n)?be(e).position()[t]+"px":n})}),be.each({Height:"height",Width:"width"},function(e,t){be.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){be.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Pe(this,function(t,n,i){var o;return be.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?be.css(t,n,s):be.style(t,n,i,s)},t,a?i:void 0,a)}})}),be.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),be.holdReady=function(e){e?be.readyWait++:be.ready(!0)},be.isArray=Array.isArray,be.parseJSON=JSON.parse,be.nodeName=u,n=[],void 0!==(r=function(){return be}.apply(t,n))&&(e.exports=r);var Jt=o.jQuery,Qt=o.$;return be.noConflict=function(e){return o.$===be&&(o.$=Qt),e&&o.jQuery===be&&(o.jQuery=Jt),be},a||(o.jQuery=o.$=be),be})}).call(t,n(17)(e))},function(e,t,n){"use strict";function r(e,t){function n(e){return i.sym("http://rdf2h.github.io/2015/rdf2h#"+e)}console.info("RDF2h created"),this.matcherGraph=e,this.tbox=t||e;var r=new Array,o=i.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),a=n("Matcher");e.statementsMatching(null,o,a).forEach(function(e){r.push(e.subject)});var s=n("before"),l=e.statementsMatching(null,s);l.forEach(function(e){r.push(e.subject),r.push(e.object)}),this.sortedMatchers=[];for(var u=this;r.length>0;)if(!r.some(function(e){return u.sortedMatchers.push(e),r=r.filter(function(t){return!t.equals(e)}),!0})){console.error("Circle Detected with:\n"+l.toString());break}console.debug("Constructed RDF2h with the following matchers: ",this.sortedMatchers.map(function(e){return e.toString()}))}var i=n(18),o=n(97),a=n(98),s=n(99);new Array;!function(){var e=(s.rdf2h,a.Context.prototype.lookup);a.Context.prototype.lookup=function(t){if(this.view instanceof r.Renderee){var n=function(e){function t(e,n){var o=function(t){return"."===t?e:t.endsWith("<-")?e.in(r.resolveCurie(t.substring(0,t.length-2))):t.startsWith("^")?e.in(r.resolveCurie(t.substring(1))):e.out(r.resolveCurie(t))}(n[0]);if(1===n.length){var a=o.nodes;if(0===a.length){if(e.nodes[0].language&&r.resolveCurie(n[0]).equals(i.sym("http://purl.org/dc/terms/language")))return[i.literal(e.nodes[0].language)];if(e.nodes[0].datatype&&r.resolveCurie(n[0]).equals(r.resolveCurie("rdf:type")))return[e.nodes[0].datatype]}return a}return t(o,n.slice(1))}var n=function(e){function t(){o.length>0&&(n.push(o),o="")}for(var n=[],r=!1,i=!1,o="",a=0;a<e.length;a++){var s=e[a];i&&("-"!==s&&(t(),r=!0),o+="<",i=!1),"<"!==s?r&&">"==s?(o+=s,t(),r=!1):r||"/"!=s?o+=s:t():i=!0}return t(),n}(e);return t(s,n)},a=this.view.rdf2h,s=this.view.graphNode,l=s.graph,u=this.view.context,c=this.view.currentMatcherIndex;if(t.startsWith("@prefix ")){var f=t.split(" "),h=f[1],d=f[2],p=h.substring(0,h.length-1),v=d.substring(1,d.length-1);return r.prefixMap[p]=v,""}if(t.startsWith(":render ")){var f=t.split(" "),g=f[1],m=f[2];m&&(m=r.resolveCurie(m)),m||(m=u);var y=n(g);return y.length>1&&console.warn("Argument of render evaluates to more than one node!"),y.length>0?a.render(l,y[0],m):""}if(t.startsWith(":continue")){var f=t.split(" "),m=f[1];return m&&(m=r.resolveCurie(m)),m||(m=u),s.nodes.length>1&&console.warn(":continue invoked in context with more than one node, this shouldn't be possible!"),a.render(l,s.nodes[0],m,c+1)}if(t.startsWith("+"))return t=t.substring(1),n(t).length>0;var b=n(t);return 1===b.length?new r.Renderee(a,o(b[0],l),u):b.map(function(e){return new r.Renderee(a,o(e,l),u)})}return e.call(this,t)}}(),r.Renderee=function(e,t,n){if(!t.nodes)throw new Error("second argument must be a GraphNode");if(1!==t.nodes.length)throw new Error("Renderee must be a single node");this.rdf2h=e,this.graphNode=t,this.context=n},r.Renderee.prototype.toString=function(){return this.graphNode.value?this.graphNode.value:this.graphNode.toString()},r.prototype.getRenderer=function(e){var t=this,n=(s.rdf2h,this.tbox),r=function(e){return e.out(s.rdf("type")).nodes.sort(function(e,t){return e.equals(t)?0:e.equals(s.rdfs("Resource"))?1:t.equals(s.rdfs("Resource"))?-1:0===n.match(e,s.rdfs("subClassOf"),t).length?0===n.match(t,s.rdfs("subClassOf"),e).length?e.value.localeCompare(t.value):1:-1}).concat([s.rdfs("Resource")])}(e.graphNode).map(function(e){return o(e,t.matcherGraph)}),l=function(e,t){function n(e){return e.find(function(e){return t.equals(e.out(s.rdf2h("context")).node)})}return[!1].concat(e).reduce(function(e,t){return e||n(t.in(s.rdf2h("type")).split())})}(r,e.context);if(!l)throw Error("No template found with context: "+e.context+" for any of the types "+r.map(function(e){return"<"+e.value+">"}).join()+". The resource <"+e.graphNode.value+"> could thus not be rendered.");var u=l.out(s.rdf2h("mustache"));if(u.nodes.length>0)return function(e){return function(t){return a.render(e,t)}}(u.value);var c=l.out(s.rdf2h("javaScript"));return function(e){try{return new Function("n","$rdf",c.value)(e.graphNode,i)}catch(e){e.message=e.message+" in "+c.value;var t=e.stack.split("\n"),n=t.findIndex(function(e){return e.indexOf("RDF2h.render")>0});throw e.stack=t.splice(0,n-1).join("\n"),e}}},r.prototype.render=function(e,t,n,a){t.termType||(t=i.sym(t)),n||(n=s.rdf2h("Default"));var l=new r.Renderee(this,o(t,e),n);return this.startMatcherIndex=a||0,this.getRenderer(l)(l)},r.prefixMap={},r.prefixMap.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.prefixMap.rdfs="http://www.w3.org/2000/01/rdf-schema#",r.prefixMap.r2h="http://rdf2h.github.io/2015/rdf2h#",r.prefixMap.schema="http://schema.org/",r.prefixMap.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r.prefixMap.dct="http://purl.org/dc/terms/",r.resolveCurie=function(e){if(e.startsWith("<")&&e.endsWith(">"))return i.sym(e.substring(1,e.length-1));console.debug("resolving "+e);var t=e.split(":"),n=t[0],o=t[1];return r.prefixMap[n]?i.sym(r.prefixMap[n]+o):i.sym(e)},"undefined"!=typeof window&&(window.RDF2h=r),e.exports=r},function(e,t,n){"use strict";(function(n,r){var i,o;/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
!function(){function a(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(s,arguments)}}var s,l,u={};s=this,null!=s&&(l=s.async),u.noConflict=function(){return s.async=l,u};var c=Object.prototype.toString,f=Array.isArray||function(e){return"[object Array]"===c.call(e)},h=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},d=function(e,t){if(e.map)return e.map(t);var n=[];return h(e,function(e,r,i){n.push(t(e,r,i))}),n},p=function(e,t,n){return e.reduce?e.reduce(t,n):(h(e,function(e,r,i){n=t(n,e,r,i)}),n)},v=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(u.nextTick=n.nextTick,u.setImmediate=void 0!==r?function(e){r(e)}:u.nextTick):"function"==typeof r?(u.nextTick=function(e){r(e)},u.setImmediate=u.nextTick):(u.nextTick=function(e){setTimeout(e,0)},u.setImmediate=u.nextTick),u.each=function(e,t,n){function r(t){t?(n(t),n=function(){}):(i+=1)>=e.length&&n()}if(n=n||function(){},!e.length)return n();var i=0;h(e,function(e){t(e,a(r))})},u.forEach=u.each,u.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0;!function i(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})}()},u.forEachSeries=u.eachSeries,u.eachLimit=function(e,t,n,r){g(t).apply(null,[e,n,r])},u.forEachLimit=u.eachLimit;var g=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;a<e&&o<t.length;)o+=1,a+=1,n(t[o-1],function(e){e?(r(e),r=function(){}):(i+=1,a-=1,i>=t.length?r():s())})}()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[u.each].concat(t))}},y=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[g(e)].concat(n))}},b=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[u.eachSeries].concat(t))}},w=function(e,t,n,r){if(t=d(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};u.map=m(w),u.mapSeries=b(w),u.mapLimit=function(e,t,n,r){return x(t)(e,n,r)};var x=function(e){return y(e,w)};u.reduce=function(e,t,n,r){u.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},u.inject=u.reduce,u.foldl=u.reduce,u.reduceRight=function(e,t,n,r){var i=d(e,function(e){return e}).reverse();u.reduce(i,t,n,r)},u.foldr=u.reduceRight;var k=function(e,t,n,r){var i=[];t=d(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};u.filter=m(k),u.filterSeries=b(k),u.select=u.filter,u.selectSeries=u.filterSeries;var T=function(e,t,n,r){var i=[];t=d(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(d(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};u.reject=m(T),u.rejectSeries=b(T);var S=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};u.detect=m(S),u.detectSeries=b(S),u.some=function(e,t,n){u.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},u.any=u.some,u.every=function(e,t,n){u.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},u.all=u.every,u.sortBy=function(e,t,n){u.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};n(null,d(t.sort(r),function(e){return e.value}))})},u.auto=function(e,t){t=t||function(){};var n=v(e),r=n.length;if(!r)return t();var i={},o=[],a=function(e){o.unshift(e)},s=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)},l=function(){r--,h(o.slice(0),function(e){e()})};a(function(){if(!r){var e=t;t=function(){},e(null,i)}}),h(n,function(n){var r=f(e[n])?e[n]:[e[n]],o=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var o={};h(v(i),function(e){o[e]=i[e]}),o[n]=r,t(e,o),t=function(){}}else i[n]=r,u.setImmediate(l)},c=r.slice(0,Math.abs(r.length-1))||[],d=function(){return p(c,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(d())r[r.length-1](o,i);else{a(function e(){d()&&(s(e),r[r.length-1](o,i))})}})},u.retry=function(e,t,n){var r=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,o){for(;e;)r.push(function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},o)}}(t,!(e-=1)));u.series(r,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?i():i},u.waterfall=function(e,t){if(t=t||function(){},!f(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();!function e(n){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=n.next();o?i.push(e(o)):i.push(t),u.setImmediate(function(){n.apply(null,i)})}}}(u.iterator(e))()};var C=function(e,t,n){if(n=n||function(){},f(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(v(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};u.parallel=function(e,t){C({map:u.map,each:u.each},e,t)},u.parallelLimit=function(e,t,n){C({map:x(t),each:g(t)},e,n)},u.series=function(e,t){if(t=t||function(){},f(e))u.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};u.eachSeries(v(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},u.iterator=function(e){return function t(n){var r=function t(){return e.length&&e[n].apply(null,arguments),t.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r}(0)},u.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var _=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};u.concat=m(_),u.concatSeries=b(_),u.whilst=function(e,t,n){e()?t(function(r){if(r)return n(r);u.whilst(e,t,n)}):n()},u.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?u.doWhilst(e,t,n):n()})},u.until=function(e,t,n){e()?n():t(function(r){if(r)return n(r);u.until(e,t,n)})},u.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():u.doUntil(e,t,n)})},u.queue=function(e,t){function n(e,t,n,r){if(e.started||(e.started=!0),f(t)||(t=[t]),0==t.length)return u.setImmediate(function(){e.drain&&e.drain()});h(t,function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),u.setImmediate(e.process)})}void 0===t&&(t=1);var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){n(i,e,!0,t)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=function(){r-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()},o=a(n);e(t.data,o)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var e=1;e<=i.concurrency;e++)u.setImmediate(i.process)}}};return i},u.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function i(e,t,i,o){if(e.started||(e.started=!0),f(t)||(t=[t]),0==t.length)return u.setImmediate(function(){e.drain&&e.drain()});h(t,function(t){var a={data:t,priority:i,callback:"function"==typeof o?o:null};e.tasks.splice(r(e.tasks,a,n)+1,0,a),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),u.setImmediate(e.process)})}var o=u.queue(e,t);return o.push=function(e,t,n){i(o,e,t,n)},delete o.unshift,o},u.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){f(e)||(e=[e]),h(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()}),u.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var a="number"==typeof t?r.splice(0,t):r.splice(0,r.length),s=d(a,function(e){return e.data});i.empty&&i.empty(),n=!0,e(s,function(){n=!1;var e=arguments;h(a,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var E=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&h(n,function(t){console[e](t)}))}]))}};u.log=E("log"),u.dir=E("dir"),u.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=t.apply(null,i);a in n?u.nextTick(function(){o.apply(null,n[a])}):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},u.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},u.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return u.map(r,t,n)},u.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return u.mapSeries(r,t,n)},u.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();u.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},u.compose=function(){return u.seq.apply(null,Array.prototype.reverse.call(arguments))};var N=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){return n.apply(this,Array.prototype.slice.call(arguments,2))}return n};u.applyEach=m(N),u.applyEachSeries=b(N),u.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},void 0!==e&&e.exports?e.exports=u:(i=[],void 0!==(o=function(){return u}.apply(t,i))&&(e.exports=o))}()}).call(t,n(4),n(13).setImmediate)},function(e,t,n){"use strict";(function(e,t){!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[l]=r,s(l),l++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,f=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(5),n(4))},function(e,t){},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./N3Lexer":29,"./N3Lexer.js":29,"./N3Parser":30,"./N3Parser.js":30,"./N3Store":47,"./N3Store.js":47,"./N3StreamParser":48,"./N3StreamParser.js":48,"./N3StreamWriter":58,"./N3StreamWriter.js":58,"./N3Util":31,"./N3Util.js":31,"./N3Writer":35,"./N3Writer.js":35};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=77},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var l=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,l=n-r;a<l;a+=16383)o.push(s(e,a,a+16383>l?l:a+16383));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=l;for(var u=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)u[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){"use strict";t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+f>=1?h/l:h*Math.pow(2,1-f),t*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=p,a/=256,u-=8);e[n+d-p]|=128*v}},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(22).Buffer;e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},function(e,t,n){"use strict";(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(5))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(56),o=n(14);o.inherits=n(12),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";e.exports=n(8)},function(e,t,n){"use strict";e.exports=n(33).Transform},function(e,t,n){"use strict";e.exports=n(33).PassThrough},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.termType="DefaultGraph",e.value="",e}return o(t,e),s(t,[{key:"toCanonical",value:function(){return this.value}}]),t}(l);e.exports=u},function(e,t){e.exports=fetch},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.termType=t.termType,e}return o(t,e),s(t,[{key:"toString",value:function(){return"()"}}]),t}(l);u.termType="empty",e.exports=u},function(e,t,n){"use strict";var r=function(){return{parseJSON:function(e,t,n){var r,i,o,a={},s=n.sym(t);for(var l in e){0===l.indexOf("_:")?a[l]?r=a[l]:(r=n.bnode(l),a[l]=r):r=n.sym(l);var u=e[l];for(var c in u){var f=u[c];i=n.sym(c);for(var h in f){var d=f[h];if("uri"===d.type)o=n.sym(d.value),n.add(r,i,o,s);else if("BlankNode"===d.type)a[d.value]?o=a[d.value]:(o=n.bnode(d.value),a[d.value]=o),n.add(r,i,o,s);else{if("Literal"!==d.type)throw new Error("error: unexpected termtype: "+h.type);o=d.datatype?n.literal(d.value,void 0,n.sym(d.datatype)):d.lang?n.literal(d.value,d.lang):n.literal(d.value),n.add(r,i,o,s)}}}}}}}();e.exports=r},function(e,t,n){"use strict";function r(e){function t(e){for(var t=s()+"SELECT ",n=0;n<e.vars.length;n++)t+=e.vars[n]+" ";return t+="\n"}function n(e){var t="",n=e.statements;for(var r in n)i.debug("Found statement: "+n),t+=s()+n[r]+"\n";return t}function r(e){var t="";for(var n in e.constraints){var r=e.constraints[n];t+=s()+"FILTER ( "+r.describe(n)+" ) \n"}return t}function o(e){for(var t="",a=0;a<e.optional.length;a++)i.debug("Found optional query"),t+=s()+"OPTIONAL { \n",l++,t+=n(e.optional[a]),t+=r(e.optional[a]),t+=o(e.optional[a]),l--,t+=s()+"}\n";return t}function a(e){var t=s()+"WHERE \n{ \n";return l++,t+=n(e),t+=r(e),t+=o(e),l--,t+="}"}function s(){for(var e="",t=0;t<l;t++)e+="    ";return e}var l=0;return function(e){return t(e)+a(e.pat)}(e)}var i=n(7);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(e){if(L[e])return L[e];var t=n.variable(e);return L[e]=t,t}function a(e){return"string"==typeof e&&e.match(/[^ \n\t]/)}function s(e){return"string"==typeof e&&e.match(/^[\?\$]/)}function l(e){return"string"==typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function u(e){return"string"==typeof e&&e.match(/^<[^>]*>$/)}function c(e){return"string"==typeof e&&(e.match(/^_:/)||e.match(/^$/))}function f(e){return"string"==typeof e&&e.match(/:$/)}function h(e){return"string"==typeof e&&e.match(/^:|^[^_][^:]*:/)}function d(e){return e.split(":")[0]}function p(e){return e.split(":")[1]}function v(e){return u(e)?e.slice(1,e.length-1):e}function g(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),r=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!r){var o=new Array(1);return o[0]=e,o}var a,s,l=new Array(2);if(!t||r&&r<t)a='"',s=r;else{if(r&&!(t&&t<r))return i.error("SQARQL QUERY OOPS!"),l;a="'",s=t}l[0]=e.slice(0,s);var u=e.slice(s+1).indexOf(a);if(-1===u)return i.error("SPARQL parsing error: no matching parentheses in literal "+e),e;var c;return e.slice(u+s+2).match(/^\^\^/)?(c=e.slice(u+s+2).indexOf(" "),l[1]=n.literal(e.slice(s+1,s+1+u),"",n.sym(v(e.slice(s+4+u,s+2+u+c)))),l=l.concat(g(e.slice(u+s+3+c)))):e.slice(u+s+2).match(/^@/)?(c=e.slice(u+s+2).indexOf(" "),l[1]=n.literal(e.slice(s+1,s+1+u),e.slice(s+3+u,s+2+u+c),null),l=l.concat(g(e.slice(u+s+2+c)))):(l[1]=n.literal(e.slice(s+1,s+1+u),"",null),i.info("Literal found: "+l[1]),l=l.concat(g(e.slice(u+s+2)))),l}function m(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),i.info("New str into spaceDelimit: \n"+e);var t=[],n=e.split(" ");for(var r in n)a(n[r])&&(t=t.concat(n[r]));return t}function y(e){for(var t=e,n=0;n<t.length;n++)if("a"===t[n]&&(t[n]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[n]&&"of"===t[n+2]){t.splice(n,1),t.splice(n+1,1);var r=t[n-1];t[n-1]=t[n+1],t[n+1]=r}return t}function b(e){for(var t=[],o=0;o<e.length;o++)"string"==typeof e[o]?(e[o]=l(e[o]),s(e[o])?t[o]=r(e[o].slice(1)):c(e[o])?(i.info(e[o]+" was identified as a bnode."),t[o]=n.bnode()):u(e[o])?(i.info(e[o]+" was identified as a symbol."),t[o]=n.sym(v(e[o]))):h(e[o])?(i.info(e[o]+" was identified as a prefixed symbol"),A[d(e[o])]?t[o]=n.sym(e[o]=A[d(e[o])]+p(e[o])):(i.error("SPARQL error: "+e[o]+" with prefix "+d(e[o])+" does not have a correct prefix entry."),t[o]=e[o])):t[o]=e[o]):t[o]=e[o];return t}function w(e,t){for(var n=0;n<t.length;n++)if("string"==typeof t[n]&&t[n].toLowerCase()===e.toLowerCase())return n;return null}function x(e,t){for(var n=[],r=0;r<t.length;r++)"string"==typeof t[r]&&t[r].toLowerCase()===e.toLowerCase()&&n.push(r);return n}function k(e,t,n){i.info("Looking for a close bracket of type "+n+" in "+e);for(var r=0,o=0;o<e.length;o++)if(e[o]===t&&r++,e[o]===n&&r--,r<0)return o;return i.error("Statement had no close parenthesis in SPARQL query"),0}function T(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.sameTerm(t)},this}function S(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var n=e,r=new RegExp(n);return!!t.value&&r.test(t.value)}}function C(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"==typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(i.debug("Constraint added: "+e),t.constraints[e[4]]=new S(e[2].value)):"="===e[1]?(i.debug("Constraint added: "+e),t.constraints[e[0]]=new T(e[2])):">"===e[1]?(i.debug("Constraint added: "+e),t.constraints[e[0]]=new T(e[2])):"<"===e[1]?(i.debug("Constraint added: "+e),t.constraints[e[0]]=new T(e[2])):i.warn("I don't know how to handle the constraint: "+e)}function _(e,t){i.debug("Optional query: "+e+" not yet implemented.");var r=n.formula();E(e,r),t.optional.push(r)}function E(e,t){var n,r=b(e);i.debug("WHERE: "+r);for(var o;w("OPTIONAL",r);)o=w("OPTIONAL",r),i.debug("OPT: "+o+" "+r[o]+" in "+r),"{"!==r[o+1]&&i.warn("Bad optional opening bracket in word "+o),n=k(r.slice(o+2),"{","}"),-1===n?i.error("No matching bracket in word "+o):(_(r.slice(o+2,o+2+n),t),o=w("OPTIONAL",r),n=k(r.slice(o+2),"{","}"),r.splice(o,n+3));for(i.debug("WHERE after optionals: "+r);w("FILTER",r);){var a=w("FILTER",r);"("!==r[a+1]&&i.warn("Bad filter opening bracket in word "+a),n=k(r.slice(a+2),"(",")"),-1===n?i.error("No matching bracket in word "+a):(C(r.slice(a+2,a+2+n),t),a=w("FILTER",r),n=k(r.slice(a+2),"(",")"),r.splice(a,n+3))}i.debug("WHERE after filters and optionals: "+r),N(r,t)}function N(e,t){var n=new Array(1);n[0]=-1;for(var r=n.concat(x(".",e)),o=[],a=0;a<r.length-1;a++)o[a]=e.slice(r[a]+1,r[a+1]);for(a in o){i.info("s+p+o "+a+" = "+o[a]);var s=o[a][0];o[a].splice(0,1);var l=n.concat(x(";",o[a]));l.push(o[a].length);for(var u=[],c=0;c<l.length-1;c++)u[c]=o[a].slice(l[c]+1,l[c+1]);for(a in u){i.info("p+o "+a+" = "+o[a]);var f=u[a][0];u[a].splice(0,1);var h=n.concat(x(",",u[a]));h.push(u[a].length);var d=[];for(c=0;c<h.length-1;c++)d[c]=u[a].slice(h[c]+1,h[c+1]);for(a in d){var p=d[a][0];i.info("Subj="+s+" Pred="+f+" Obj="+p),t.add(s,f,p)}}}}var L=[];i.info("SPARQL input: \n"+e);var O=new o,j=function(e){var t=g(e),n=[];for(var r in t)n="string"==typeof t[r]?n.concat(m(t[r])):n.concat(t[r]);return n=y(n),i.info("SPARQL Tokens: "+n),n}(e),A=function(e){var t=x("PREFIX",e),n=[];for(var r in t){var o=e[t[r]+1],a=e[t[r]+2];if(f(o))if(u(a)){i.info("Prefix found: "+o+" -> "+a);var s=d(o),l=v(a);n[s]=l}else i.error("Invalid SPARQL symbol: "+a);else i.error("Invalid SPARQL prefix: "+o)}return n}(j);A.rdf||(A.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),A.rdfs||(A.rdfs="http://www.w3.org/2000/01/rdf-schema#");var I=w("SELECT",j),R=w("WHERE",j);if(I<0||R<0||I>R)return i.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(function(e,t){i.info("SPARQL vars: "+e);for(var n in e)if(s(e[n])){i.info("Added "+e[n]+" to query variables from SPARQL");var o=r(e[n].slice(1));t.vars.push(o),o.label=e[n].slice(1)}else i.warn("Incorrect SPARQL variable in SELECT: "+e[n])}(j.slice(I+1,R),O),E(j.slice(R+2,j.length-1),O.pat),t)return O;for(var M in O.pat.statements){var D=O.pat.statements[M];"NamedNode"===D.subject.termType&&n.fetcher&&n.fetcher.lookUpThing(D.subject,"sparql:"+D.subject),"NamedNode"===D.object.termType&&n.fetcher&&n.fetcher.lookUpThing(D.object,"sparql:"+D.object)}return O}var i=n(7),o=n(25).Query;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(19),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1).docpart,c=n(37),f=n(26).namedNode,h=n(15),d=n(36),p=n(1).join,v=n(3),g=function(){function e(t){if(r(this,e),this.store=t,t.updater)throw new Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new c(t)),t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=h("http://www.w3.org/2007/ont/link#"),this.ns.http=h("http://www.w3.org/2007/ont/http#"),this.ns.httph=h("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=h("http://www.w3.org/ns/ldp#"),this.ns.rdf=h("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=h("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=h("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=h("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}return a(e,[{key:"patchControlFor",value:function(e){return this.patchControl[e.uri]||(this.patchControl[e.uri]=[]),this.patchControl[e.uri]}},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),"file:///"===e.slice(0,8)){if(t.holds(t.sym(e),f("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),f("http://www.w3.org/2007/ont/link#MachineEditableDocument")))return"LOCALFILE";var n=t.statementsMatching(t.sym(e));return console.log("sparql.editable: Not MachineEditableDocument file "+e+"\n"),console.log(n.map(function(e){return e.toNT()}).join("\n")),!1}var r,i=!1,o=t.each(void 0,this.ns.link("requestedURI"),u(e));if(t.holds(f(e),this.ns.rdf("type"),this.ns.ldp("Resource")))return"SPARQL";for(var a,s,l=0;l<o.length;l++)if(void 0!==(r=o[l])){var c=t.any(r,this.ns.link("response"));if(void 0!==r){var h=t.each(c,this.ns.httph("accept-patch"));if(h.length)for(a=0;a<h.length;a++)if(s=h[a].value.trim(),s.indexOf("application/sparql-update")>=0)return"SPARQL";var d=t.each(c,this.ns.httph("ms-author-via"));if(d.length)for(a=0;a<d.length;a++){if(s=d[a].value.trim(),s.indexOf("SPARQL")>=0)return"SPARQL";if(s.indexOf("DAV")>=0)return"DAV"}var p=t.each(c,this.ns.http("status"));if(p.length)for(a=0;a<p.length;a++)200!==p[a]&&404!==p[a]||(i=!0)}else console.log("sparql.editable: No response for "+e+"\n")}if(0===o.length)console.log("sparql.editable: No request for "+e+"\n");else if(i)return!1;console.log("sparql.editable: inconclusive for "+e+"\n")}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter(function(e){return e.isBlank})}},{key:"statementArrayBnodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(this.statementBnodes(e[n]));t.sort();for(var r=[],i=0;i<t.length;i++)0!==i&&t[i].sameTerm(t[i-1])||r.push(t[i]);return r}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].uri]=!0;for(this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty")),t=0;t<e.length;t++)this.fps[e[t].uri]=!0}},{key:"bnodeContext2",value:function(e,t,n){for(var r,i,o=this.store.statementsMatching(void 0,void 0,e,t),a=0;a<o.length;a++)if(this.fps[o[a].predicate.uri]){if(r=o[a].subject,!r.isBlank)return[o[a]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([o[a]])}for(o=this.store.statementsMatching(e,void 0,void 0,t),a=0;a<o.length;a++)if(this.ifps[o[a].predicate.uri]){if(r=o[a].object,!r.isBlank)return[o[a]];if(n&&(i=this.bnodeContext2(r,t,n-1)))return i.concat([o[a]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var n=0;n<3;n++){var r=this.bnodeContext2(e,t,n);if(null!==r)return r}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e).length||0!==this.store.statementsMatching(void 0,e).length||0!==this.store.statementsMatching(void 0,void 0,e).length}},{key:"bnodeContext",value:function(e,t){var n=[];if(e.length){this.cacheIfps();for(var r=0;r<e.length;r++){var i=e[r];this.mentioned(i)&&(n=n.concat(this.bnodeContext1(i,t)))}}return n}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.why)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map(function(e){return t.anonymizeNT(e)}).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,n){var r=this;return Promise.resolve().then(function(){if(!e)throw new Error("No URI given for remote editing operation: "+t);console.log("sparql: sending update to <"+e+">");var n={noMeta:!0,contentType:"application/sparql-update",body:t};return r.store.fetcher.webOperation("PATCH",e,n)}).then(function(r){if(!r.ok){var i="sparql: update failed for <"+e+"> status="+r.status+", "+r.statusText+"\n   for query: "+t;throw console.log(i),new Error(i)}console.log("sparql: update Ok for <"+e+">"),n(e,r.ok,r.responseText,r)}).catch(function(t){n(e,!1,t.message,t)})}},{key:"update_statement",value:function(e){if(!e||e.why){var t=this,n=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.why]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(n),set_object:function(e,n){var r=this.where;r+="DELETE DATA { "+this.statementNT+" } ;\n",r+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].uri,r,n)}}}}},{key:"insert_statement",value:function(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){for(var i="",o=0;o<e.length;o++)i+=e[o]+"\n";r+="INSERT DATA { "+i+" }\n"}else r+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.why.uri,r,t)}},{key:"delete_statement",value:function(e,t){var n=e instanceof Array?e[0]:e,r=this.contextWhere(this.statementContext(n));if(e instanceof Array){for(var i="",o=0;o<e.length;o++)i+=e[o]+"\n";r+="DELETE DATA { "+i+" }\n"}else r+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(n.why.uri,r,t)}},{key:"requestDownstreamAction",value:function(e,t){var n=this.patchControlFor(e);if(n.pendingUpstream)if(n.downstreamAction){if(""+n.downstreamAction!=""+t)throw new Error("Can't wait for > 1 different downstream actions")}else n.downstreamAction=t;else t(e)}},{key:"clearUpstreamCount",value:function(e){this.patchControlFor(e).upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var n=this,r=this.patchControlFor(e);r.downstreamChangeListeners||(r.downstreamChangeListeners=[]),r.downstreamChangeListeners.push(t),this.setRefreshHandler(e,function(e){n.reloadAndSync(e)})}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),n=this;if(t.reloading)return void console.log("   Already reloading - stop");t.reloading=!0;var r=1e3;!function i(){console.log("try reload - timeout = "+r),n.reload(n.store,e,function(n,o,a){if(t.reloading=!1,n){if(t.downstreamChangeListeners)for(var s=0;s<t.downstreamChangeListeners.length;s++)console.log("        Calling downstream listener "+s),t.downstreamChangeListeners[s]()}else 0===a.status?(console.log("Network error refreshing the data. Retrying in "+r/1e3),t.reloading=!0,r*=2,setTimeout(i,r)):console.log("Error "+a.status+"refreshing the data:"+o+". Stopped"+e)})}()}},{key:"setRefreshHandler",value:function(e,t){var n=this.getUpdatesVia(e),r=t,i=this,o=this,a=1500,s=0;if(!n)return console.log("Server doies not support live updates thoughUpdates-Via :-("),!1;n=p(n,e.uri),n=n.replace(/^http:/,"ws:").replace(/^https:/,"wss:"),console.log("Web socket URI "+n);return function t(){var l;if("undefined"!=typeof WebSocket)l=new WebSocket(n);else if("undefined"!=typeof Services)l=Services.wm.getMostRecentWindow("navigator:browser").WebSocket(n);else{if("undefined"==typeof window||!window.WebSocket)return void console.log("Live update disabled, as WebSocket not supported by platform :-(");l=window.WebSocket(n)}l.onopen=function(){console.log("    websocket open"),a=1500,this.send("sub "+e.uri),s&&(console.log("Web socket has been down, better check for any news."),o.requestDownstreamAction(e,r))};var u=i.patchControlFor(e);u.upstreamCount=0,l.onerror=function(e){console.log("Error on Websocket:",e)},l.onclose=function(e){console.log("*** Websocket closed with code "+e.code+", reason '"+e.reason+"' clean = "+e.clean),a*=2,s+=1,console.log("Retrying in "+a+"ms"),setTimeout(function(){console.log("Trying websocket again"),t()},a)},l.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in u&&(u.upstreamCount-=1,u.upstreamCount>=0))return void console.log("just an echo: "+u.upstreamCount);console.log("Assume a real downstream change: "+u.upstreamCount+" -> 0"),u.upstreamCount=0,i.requestDownstreamAction(e,r)}}}(),!0}},{key:"update",value:function(e,t,n){try{var r=this.store,i=e?e instanceof l.default?e.statements:e instanceof Array?e:[e]:[],a=t?t instanceof l.default?t.statements:t instanceof Array?t:[t]:[];if(!(i instanceof Array))throw new Error("Type Error "+(void 0===i?"undefined":o(i))+": "+i);if(!(a instanceof Array))throw new Error("Type Error "+(void 0===a?"undefined":o(a))+": "+a);if(0===i.length&&0===a.length)return n(null,!0);var s=i.length?i[0].why:a[0].why;if(!s){var u="Error patching: statement does not specify which document to patch:"+i[0]+", "+a[0];throw console.log(u),new Error(u)}var c=this.patchControlFor(s),f=Date.now(),h=["subject","predicate","object","why"],d={delete:i,insert:a};["insert","delete"].map(function(e){d[e].map(function(e){if(!s.sameTerm(e.why))throw new Error("update: destination "+s+" inconsistent with delete quad "+e.why);h.map(function(t){if(void 0===e[t])throw new Error("update: undefined "+t+" of statement.")})})});var p=this.editable(s.uri,r);if(!p)throw new Error("Can't make changes in uneditable "+s);var v;if(p.indexOf("SPARQL")>=0){var g=[];i.length&&(g=this.statementArrayBnodes(i)),a.length&&(g=g.concat(this.statementArrayBnodes(a)));var m=this.bnodeContext(g,s),y=this.contextWhere(m),b="";if(y.length){if(i.length){for(b+="DELETE { ",v=0;v<i.length;v++)b+=this.anonymizeNT(i[v])+"\n";b+=" }\n"}if(a.length){for(b+="INSERT { ",v=0;v<a.length;v++)b+=this.anonymizeNT(a[v])+"\n";b+=" }\n"}b+=y}else{if(i.length){for(b+="DELETE DATA { ",v=0;v<i.length;v++)b+=this.anonymizeNT(i[v])+"\n";b+=" } \n"}if(a.length){for(i.length&&(b+=" ; "),b+="INSERT DATA { ",v=0;v<a.length;v++)b+=this.anonymizeNT(a[v])+"\n";b+=" }\n"}}c.pendingUpstream=c.pendingUpstream?c.pendingUpstream+1:1,"upstreamCount"in c&&(c.upstreamCount+=1,console.log("upstream count up to : "+c.upstreamCount)),this.fire(s.uri,b,function(e,t,o,l){if(l.elapsedTimeMs=Date.now()-f,console.log("success"),t){try{r.remove(i)}catch(e){t=!1,o="Remote Ok BUT error deleting "+i.length+" from store!!! "+e}for(var u=0;u<a.length;u++)r.add(a[u].subject,a[u].predicate,a[u].object,s)}if(n(e,t,o,l),c.pendingUpstream-=1,0===c.pendingUpstream&&c.downstreamAction){var h=c.downstreamAction;delete c.downstreamAction,console.log("delayed downstream action:"),h(s)}})}else if(p.indexOf("DAV")>=0)this.updateDav(s,i,a,n);else{if(!(p.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+p+"' for "+s);try{this.updateLocalFile(s,i,a,n)}catch(e){n(s.uri,!1,"Exception trying to write back file <"+s.uri+">\n")}}}catch(e){n(void 0,!1,"Exception in update: "+e+"\n"+$rdf.Util.stackString(e))}}},{key:"updateDav",value:function(e,t,n,r){var i=this.store,o=i.any(e,this.ns.link("request"));if(!o)throw new Error("No record of our HTTP GET request for document: "+e);var a=i.any(o,this.ns.link("response"));if(!a)return null;var s=i.the(a,this.ns.httph("content-type")).value,l=void 0,u=i.statementsMatching(void 0,void 0,void 0,e).slice();for(l=0;l<t.length;l++)v.RDFArrayRemove(u,t[l]);for(l=0;l<n.length;l++)u.push(n[l]);var c,f=this.serialize(e.uri,u,s),h=i.the(a,this.ns.httph("content-location"));h&&(c=p(h.value,c));var d={contentType:s,noMeta:!0,body:f};return i.fetcher.webOperation("PUT",c,d).then(function(o){if(!o.ok)throw new Error(o.error);for(var a=0;a<t.length;a++)i.remove(t[a]);for(a=0;a<n.length;a++)i.add(n[a].subject,n[a].predicate,n[a].object,e);r(e.uri,o.ok,o.responseText,o)}).catch(function(t){r(e.uri,!1,t.message,t)})}},{key:"updateLocalFile",value:function(e,t,n,r){var i=this.store;console.log("Writing back to local file\n");var o=i.statementsMatching(void 0,void 0,void 0,e).slice(),a=void 0;for(a=0;a<t.length;a++)v.RDFArrayRemove(o,t[a]);for(a=0;a<n.length;a++)o.push(n[a]);var s=e.uri.lastIndexOf(".");if(s<1)throw new Error("Rewriting file: No filename extension: "+e.uri);var l=e.uri.slice(s+1),u=c.CONTENT_TYPE_BY_EXT[l];if(!u)throw new Error("File extension ."+l+" not supported for data write");var f=this.serialize(e.uri,o,u);console.log("Writing back: <<<"+f+">>>");var h=e.uri.slice(7),d=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);if(d.initWithPath(h),!d.exists())throw new Error("Rewriting file <"+e.uri+"> but it does not exist!");var p=Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);for(p.init(d,42,parseInt("0666",8),0),p.write(f,f.length),p.close(),a=0;a<t.length;a++)i.remove(t[a]);for(a=0;a<n.length;a++)i.add(n[a].subject,n[a].predicate,n[a].object,e);r(e.uri,!0,"")}},{key:"serialize",value:function(e,t,n){var r=this.store,i=void 0;if("string"==typeof t)return t;var o=d(r);switch(o.suggestNamespaces(r.namespaces),o.setBase(e),n){case"text/xml":case"application/rdf+xml":i=o.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":i=o.statementsToN3(t);break;default:throw new Error("Content-type "+n+" not supported for data serialization")}return i}},{key:"put",value:function(e,t,n,r){var i=this,o=this.store,a=void 0;return Promise.resolve().then(function(){return a=i.serialize(e.uri,t,n),o.fetcher.webOperation("PUT",e.uri,{contentType:n,body:a})}).then(function(n){if(!n.ok)return r(e.uri,n.ok,n.error,n);delete o.fetcher.nonexistent[e.uri],delete o.fetcher.requested[e.uri],"string"!=typeof t&&t.map(function(e){o.addStatement(e)}),r(e.uri,n.ok,"",n)}).catch(function(t){r(e.uri,!1,t.message)})}},{key:"reload",value:function(e,t,n){var r=Date.now(),i={force:!0,noMeta:!0,clearPreviousData:!0};e.fetcher.nowOrWhenFetched(t.uri,i,function(e,i,o){if(e)if(o.onErrorWasCalled||200!==o.status)console.log("    Non-HTTP error reloading data! onErrorWasCalled="+o.onErrorWasCalled+" status: "+o.status),n(!1,"Non-HTTP error reloading data: "+i,o);else{var a=Date.now()-r;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=a,t.reloadTimeCount+=1,console.log("    Fetch took "+a+"ms, av. of "+t.reloadTimeCount+" = "+t.reloadTimeTotal/t.reloadTimeCount+"ms."),n(!0)}else console.log("    ERROR reloading data: "+i),n(!1,"Error reloading data: "+i,o)})}}]),e}();e.exports=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return new(Function.prototype.bind.apply(i.Impl,[null].concat(Array.prototype.slice.call(arguments))))}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();if(void 0===a)var a=n(18);i.Impl=function(){function e(t,n,i){r(this,e),this._graph=n,Array.isArray(t)?this.nodes=t:this.nodes=[t],this.sources=i}return o(e,[{key:"fetch",value:function(){var e=this;if("NamedNode"!==this.termType||this.sources&&this.sources.indexOf(this.value.split("#")[0])>-1)return Promise.resolve(this);var t=this.value.split("#")[0];return i.rdfFetch(t).then(function(n){return i(e.node,n.graph,[t])})}},{key:"each",value:function(e){var t=this,n=this.nodes.map(function(n){return e(i([n],t.graph,t.sources))});return Promise.all(n)}},{key:"fetchEach",value:function(e){var t=this,n=this.nodes.map(function(n){return i([n],t.graph,t.sources).fetch().then(e)});return Promise.all(n)}},{key:"split",value:function(){var e=this;return this.nodes.map(function(t){return i([t],e.graph,e.sources)})}},{key:"out",value:function(e){return i(this.graph.each(this.node,e),this.graph,this.sources)}},{key:"in",value:function(e){return i(this.graph.statementsMatching(void 0,e,this.node).map(function(e){return e.subject}),this.graph,this.sources)}},{key:"graph",get:function(){if(!this._graph)throw Error("Operation not possible as no Graph is available, try fetching first");return this._graph}},{key:"node",get:function(){if(1!==this.nodes.length)throw Error("Operation not possible as this GraphNode is underdetermined");return this.nodes[0]}},{key:"termType",get:function(){return this.node.termType}},{key:"value",get:function(){return this.node.value}}]),e}(),i.rdfFetch=function(e,t,n){var r=this;return new Promise(function(i,o){var s=a.graph();new a.Fetcher(s,t).fetch(e,{redirect:"follow"}).then(function(t){if(t.status<300)t.graph=s,i(t);else{if(n&&401===t.status)return console.log("Got 401 response, attempting to login"),n().then(function(){return r.rdfFetch(e)});o(t)}})})},e.exports=i},function(e,t,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(n,s){"object"===a(t)&&t&&"string"!=typeof t.nodeName?s(t):(i=[t],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(e){function t(e){return"function"==typeof e}function n(e){return g(e)?"array":void 0===e?"undefined":a(e)}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"===(void 0===e?"undefined":a(e))&&t in e}function o(e,t){return m.call(e,t)}function s(e){return!o(y,e)}function l(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return b[e]})}function u(t,n){function i(e){if("string"==typeof e&&(e=e.split(x,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(r(e[0])+"\\s*"),a=new RegExp("\\s*"+r(e[1])),l=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var o,a,l,u=[],d=[],p=[],v=!1,m=!1;i(n||e.tags);for(var y,b,C,_,E,N,L=new h(t);!L.eos();){if(y=L.pos,C=L.scanUntil(o))for(var O=0,j=C.length;O<j;++O)_=C.charAt(O),s(_)?p.push(d.length):m=!0,d.push(["text",_,y,y+1]),y+=1,"\n"===_&&function(){if(v&&!m)for(;p.length;)delete d[p.pop()];else p=[];v=!1,m=!1}();if(!L.scan(o))break;if(v=!0,b=L.scan(S)||"name",L.scan(w),"="===b?(C=L.scanUntil(k),L.scan(k),L.scanUntil(a)):"{"===b?(C=L.scanUntil(l),L.scan(T),L.scanUntil(a),b="&"):C=L.scanUntil(a),!L.scan(a))throw new Error("Unclosed tag at "+L.pos);if(E=[b,C,y,L.pos],d.push(E),"#"===b||"^"===b)u.push(E);else if("/"===b){if(!(N=u.pop()))throw new Error('Unopened section "'+C+'" at '+y);if(N[1]!==C)throw new Error('Unclosed section "'+N[1]+'" at '+y)}else"name"===b||"{"===b||"&"===b?m=!0:"="===b&&i(C)}if(N=u.pop())throw new Error('Unclosed section "'+N[1]+'" at '+L.pos);return f(c(d))}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function f(e){for(var t,n,r=[],i=r,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function h(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function p(){this.cache={}}var v=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===v.call(e)},m=RegExp.prototype.test,y=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},w=/\s*/,x=/\s+/,k=/\s*=/,T=/\s*\}/,S=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,a,s=this,l=!1;s;){if(e.indexOf(".")>0)for(n=s.view,o=e.split("."),a=0;null!=n&&a<o.length;)a===o.length-1&&(l=i(n,o[a])),n=n[o[a++]];else n=s.view[e],l=i(s.view,e);if(l)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},p.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof d?t:new d(t);return this.renderTokens(r,i,n,e)},p.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,s="",l=0,u=e.length;l<u;++l)a=void 0,i=e[l],o=i[0],"#"===o?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},p.prototype.renderSection=function(e,n,r,i){function o(e){return s.render(e,n,r)}var s=this,l="",u=n.lookup(e[1]);if(u){if(g(u))for(var c=0,f=u.length;c<f;++c)l+=this.renderTokens(e[4],n.push(u[c]),r,i);else if("object"===(void 0===u?"undefined":a(u))||"string"==typeof u||"number"==typeof u)l+=this.renderTokens(e[4],n.push(u),r,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,i.slice(e[3],e[5]),o),null!=u&&(l+=u)}else l+=this.renderTokens(e[4],n,r,i);return l}},p.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||g(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},p.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},p.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},p.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},p.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var C=new p;return e.clearCache=function(){return C.clearCache()},e.parse=function(e,t){return C.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(e,t,r)},e.to_html=function(n,r,i,o){var a=e.render(n,r,i);if(!t(o))return a;o(a)},e.escape=l,e.Scanner=h,e.Context=d,e.Writer=p,e})},function(e,t,n){"use strict";var r=n(18);e.exports={schema:function(e){return r.sym("http://schema.org/"+e)},rdf:function(e){return r.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#"+e)},rdfs:function(e){return r.sym("http://www.w3.org/2000/01/rdf-schema#"+e)},foaf:function(e){return r.sym("http://xmlns.com/foaf/0.1/"+e)},rdf2h:function(e){return r.sym("http://rdf2h.github.io/2015/rdf2h#"+e)}}},function(e,t,n){"use strict";(function(e){var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"object"==a(t)&&"object"==a(e)?s(n(16)):(i=[n(16)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(function(e){e.defineMode("turtle",function(e){function t(e){return new RegExp("^(?:"+e.join("|")+")$","i")}function n(e,t){var n=e.next();if(a=null,"<"==n&&!e.match(/^[\s\u00a0=]/,!1))return e.match(/^[^\s\u00a0>]*>?/),"atom";if('"'==n||"'"==n)return t.tokenize=r(n),t.tokenize(e,t);if(/[{}\(\),\.;\[\]]/.test(n))return a=n,null;if("#"==n)return e.skipToEnd(),"comment";if(u.test(n))return e.eatWhile(u),null;if(":"==n)return"operator";if(e.eatWhile(/[_\w\d]/),":"==e.peek())return"variable-3";var i=e.current();return l.test(i)?"meta":n>="A"&&n<="Z"?"comment":"keyword";var i}function r(e){return function(t,r){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){r.tokenize=n;break}o=!o&&"\\"==i}return"string"}}function i(e,t,n){e.context={prev:e.context,indent:e.indent,col:n,type:t}}function o(e){e.indent=e.context.indent,e.context=e.context.prev}var a,s=e.indentUnit,l=(t([]),t(["@prefix","@base","a"])),u=/[*+\-<>=&|]/;return{startState:function(){return{tokenize:n,context:null,indent:0,col:0}},token:function(e,t){if(e.sol()&&(t.context&&null==t.context.align&&(t.context.align=!1),t.indent=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"!=n&&t.context&&null==t.context.align&&"pattern"!=t.context.type&&(t.context.align=!0),"("==a)i(t,")",e.column());else if("["==a)i(t,"]",e.column());else if("{"==a)i(t,"}",e.column());else if(/[\]\}\)]/.test(a)){for(;t.context&&"pattern"==t.context.type;)o(t);t.context&&a==t.context.type&&o(t)}else"."==a&&t.context&&"pattern"==t.context.type?o(t):/atom|string|variable/.test(n)&&t.context&&(/[\}\]]/.test(t.context.type)?i(t,"pattern",e.column()):"pattern"!=t.context.type||t.context.align||(t.context.align=!0,t.context.col=e.column()));return n},indent:function(e,t){var n=t&&t.charAt(0),r=e.context;if(/[\]\}]/.test(n))for(;r&&"pattern"==r.type;)r=r.prev;var i=r&&n==r.type;return r?"pattern"==r.type?r.col:r.align?r.col+(i?0:1):r.indent+(i?0:s):0},lineComment:"#"}}),e.defineMIME("text/turtle","turtle")})}).call(t,n(17)(e))},function(e,t,n){"use strict";(function(e){var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"object"==a(t)&&"object"==a(e)?s(n(16)):(i=[n(16)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(function(e){e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return je=e,Ae=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),i("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=l,l(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):Oe(e,t,1)?(r(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),i("regexp","string-2")):(e.eat("="),i("operator","operator",e.current()));if("`"==n)return t.tokenize=u,u(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(He.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),i("operator","operator",e.current());if(Ue.test(n)){e.eatWhile(Ue);var o=e.current();if("."!=t.lastType){if(Fe.propertyIsEnumerable(o)){var a=Fe[o];return i(a.type,a.style,o)}if("async"==o&&e.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,!1))return i("async","keyword",o)}return i("variable","variable",o)}}function s(e){return function(t,n){var r,a=!1;if(Me&&"@"==t.peek()&&t.match(Be))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function l(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function u(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(Pe){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),l=qe.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(Ue.test(s))o=!0;else{if(/["'\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}function f(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var o=e.cc;for(ze.state=e,ze.stream=i,ze.marked=null,ze.cc=o,ze.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((o.length?o.pop():De?S:T)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return ze.marked?ze.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)ze.cc.push(arguments[e])}function v(){return p.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=ze.state;if(ze.marked="def",r.context){if(t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function m(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function y(){ze.state.context={prev:ze.state.context,vars:ze.state.localVars},ze.state.localVars=Ve}function b(){ze.state.localVars=ze.state.context.vars,ze.state.context=ze.state.context.prev}function w(e,t){var n=function(){var n=ze.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new f(r,ze.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function x(){var e=ze.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(e){function t(n){return n==e?v():";"==e?p():v(t)}return t}function T(e,t){return"var"==e?v(w("vardef",t.length),re,k(";"),x):"keyword a"==e?v(w("form"),_,T,x):"keyword b"==e?v(w("form"),T,x):"keyword d"==e?ze.stream.match(/^\s*$/,!1)?v():v(w("stat"),N,k(";"),x):"debugger"==e?v(k(";")):"{"==e?v(w("}"),V,x):";"==e?v():"if"==e?("else"==ze.state.lexical.info&&ze.state.cc[ze.state.cc.length-1]==x&&ze.state.cc.pop()(),v(w("form"),_,T,x,le)):"function"==e?v(pe):"for"==e?v(w("form"),ue,T,x):"class"==e||Pe&&"interface"==t?(ze.marked="keyword",v(w("form"),me,x)):"variable"==e?Pe&&"type"==t?(ze.marked="keyword",v(Y,k("operator"),Y,k(";"))):Pe&&"declare"==t?(ze.marked="keyword",v(T)):Pe&&("module"==t||"enum"==t)&&ze.stream.match(/^\s*\w/,!1)?(ze.marked="keyword",v(w("form"),ie,k("{"),w("}"),V,x,x)):Pe&&"namespace"==t?(ze.marked="keyword",v(w("form"),S,V,x)):v(w("stat"),U):"switch"==e?v(w("form"),_,k("{"),w("}","switch"),V,x,x):"case"==e?v(S,k(":")):"default"==e?v(k(":")):"catch"==e?v(w("form"),y,k("("),ve,k(")"),T,x,b):"export"==e?v(w("stat"),xe,x):"import"==e?v(w("stat"),Te,x):"async"==e?v(T):"@"==t?v(S,T):p(w("stat"),S,k(";"),x)}function S(e,t){return E(e,t,!1)}function C(e,t){return E(e,t,!0)}function _(e){return"("!=e?p():v(w(")"),S,k(")"),x)}function E(e,t,n){if(ze.state.fatArrowAt==ze.stream.start){var r=n?R:I;if("("==e)return v(y,w(")"),W(ve,")"),x,k("=>"),r,b);if("variable"==e)return p(y,ie,k("=>"),r,b)}var i=n?O:L;return We.hasOwnProperty(e)?v(i):"function"==e?v(pe,i):"class"==e||Pe&&"interface"==t?(ze.marked="keyword",v(w("form"),ge,x)):"keyword c"==e||"async"==e?v(n?C:S):"("==e?v(w(")"),N,k(")"),x,i):"operator"==e||"spread"==e?v(n?C:S):"["==e?v(w("]"),Ne,x,i):"{"==e?z(H,"}",null,i):"quasi"==e?p(j,i):"new"==e?v(M(n)):v()}function N(e){return e.match(/[;\}\)\],]/)?p():p(S)}function L(e,t){return","==e?v(S):O(e,t,!1)}function O(e,t,n){var r=0==n?L:O,i=0==n?S:C;return"=>"==e?v(y,n?R:I,b):"operator"==e?/\+\+|--/.test(t)||Pe&&"!"==t?v(r):Pe&&"<"==t&&ze.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?v(w(">"),W(Y,">"),x,r):"?"==t?v(S,k(":"),i):v(i):"quasi"==e?p(j,r):";"!=e?"("==e?z(C,")","call",r):"."==e?v(F,r):"["==e?v(w("]"),N,k("]"),x,r):Pe&&"as"==t?(ze.marked="keyword",v(Y,r)):"regexp"==e?(ze.state.lastType=ze.marked="operator",ze.stream.backUp(ze.stream.pos-ze.stream.start-1),v(i)):void 0:void 0}function j(e,t){return"quasi"!=e?p():"${"!=t.slice(t.length-2)?v(j):v(S,A)}function A(e){if("}"==e)return ze.marked="string-2",ze.state.tokenize=u,v(j)}function I(e){return c(ze.stream,ze.state),p("{"==e?T:S)}function R(e){return c(ze.stream,ze.state),p("{"==e?T:C)}function M(e){return function(t){return"."==t?v(e?P:D):"variable"==t&&Pe?v(ee,e?O:L):p(e?C:S)}}function D(e,t){if("target"==t)return ze.marked="keyword",v(L)}function P(e,t){if("target"==t)return ze.marked="keyword",v(O)}function U(e){return":"==e?v(x,T):p(L,k(";"),x)}function F(e){if("variable"==e)return ze.marked="property",v()}function H(e,t){if("async"==e)return ze.marked="property",v(H);if("variable"==e||"keyword"==ze.style){if(ze.marked="property","get"==t||"set"==t)return v(B);var n;return Pe&&ze.state.fatArrowAt==ze.stream.start&&(n=ze.stream.match(/^\s*:\s*/,!1))&&(ze.state.fatArrowAt=ze.stream.pos+n[0].length),v(q)}return"number"==e||"string"==e?(ze.marked=Me?"property":ze.style+" property",v(q)):"jsonld-keyword"==e?v(q):Pe&&m(t)?(ze.marked="keyword",v(H)):"["==e?v(S,X,k("]"),q):"spread"==e?v(C,q):"*"==t?(ze.marked="keyword",v(H)):":"==e?p(q):void 0}function B(e){return"variable"!=e?p(q):(ze.marked="property",v(pe))}function q(e){return":"==e?v(C):"("==e?p(pe):void 0}function W(e,t,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=ze.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),v(function(n,r){return n==t||r==t?p():p(e)},r)}return i==t||o==t?v():v(k(t))}return function(n,i){return n==t||i==t?v():p(e,r)}}function z(e,t,n){for(var r=3;r<arguments.length;r++)ze.cc.push(arguments[r]);return v(w(t,n),W(e,t),x)}function V(e){return"}"==e?v():p(T,V)}function X(e,t){if(Pe){if(":"==e)return v(Y);if("?"==t)return v(X)}}function $(e){if(Pe&&":"==e)return ze.stream.match(/^\s*\w+\s+is\b/,!1)?v(S,G,Y):v(Y)}function G(e,t){if("is"==t)return ze.marked="keyword",v()}function Y(e,t){return"variable"==e||"void"==t?"keyof"==t?(ze.marked="keyword",v(Y)):(ze.marked="type",v(Z)):"string"==e||"number"==e||"atom"==e?v(Z):"["==e?v(w("]"),W(Y,"]",","),x,Z):"{"==e?v(w("}"),W(Q,"}",",;"),x,Z):"("==e?v(W(K,")"),J):void 0}function J(e){if("=>"==e)return v(Y)}function Q(e,t){return"variable"==e||"keyword"==ze.style?(ze.marked="property",v(Q)):"?"==t?v(Q):":"==e?v(Y):"["==e?v(S,X,k("]"),Q):void 0}function K(e){return"variable"==e?v(K):":"==e?v(Y):void 0}function Z(e,t){return"<"==t?v(w(">"),W(Y,">"),x,Z):"|"==t||"."==e?v(Y):"["==e?v(k("]"),Z):"extends"==t||"implements"==t?(ze.marked="keyword",v(Y)):void 0}function ee(e,t){if("<"==t)return v(w(">"),W(Y,">"),x,Z)}function te(){return p(Y,ne)}function ne(e,t){if("="==t)return v(Y)}function re(){return p(ie,X,ae,se)}function ie(e,t){return Pe&&m(t)?(ze.marked="keyword",v(ie)):"variable"==e?(g(t),v()):"spread"==e?v(ie):"["==e?z(ie,"]"):"{"==e?z(oe,"}"):void 0}function oe(e,t){return"variable"!=e||ze.stream.match(/^\s*:/,!1)?("variable"==e&&(ze.marked="property"),"spread"==e?v(ie):"}"==e?p():v(k(":"),ie,ae)):(g(t),v(ae))}function ae(e,t){if("="==t)return v(C)}function se(e){if(","==e)return v(re)}function le(e,t){if("keyword b"==e&&"else"==t)return v(w("form","else"),T,x)}function ue(e){if("("==e)return v(w(")"),ce,k(")"),x)}function ce(e){return"var"==e?v(re,k(";"),he):";"==e?v(he):"variable"==e?v(fe):p(S,k(";"),he)}function fe(e,t){return"in"==t||"of"==t?(ze.marked="keyword",v(S)):v(L,he)}function he(e,t){return";"==e?v(de):"in"==t||"of"==t?(ze.marked="keyword",v(S)):p(S,k(";"),de)}function de(e){")"!=e&&v(S)}function pe(e,t){return"*"==t?(ze.marked="keyword",v(pe)):"variable"==e?(g(t),v(pe)):"("==e?v(y,w(")"),W(ve,")"),x,$,T,b):Pe&&"<"==t?v(w(">"),W(te,">"),x,pe):void 0}function ve(e,t){return"@"==t&&v(S,ve),"spread"==e?v(ve):Pe&&m(t)?(ze.marked="keyword",v(ve)):p(ie,X,ae)}function ge(e,t){return"variable"==e?me(e,t):ye(e,t)}function me(e,t){if("variable"==e)return g(t),v(ye)}function ye(e,t){return"<"==t?v(w(">"),W(te,">"),x,ye):"extends"==t||"implements"==t||Pe&&","==e?v(Pe?Y:S,ye):"{"==e?v(w("}"),be,x):void 0}function be(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||Pe&&m(t))&&ze.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(ze.marked="keyword",v(be)):"variable"==e||"keyword"==ze.style?(ze.marked="property",v(Pe?we:pe,be)):"["==e?v(S,X,k("]"),Pe?we:pe,be):"*"==t?(ze.marked="keyword",v(be)):";"==e?v(be):"}"==e?v():"@"==t?v(S,be):void 0}function we(e,t){return"?"==t?v(we):":"==e?v(Y,ae):"="==t?v(C):p(pe)}function xe(e,t){return"*"==t?(ze.marked="keyword",v(Ee,k(";"))):"default"==t?(ze.marked="keyword",v(S,k(";"))):"{"==e?v(W(ke,"}"),Ee,k(";")):p(T)}function ke(e,t){return"as"==t?(ze.marked="keyword",v(k("variable"))):"variable"==e?p(C,ke):void 0}function Te(e){return"string"==e?v():p(Se,Ce,Ee)}function Se(e,t){return"{"==e?z(Se,"}"):("variable"==e&&g(t),"*"==t&&(ze.marked="keyword"),v(_e))}function Ce(e){if(","==e)return v(Se,Ce)}function _e(e,t){if("as"==t)return ze.marked="keyword",v(Se)}function Ee(e,t){if("from"==t)return ze.marked="keyword",v(S)}function Ne(e){return"]"==e?v():p(W(C,"]"))}function Le(e,t){return"operator"==e.lastType||","==e.lastType||He.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function Oe(e,t,n){return t.tokenize==o&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}var je,Ae,Ie=t.indentUnit,Re=n.statementIndent,Me=n.jsonld,De=n.json||Me,Pe=n.typescript,Ue=n.wordCharacters||/[\w$\xa1-\uffff]/,Fe=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),He=/[+\-*&%=<>!?|~^@]/,Be=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,qe="([{}])",We={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},ze={state:null,column:null,marked:null,cc:null},Ve={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new f((e||0)-Ie,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:e||0};return n.globalVars&&"object"==a(n.globalVars)&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==je?n:(t.lastType="operator"!=je||"++"!=Ae&&"--"!=Ae?je:"incdec",d(t,n,je,Ae,e))},indent:function(t,r){if(t.tokenize==l)return e.Pass;if(t.tokenize!=o)return 0;var i,a=r&&r.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(r))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==x)s=s.prev;else if(c!=le)break}for(;("stat"==s.type||"form"==s.type)&&("}"==a||(i=t.cc[t.cc.length-1])&&(i==L||i==O)&&!/^[,\.=+\-*:?[\(]/.test(r));)s=s.prev;Re&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var f=s.type,h=a==f;return"vardef"==f?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==f&&"{"==a?s.indented:"form"==f?s.indented+Ie:"stat"==f?s.indented+(Le(t,r)?Re||Ie:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:Ie):s.indented+(/^(?:case|default)\b/.test(r)?Ie:2*Ie)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:De?null:"/*",blockCommentEnd:De?null:"*/",blockCommentContinue:De?null:" * ",lineComment:De?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:De?"json":"javascript",jsonldMode:Me,jsonMode:De,expressionAllowed:Oe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=S&&t!=C||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}).call(t,n(17)(e))},function(e,t,n){var r=n(103);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(105)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(104)(!1),t.push([e.i,'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""])},function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=o[1],l=o[2],u=o[3],c={css:s,media:l,sourceMap:u};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=g(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=y++;n=m||(m=s(t)),r=f.bind(null,n,u,!1),i=f.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=d.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=h.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function f(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},v=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),m=null,y=0,b=[],w=n(106);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=v()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=p[s.id];l.refs--,o.push(l)}if(e){r(i(e,t),t)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete p[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}}]);
//# sourceMappingURL=rdf2h-documentation.js.map